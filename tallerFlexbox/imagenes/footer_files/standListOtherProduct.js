webpackJsonp([95],{0:function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(7),__webpack_require__(14),__webpack_require__(70),__webpack_require__(71),__webpack_require__(72),__webpack_require__(73),__webpack_require__(74),__webpack_require__(75),__webpack_require__(77),__webpack_require__(79),__webpack_require__(80),__webpack_require__(105),__webpack_require__(81),__webpack_require__(82),__webpack_require__(83),__webpack_require__(33),__webpack_require__(85),__webpack_require__(84),__webpack_require__(112),__webpack_require__(86),__webpack_require__(87),__webpack_require__(88),__webpack_require__(462),__webpack_require__(90),__webpack_require__(91),__webpack_require__(92),__webpack_require__(93),__webpack_require__(94),__webpack_require__(95),__webpack_require__(96),__webpack_require__(97),__webpack_require__(98),__webpack_require__(99),__webpack_require__(100),__webpack_require__(101),__webpack_require__(102),__webpack_require__(103),__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(109),__webpack_require__(110),__webpack_require__(111)},1:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(infuse){"use strict";function contains(arr,value){for(var i=arr.length;i--;)if(arr[i]===value)return!0;return!1}infuse.version="0.7.0";var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;infuse.InjectorError={MAPPING_BAD_PROP:"[Error infuse.Injector.mapClass/mapValue] the first parameter is invalid, a string is expected",MAPPING_BAD_VALUE:"[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, it can't null or undefined, with property: ",MAPPING_BAD_CLASS:"[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, a function is expected, with property: ",MAPPING_BAD_SINGLETON:"[Error infuse.Injector.mapClass] the third parameter is invalid, a boolean is expected, with property: ",MAPPING_ALREADY_EXISTS:"[Error infuse.Injector.mapClass/mapValue] this mapping already exists, with property: ",CREATE_INSTANCE_INVALID_PARAM:"[Error infuse.Injector.createInstance] invalid parameter, a function is expected",NO_MAPPING_FOUND:"[Error infuse.Injector.getInstance] no mapping found",INJECT_INSTANCE_IN_ITSELF_PROPERTY:"[Error infuse.Injector.getInjectedValue] A matching property has been found in the target, you can't inject an instance in itself",INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR:"[Error infuse.Injector.getInjectedValue] A matching constructor parameter has been found in the target, you can't inject an instance in itself"};var MappingVO=function(prop,value,cl,singleton){this.prop=prop,this.value=value,this.cl=cl,this.singleton=singleton||!1},validateProp=function(prop){if("string"!=typeof prop)throw new Error(infuse.InjectorError.MAPPING_BAD_PROP)},validateValue=function(prop,val){if(void 0===val||null===val)throw new Error(infuse.InjectorError.MAPPING_BAD_VALUE+prop)},validateClass=function(prop,val){if("function"!=typeof val)throw new Error(infuse.InjectorError.MAPPING_BAD_CLASS+prop)},validateBooleanSingleton=function(prop,singleton){if("boolean"!=typeof singleton)throw new Error(infuse.InjectorError.MAPPING_BAD_SINGLETON+prop)},validateConstructorInjectionLoop=function(name,cl){if(contains(infuse.getConstructorParams(cl),name))throw new Error(infuse.InjectorError.INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR)},validatePropertyInjectionLoop=function(name,target){if(target.hasOwnProperty(name))throw new Error(infuse.InjectorError.INJECT_INSTANCE_IN_ITSELF_PROPERTY)};infuse.Injector=function(){this.mappings={},this.parent=null},infuse.getConstructorParams=function(cl){function extractName(all,underscore,name){args.push(name)}var inject,args=[];cl.hasOwnProperty("inject")&&"[object Array]"===toString.call(cl.inject)&&cl.inject.length>0&&(inject=cl.inject);for(var clStr=cl.toString().replace(STRIP_COMMENTS,""),argsFlat=clStr.match(FN_ARGS),spl=argsFlat[1].split(FN_ARG_SPLIT),i=0;i<spl.length;i++){(inject&&inject[i]?inject[i]:spl[i]).replace(FN_ARG,extractName)}return args},infuse.Injector.prototype={createChild:function(){var injector=new infuse.Injector;return injector.parent=this,injector},getMappingVo:function(prop){return this.mappings?this.mappings[prop]?this.mappings[prop]:this.parent?this.parent.getMappingVo(prop):null:null},mapValue:function(prop,val){if(this.mappings[prop])throw new Error(infuse.InjectorError.MAPPING_ALREADY_EXISTS+prop);return validateProp(prop),validateValue(prop,val),this.mappings[prop]=new MappingVO(prop,val,void 0,void 0),this},mapClass:function(prop,cl,singleton){if(this.mappings[prop])throw new Error(infuse.InjectorError.MAPPING_ALREADY_EXISTS+prop);return validateProp(prop),validateClass(prop,cl),singleton&&validateBooleanSingleton(prop,singleton),this.mappings[prop]=new MappingVO(prop,null,cl,singleton),this},removeMapping:function(prop){return this.mappings[prop]=null,delete this.mappings[prop],this},hasMapping:function(prop){return!!this.mappings[prop]},hasInheritedMapping:function(prop){return!!this.getMappingVo(prop)},getMapping:function(value){for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.mappings[name];if(vo.value===value||vo.cl===value)return vo.prop}},getValue:function(prop){var vo=this.mappings[prop];if(!vo){if(this.parent)return this.parent.getValue.apply(this.parent,arguments);throw new Error(infuse.InjectorError.NO_MAPPING_FOUND)}if(vo.cl){var args=Array.prototype.slice.call(arguments);return args[0]=vo.cl,vo.singleton?(vo.value||(vo.value=this.createInstance.apply(this,args)),vo.value):this.createInstance.apply(this,args)}return vo.value},getClass:function(prop){var vo=this.mappings[prop];return vo?vo.cl?vo.cl:void 0:this.parent?this.parent.getClass(prop):void 0},instantiate:function(TargetClass){if("function"!=typeof TargetClass)throw new Error(infuse.InjectorError.CREATE_INSTANCE_INVALID_PARAM);for(var args=[null],params=infuse.getConstructorParams(TargetClass),i=0;i<params.length;i++)if(void 0!==arguments[i+1]&&null!==arguments[i+1])args.push(arguments[i+1]);else{var name=params[i],vo=this.getMappingVo(name);if(vo){var val=this.getInjectedValue(vo,name);args.push(val)}else args.push(void 0)}return new(Function.prototype.bind.apply(TargetClass,args))},inject:function(target,isParent){this.parent&&this.parent.inject(target,!0);for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.getMappingVo(name);(target.hasOwnProperty(vo.prop)||target.constructor&&target.constructor.prototype&&target.constructor.prototype.hasOwnProperty(vo.prop))&&(target[name]=this.getInjectedValue(vo,name))}return"function"!=typeof target.postConstruct||isParent||target.postConstruct(),this},getInjectedValue:function(vo,name){var injectee,val=vo.value;return vo.cl&&(vo.singleton?(vo.value||(validateConstructorInjectionLoop(name,vo.cl),vo.value=this.instantiate(vo.cl),injectee=vo.value),val=vo.value):(validateConstructorInjectionLoop(name,vo.cl),val=this.instantiate(vo.cl),injectee=val)),injectee&&(validatePropertyInjectionLoop(name,injectee),this.inject(injectee)),val},createInstance:function(){var instance=this.instantiate.apply(this,arguments);return this.inject(instance),instance},getValueFromClass:function(cl){for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.mappings[name];if(vo.cl===cl)return vo.singleton?(vo.value||(vo.value=this.createInstance.apply(this,arguments)),vo.value):this.createInstance.apply(this,arguments)}if(this.parent)return this.parent.getValueFromClass.apply(this.parent,arguments);throw new Error(infuse.InjectorError.NO_MAPPING_FOUND)},dispose:function(){this.mappings={}}},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new Error("Error, you must bind a function.");var args=Array.prototype.slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(Array.prototype.slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(Array.prototype.slice.call(arguments)))};return bound}),__WEBPACK_AMD_DEFINE_FACTORY__=infuse,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=infuse),exports=infuse}(this.infuse=this.infuse||{}),function(soma){"use strict";soma.events={},soma.events.version="0.5.6",Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new Error("Error, you must bind a function.");var args=Array.prototype.slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(Array.prototype.slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(Array.prototype.slice.call(arguments)))};return bound}),soma.Event=function(type,params,bubbles,cancelable){var e=soma.Event.createGenericEvent(type,bubbles,cancelable);return null!==params&&void 0!==params&&(e.params=params),e.isCloned=!1,e.clone=this.clone.bind(e),e.isIE9orIE10=this.isIE9orIE10,e.isDefaultPrevented=this.isDefaultPrevented,(this.isIE9orIE10()||!e.preventDefault||void 0===e.getDefaultPrevented&&void 0===e.defaultPrevented)&&(e.preventDefault=this.preventDefault.bind(e)),this.isIE9orIE10()&&(e.IE9or10PreventDefault=!1),e},soma.Event.prototype.clone=function(){var e=soma.Event.createGenericEvent(this.type,this.bubbles,this.cancelable);return e.params=this.params,e.isCloned=!0,e.clone=this.clone,e.isDefaultPrevented=this.isDefaultPrevented,e.isIE9orIE10=this.isIE9orIE10,this.isIE9orIE10()&&(e.IE9or10PreventDefault=this.IE9or10PreventDefault),e},soma.Event.prototype.preventDefault=function(){return!!this.cancelable&&(this.isIE9orIE10()?this.IE9or10PreventDefault=!0:this.defaultPrevented=!0,this)},soma.Event.prototype.isDefaultPrevented=function(){return!!this.cancelable&&(this.isIE9orIE10()?this.IE9or10PreventDefault:void 0!==this.defaultPrevented?this.defaultPrevented:void 0!==this.getDefaultPrevented&&this.getDefaultPrevented())},soma.Event.createGenericEvent=function(type,bubbles,cancelable){var event;return bubbles=void 0===bubbles||bubbles,"object"==typeof document&&document.createEvent?(event=document.createEvent("Event"),event.initEvent(type,!!bubbles,!!cancelable)):"object"==typeof document&&document.createEventObject?(event=document.createEventObject(),event.type=type,event.bubbles=!!bubbles,event.cancelable=!!cancelable):event=new EventObject(type,!!bubbles,!!cancelable),event},soma.Event.prototype.isIE9orIE10=function(){return"object"==typeof document&&(void 0!==document.body.style.scrollbar3dLightColor&&void 0!==document.body.style.opacity||void 0!==document.body.style.msTouchAction)},soma.Event.prototype.toString=function(){return"[soma.Event]"};var EventObject=function(type,bubbles,cancelable){this.type=type,this.bubbles=!!bubbles,this.cancelable=!!cancelable,this.defaultPrevented=!1,this.currentTarget=null,this.target=null};soma.EventDispatcher=function(){this.listeners=[]},soma.EventDispatcher.prototype.addEventListener=function(type,listener,priority){if(this.listeners&&type&&listener){isNaN(priority)&&(priority=0);for(var i=0;i<this.listeners.length;i++){var eventObj=this.listeners[i];if(eventObj.type===type&&eventObj.listener===listener)return}this.listeners.push({type:type,listener:listener,priority:priority,scope:this})}},soma.EventDispatcher.prototype.removeEventListener=function(type,listener){if(this.listeners&&type&&listener)for(var i=this.listeners.length;i-- >0;){var eventObj=this.listeners[i];eventObj.type===type&&eventObj.listener===listener&&this.listeners.splice(i,1)}},soma.EventDispatcher.prototype.hasEventListener=function(type){if(!this.listeners||!type)return!1;for(var i=0,l=this.listeners.length;i<l;++i){if(this.listeners[i].type===type)return!0}return!1},soma.EventDispatcher.prototype.dispatchEvent=function(event){if(!this.listeners||!event)throw new Error("Error in EventDispatcher (dispatchEvent), one of the parameters is null or undefined.");var i,events=[];for(i=0;i<this.listeners.length;i++){var eventObj=this.listeners[i];eventObj.type===event.type&&events.push(eventObj)}for(events.sort(function(a,b){return b.priority-a.priority}),i=0;i<events.length;i++)events[i].listener.apply(event.srcElement?event.srcElement:event.currentTarget,[event]);return!event.isDefaultPrevented()},soma.EventDispatcher.prototype.dispatch=function(type,params,bubbles,cancelable){if(!this.listeners||!type||""===type)throw new Error("Error in EventDispatcher (dispatch), one of the parameters is null or undefined.");var event=new soma.Event(type,params,bubbles,cancelable);return this.dispatchEvent(event),event},soma.EventDispatcher.prototype.dispose=function(){this.listeners=null},soma.EventDispatcher.prototype.toString=function(){return"[soma.EventDispatcher]"},__WEBPACK_AMD_DEFINE_FACTORY__=soma,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=soma),exports=soma}(this.soma=this.soma||{}),function(soma,infuse){"use strict";soma.version="2.1.1",soma.applyProperties=function(target,extension,bindToExtension,list){if("[object Array]"===Object.prototype.toString.apply(list))for(var i=0,l=list.length;i<l;i++)void 0!==target[list[i]]&&null!==target[list[i]]||(bindToExtension&&"function"==typeof extension[list[i]]?target[list[i]]=extension[list[i]].bind(extension):target[list[i]]=extension[list[i]]);else for(var prop in extension)bindToExtension&&"function"==typeof extension[prop]?target[prop]=extension[prop].bind(extension):target[prop]=extension[prop]},soma.augment=function(target,extension,list){if(extension.prototype&&target.prototype)if("[object Array]"===Object.prototype.toString.apply(list))for(var i=0,l=list.length;i<l;i++)target.prototype[list[i]]||(target.prototype[list[i]]=extension.prototype[list[i]]);else for(var prop in extension.prototype)target.prototype[prop]||(target.prototype[prop]=extension.prototype[prop])},soma.inherit=function(parent,obj){var Subclass;Subclass=obj&&obj.hasOwnProperty("constructor")?obj.constructor:function(){return parent.apply(this,arguments)};var Chain=function(){};return Chain.prototype=parent.prototype,Subclass.prototype=new Chain,obj&&soma.applyProperties(Subclass.prototype,obj),Subclass.prototype.constructor=Subclass,Subclass.parent=parent.prototype,Subclass.extend=function(obj){return soma.inherit(Subclass,obj)},Subclass},soma.extend=function(obj){return soma.inherit(function(){},obj)};var plugins=[];soma.plugins=soma.plugins||{},soma.plugins.add=function(plugin){plugins.push(plugin)},soma.plugins.remove=function(plugin){for(var i=plugins.length-1,l=0;i>=l;i--)plugin===plugins[i]&&plugins.splice(i,1)},soma.Application=soma.extend({constructor:function(){function setup(){self.injector=new infuse.Injector(self.dispatcher),self.dispatcher=new soma.EventDispatcher,self.injector.mapValue("injector",self.injector),self.injector.mapValue("instance",self),self.injector.mapValue("dispatcher",self.dispatcher),self.injector.mapClass("mediators",Mediators,!0),self.mediators=self.injector.getValue("mediators"),self.injector.mapClass("commands",Commands,!0),self.commands=self.injector.getValue("commands");for(var i=0,l=plugins.length;i<l;i++)self.createPlugin(plugins[i])}var self=this;setup.bind(this)(),this.init(),this.start()},createPlugin:function(){if(0===arguments.length||!arguments[0])throw new Error("Error creating a plugin, plugin class is missing.");for(var params=infuse.getConstructorParams(arguments[0]),args=[arguments[0]],i=0,l=params.length;i<l;i++)this.injector.hasMapping(params[i])||this.injector.hasInheritedMapping(params[i])?args.push(this.injector.getValue(params[i])):args.push(void 0);var a=args.length-1;for(args.length;a>=0&&void 0===args[a];a--)args.splice(a,1);for(var j=1,k=arguments.length;j<k;j++)args.push(arguments[j]);return this.injector.createInstance.apply(this.injector,args)},init:function(){},start:function(){},dispose:function(){this.injector&&(this.injector.removeMapping("injector"),this.injector.removeMapping("dispatcher"),this.injector.removeMapping("mediators"),this.injector.removeMapping("commands"),this.injector.removeMapping("instance")),this.injector&&this.injector.dispose(),this.dispatcher&&this.dispatcher.dispose(),this.mediators&&this.mediators.dispose(),this.commands&&this.commands.dispose(),this.injector=void 0,this.dispatcher=void 0,this.mediators=void 0,this.commands=void 0,this.instance=void 0}});var Mediators=soma.extend({constructor:function(){this.injector=null,this.dispatcher=null},create:function(cl,target){if(!cl||"function"!=typeof cl)throw new Error("Error creating a mediator, the first parameter must be a function.");if(void 0===target||null===target)throw new Error("Error creating a mediator, the second parameter cannot be undefined or null.");var targets=[],meds=[];target.length>0?targets=target:targets.push(target);for(var i=0,l=targets.length;i<l;i++){var injector=this.injector.createChild();injector.mapValue("target",targets[i]);var mediator=injector.createInstance(cl);if(1===targets.length)return mediator;meds.push(mediator)}return meds},dispose:function(){this.injector=void 0,this.dispatcher=void 0}}),Commands=soma.extend({constructor:function(){this.boundHandler=this.handler.bind(this),this.dispatcher=null,this.injector=null,this.list={}},has:function(commandName){return null!==this.list[commandName]&&void 0!==this.list[commandName]},get:function(commandName){if(this.has(commandName))return this.list[commandName]},getAll:function(){var copy={};for(var cmd in this.list)this.list.hasOwnProperty(cmd)&&(copy[cmd]=this.list[cmd]);return copy},add:function(commandName,command){if("string"!=typeof commandName)throw new Error("Error adding a command, the first parameter must be a string.");if("function"!=typeof command)throw new Error('Error adding a command with the name "'+command+'", the second parameter must be a function, and must contain an "execute" public method.');if(this.has(commandName))throw new Error('Error adding a command with the name: "'+commandName+'", already registered.');this.list[commandName]=command,this.addInterceptor(commandName)},remove:function(commandName){this.has(commandName)&&(this.list[commandName]=void 0,delete this.list[commandName],this.removeInterceptor(commandName))},addInterceptor:function(commandName){this.dispatcher.addEventListener(commandName,this.boundHandler,-Number.MAX_VALUE)},removeInterceptor:function(commandName){this.dispatcher.removeEventListener(commandName,this.boundHandler)},handler:function(event){event.isDefaultPrevented&&!event.isDefaultPrevented()&&this.executeCommand(event)},executeCommand:function(event){var commandName=event.type;if(this.has(commandName)){var command=this.injector.createInstance(this.list[commandName]);if(!command.hasOwnProperty("execute")&&"function"===command.execute)throw new Error("Error in "+this+" Command "+command+" must contain an execute public method.");command.execute(event)}},dispose:function(){for(var cmd in this.list)this.list.hasOwnProperty(cmd)&&this.remove(cmd);this.boundHandler=void 0,this.dispatcher=void 0,this.injector=void 0,this.list=void 0}});soma.EventDispatcher.extend=function(obj){return soma.inherit(soma.EventDispatcher,obj)},soma.Event.extend=function(obj){return soma.inherit(soma.Event,obj)},infuse.Injector.extend=function(obj){return soma.inherit(infuse.Injector,obj)},__WEBPACK_AMD_DEFINE_FACTORY__=soma,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports?module.exports=soma:window.soma=soma}(this.soma=this.soma||{},this.infuse)},2:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(soma){!function(soma){"use strict";function isArray(value){return"[object Array]"===Object.prototype.toString.apply(value)}function isObject(value){return"object"==typeof value}function isString(value){return"string"==typeof value}function isElement(value){return!!value&&value.nodeType>0}function isTextNode(el){return el&&el.nodeType&&3===el.nodeType}function isFunction(value){return value&&"function"==typeof value}function isDefined(value){return null!==value&&void 0!==value}function normalizeBoolean(value){return!!isDefined(value)&&("true"===value||"1"===value||!0===value||1===value||!("false"===value||"0"===value||!1===value||0===value||isString(value)&&hasInterpolation(value))&&!!value)}function isExpression(value){return value&&isFunction(value.toString)&&"[object Expression]"===value.toString()}function isExpFunction(value){return!!isString(value)&&!!value.match(regex.func)}function childNodeIsTemplate(node){return node&&node.parent&&templates.get(node.element)}function escapeRegExp(str){return str.replace(regex.escape,"\\$&")}function setRegEX(nonEscapedValue,isStartToken){var unescapedCurrentStartToken=tokens.start().replace(/\\/g,""),endSequence="",ts=isStartToken?nonEscapedValue:unescapedCurrentStartToken;ts.length>1&&(endSequence="|\\"+ts.substr(0,1)+"(?!\\"+ts.substr(1,1)+")[^"+ts.substr(0,1)+"]*"),regex.sequence=new RegExp(tokens.start()+".+?"+tokens.end()+"|[^"+tokens.start()+"]+"+endSequence,"g"),regex.token=new RegExp(tokens.start()+".*?"+tokens.end(),"g"),regex.expression=new RegExp(tokens.start()+"|"+tokens.end(),"gm")}function trim(value){return value.replace(regex.trim,"")}function trimQuotes(value){return regex.string.test(value)?value.substr(1,value.length-2):value}function trimArray(value){return""===value[0]&&value.shift(),""===value[value.length-1]&&value.pop(),value}function trimTokens(value){return value.replace(regex.expression,"")}function trimScopeDepth(value){return value.replace(regex.depth,"")}function insertBefore(referenceNode,newNode){referenceNode.parentNode&&referenceNode.parentNode.insertBefore(newNode,referenceNode)}function insertAfter(referenceNode,newNode){referenceNode.parentNode&&referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)}function removeClass(elm,className){var rmc;(rmc="object"==typeof document&&document.documentElement.classList?function(elm,className){elm.classList.remove(className)}:function(elm,className){if(!elm||!elm.className)return!1;var reg=new RegExp("(^|\\s)"+className+"(\\s|$)","g");elm.className=elm.className.replace(reg,"$2")})(elm,className)}function HashMap(id){function uuid(){return++count+id}function getKey(target){if(target){if("object"!=typeof target)return target;var result;try{result=target[id]?target[id]:target[id]=uuid()}catch(err){}return result}}var items={},count=0;this.remove=function(key){delete items[getKey(key)]},this.get=function(key){return items[getKey(key)]},this.put=function(key,value){items[getKey(key)]=value},this.has=function(key){return void 0!==items[getKey(key)]},this.getData=function(){return items},this.dispose=function(){for(var key in items)items.hasOwnProperty(key)&&delete items[key];this.length=0}}function getRepeaterData(repeaterValue,scope){var parts=repeaterValue.match(regex.repeat);if(parts){var source=parts[2];return new Expression(source).getValue(scope)}}function updateScopeWithRepeaterData(repeaterValue,scope,data){var parts=repeaterValue.match(regex.repeat);if(parts){scope[parts[1]]=data}}function getWatcherValue(exp,newValue){var node=exp.node||exp.attribute.node,watchers=node.template.watchers,nodeTarget=node.element;if(!watchers)return newValue;var watcherNode=watchers.get(nodeTarget);!watcherNode&&isTextNode(node.element)&&node.parent&&(watcherNode=watchers.get(node.parent.element));var watcher=watcherNode||watchers.get(exp.pattern);if(isFunction(watcher)){var watcherValue=watcher(exp.value,newValue,exp.pattern,node.scope,node,exp.attribute);if(isDefined(watcherValue))return watcherValue}return newValue}function getScopeFromPattern(scope,pattern){for(var depth=getScopeDepth(pattern),scopeTarget=scope;depth>0;)scopeTarget=scopeTarget._parent?scopeTarget._parent:scopeTarget,depth--;return scopeTarget}function getValueFromPattern(scope,pattern,context){var exp=new Expression(pattern);return getValue(scope,exp.pattern,exp.path,exp.params,void 0,void 0,void 0,context)}function getValue(scope,pattern,pathString,params,getFunction,getParams,paramsFound,context){if(pattern===vars.element)return context[vars.element];if(pattern===vars.parentElement)return context[vars.parentElement];if(pattern===vars.attribute)return context[vars.attribute];if(pattern===vars.scope)return context[vars.scope];if(regex.string.test(pattern))return trimQuotes(pattern);if(!isNaN(pattern))return+pattern;var paramsValues=[];if(!paramsFound&&params)for(var j=0,jl=params.length;j<jl;j++)paramsValues.push(getValueFromPattern(scope,params[j],context));else paramsValues=paramsFound;if(getParams)return paramsValues;var scopeTarget=getScopeFromPattern(scope,pattern);if(pattern=pattern.replace(/..\//g,""),pathString=pathString.replace(/..\//g,""),scopeTarget){var path=scopeTarget,pathParts=pathString.split(/\.|\[|\]/g);if(pathParts.length>0)for(var i=0,l=pathParts.length;i<l;i++)if(""!==pathParts[i]&&(path=path[pathParts[i]]),!isDefined(path))return scopeTarget._parent?getValue(scopeTarget._parent,pattern,pathString,params,getFunction,getParams,paramsValues):void 0;return isFunction(path)?getFunction?path:path.apply(null,paramsValues):path}}function getExpressionPath(value){var val=value.split("(")[0];return val=trimScopeDepth(val)}function getParamsFromString(value){return trimArray(value.split(regex.params))}function getScopeDepth(value){var val=value.split("(")[0],matches=val.match(regex.depth);return matches?matches.length:0}function addAttribute(node,name,value){var attr;return node.attributes=node.attributes||[],name===settings.attributes.skip&&(node.skip=normalizeBoolean(value)),name===settings.attributes.html&&(node.html=normalizeBoolean(value)),name!==settings.attributes.repeat||node.isRepeaterDescendant||(node.repeater=value),(hasInterpolation(name+":"+value)||name===settings.attributes.repeat||name===settings.attributes.skip||name===settings.attributes.html||name===settings.attributes.show||name===settings.attributes.hide||name===settings.attributes.href||name===settings.attributes.class||name===settings.attributes.checked||name===settings.attributes.disabled||name===settings.attributes.multiple||name===settings.attributes.readonly||name===settings.attributes.selected||-1!==value.indexOf(settings.attributes.cloak))&&(attr=new Attribute(name,value,node),node.attributes.push(attr)),events[name]&&(attr=new Attribute(name,value,node),node.attributes.push(attr)),attr}function getNodeFromElement(element,scope){var node=new Node(element,scope);node.previousSibling=element.previousSibling,node.nextSibling=element.nextSibling;for(var attr,eventsArray=[],attrs=element.attributes,j=0,jj=attrs&&attrs.length;j<jj;j++)if(attr=attrs[j],attr.specified||"value"===attr.name){var newAttr=addAttribute(node,attr.name,attr.value);events[attr.name]&&events[attr.name]&&!node.isRepeaterChild&&eventsArray.push({name:events[attr.name],value:attr.value,attr:newAttr})}for(var a=0,b=eventsArray.length;a<b;a++)node.addEvent(eventsArray[a].name,eventsArray[a].value,eventsArray[a].attr);return node}function hasInterpolation(value){var matches=value.match(regex.token);return matches&&matches.length>0}function hasContent(value){return regex.content.test(value)}function isElementValid(element){if(element){var type=element.nodeType;return!(!element||!type)&&(8!==type&&!(3===type&&!hasContent(element.nodeValue)&&!hasInterpolation(element.nodeValue)))}}function compile(template,element,parent,nodeTarget){if(isElementValid(element)){var node;if(nodeTarget?(node=nodeTarget,node.parent=parent):node=getNodeFromElement(element,parent?parent.scope:new Scope(helpersScopeObject)._createChild()),parent&&(parent.repeater||parent.isRepeaterChild)&&(node.isRepeaterChild=!0),node.template=template,!node.skip){for(var child=element.firstChild;child;){var childNode=compile(template,child,node);childNode&&(childNode.parent=node,node.children.push(childNode)),child=child.nextSibling}return node}}}function updateScopeWithData(scope,data){clearScope(scope);for(var d in data)data.hasOwnProperty(d)&&(scope[d]=data[d])}function clearScope(scope){for(var key in scope)scope.hasOwnProperty(key)&&"_"!==key.substr(0,1)&&(scope[key]=null,delete scope[key])}function updateNodeChildren(node){if(!node.repeater&&node.children&&!childNodeIsTemplate(node))for(var i=0,l=node.children.length;i<l;i++)node.children[i].update()}function renderNodeChildren(node){if(node.children&&!childNodeIsTemplate(node))for(var i=0,l=node.children.length;i<l;i++)node.children[i].render()}function renderNodeRepeater(node){var previousElement,data=getRepeaterData(node.repeater,node.scope);if(isArray(data)){for(var i=0,l1=data.length,l2=node.childrenRepeater.length,l=l1>l2?l1:l2;i<l;i++)i<l1?previousElement=createRepeaterChild(node,i,data[i],vars.index,i,previousElement):(node.parent.element.removeChild(node.childrenRepeater[i].element),node.childrenRepeater[i].dispose());node.childrenRepeater.length>data.length&&(node.childrenRepeater.length=data.length)}else{var count=-1;for(var o in data)data.hasOwnProperty(o)&&(count++,previousElement=createRepeaterChild(node,count,data[o],vars.key,o,previousElement));for(var size=count;count++<node.childrenRepeater.length-1;)node.parent.element.removeChild(node.childrenRepeater[count].element),node.childrenRepeater[count].dispose();node.childrenRepeater.length=size+1}node.element.parentNode&&node.element.parentNode.removeChild(node.element)}function compileClone(node,newNode){if(isElementValid(newNode.element)){if(node.attributes)for(var i=0,l=node.attributes.length;i<l;i++){var attr=node.attributes[i],newAttr=addAttribute(newNode,attr.name,attr.value);events[attr.name]&&newNode.addEvent(events[attr.name],attr.value,newAttr)}for(var child=node.element.firstChild,newChild=newNode.element.firstChild;child&&newChild;){var childNode=node.getNode(child),newChildNode=new Node(newChild,newNode.scope);newNode.children.push(newChildNode),newChildNode.parent=newNode,newChildNode.template=newNode.template,newChildNode.isRepeaterChild=!0;var compiledNode=compileClone(childNode,newChildNode);compiledNode&&(compiledNode.parent=newChildNode,compiledNode.template=newChildNode.template,newChildNode.children.push(compiledNode)),child=child.nextSibling,newChild=newChild.nextSibling}return newChildNode}}function cloneRepeaterNode(element,node){var newNode=new Node(element,node.scope._createChild());return newNode.template=node.template,newNode.parent=node,newNode.isRepeaterChild=!0,newNode.isRepeaterDescendant=!0,compileClone(node,newNode),newNode}function appendRepeaterElement(previousElement,node,newElement){
previousElement?insertAfter(previousElement,newElement):node.element.previousSibling?insertAfter(node.element.previousSibling,newElement):node.element.nextSibling?insertBefore(node.element.nextSibling,newElement):node.parent.element.appendChild(newElement)}function createRepeaterChild(node,count,data,indexVar,indexVarValue,previousElement){var existingChild=node.childrenRepeater[count];if(existingChild)return updateScopeWithRepeaterData(node.repeater,existingChild.scope,data),existingChild.scope[indexVar]=indexVarValue,existingChild.update(),existingChild.render(),existingChild.element;var newElement=node.element.cloneNode(!0);appendRepeaterElement(previousElement,node,newElement);var newNode=cloneRepeaterNode(newElement,node);return node.childrenRepeater[count]=newNode,updateScopeWithRepeaterData(node.repeater,newNode.scope,data),newNode.scope[indexVar]=indexVarValue,newNode.update(),newNode.render(),newElement}function addEvent(element,type,handler){if(element.addEventListener)element.addEventListener(type,handler,!1);else{handler.$$guid||(handler.$$guid=addEvent.guid++),element.events||(element.events={});var handlers=element.events[type];handlers||(handlers=element.events[type]={},element["on"+type]&&(handlers[0]=element["on"+type])),handlers[handler.$$guid]=handler,element["on"+type]=function(event){var returnValue=!0;event=event||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var handlers=this.events[event.type];for(var i in handlers)handlers.hasOwnProperty(i)&&(this.$$handleEvent=handlers[i],!1===this.$$handleEvent(event)&&(returnValue=!1));return returnValue}}}function removeEvent(element,type,handler){element.removeEventListener?element.removeEventListener(type,handler,!1):element.events&&element.events[type]&&delete element.events[type][handler.$$guid]}function fixEvent(event){return event.preventDefault=fixEvent.preventDefault,event.stopPropagation=fixEvent.stopPropagation,event}function parseEvents(element,object,depth){maxDepth=void 0===depth?Number.MAX_VALUE:depth,parseNode(element,object,0,!0)}function parseNode(element,object,depth,isRoot){if(!isElement(element))throw new Error("Error in soma.template.parseEvents, only a DOM Element can be parsed.");if(isRoot&&parseAttributes(element,object),0!==maxDepth)for(var child=element.firstChild;child;)1===child.nodeType&&depth<maxDepth&&(parseNode(child,object,++depth),parseAttributes(child,object)),child=child.nextSibling}function parseAttributes(element,object){for(var attr,name,value,attrs=element.attributes,j=0,jj=attrs&&attrs.length;j<jj;j++)if(attr=attrs[j],attr.specified&&(name=attr.name,value=attr.value,events[name])){var handler=getHandlerFromPattern(object,value);handler&&isFunction(handler)&&(addEvent(element,events[name],handler),eventStore.push({element:element,type:events[name],handler:handler}))}}function getHandlerFromPattern(object,pattern){var parts=pattern.match(regex.func);if(parts){var func=parts[1];if(isFunction(object[func]))return object[func]}}function clearEvents(element){for(var i=eventStore.length,l=0;--i>=l;){var item=eventStore[i];(element===item.element||contains(element,item.element))&&(removeEvent(item.element,item.type,item.handler),eventStore.splice(i,1))}}function bootstrapTemplate(attrValue,element,func){var tpl=createTemplate(element);func(tpl,tpl.scope,tpl.element,tpl.node)}function createTemplate(source,target){var element;if(isString(source)){if(!isElement(target))throw new Error(soma.template.errors.TEMPLATE_STRING_NO_ELEMENT);target.innerHTML=source,element=target}else{if(!isElement(source))throw new Error(soma.template.errors.TEMPLATE_NO_PARAM);isElement(target)?(target.innerHTML=source.innerHTML,element=target):element=source}getTemplate(element)&&(getTemplate(element).dispose(),templates.remove(element));var template=new Template(element);return templates.put(element,template),template}function getTemplate(element){return templates.get(element)}function renderAllTemplates(){var data=templates.getData();for(var key in templates.getData())data.hasOwnProperty(key)&&templates.get(key).render()}function appendHelpers(obj){if(null===obj&&(helpersObject={},helpersScopeObject={}),isDefined(obj)&&isObject(obj))for(var key in obj)obj.hasOwnProperty(key)&&(helpersObject[key]=helpersScopeObject[key]=obj[key]);return helpersObject}soma.template=soma.template||{},soma.template.version="0.3.0",soma.template.errors={TEMPLATE_STRING_NO_ELEMENT:"Error in soma.template, a string template requirement a second parameter: an element target - soma.template.create('string', element)",TEMPLATE_NO_PARAM:"Error in soma.template, a template requires at least 1 parameter - soma.template.create(element)"};var tokenStart="{{",tokenEnd="}}",helpersObject={},helpersScopeObject={},settings=soma.template.settings=soma.template.settings||{};settings.autocreate=!0;var tokens=settings.tokens={start:function(value){return isDefined(value)&&""!==value&&(tokenStart=escapeRegExp(value),setRegEX(value,!0)),tokenStart},end:function(value){return isDefined(value)&&""!==value&&(tokenEnd=escapeRegExp(value),setRegEX(value,!1)),tokenEnd}},attributes=settings.attributes={skip:"data-skip",repeat:"data-repeat",src:"data-src",href:"data-href",show:"data-show",hide:"data-hide",cloak:"data-cloak",checked:"data-checked",disabled:"data-disabled",multiple:"data-multiple",readonly:"data-readonly",selected:"data-selected",template:"data-template",html:"data-html",class:"data-class"},vars=settings.vars={index:"$index",key:"$key",element:"$element",parentElement:"$parentElement",attribute:"$attribute",scope:"$scope"},events=settings.events={};settings.eventsPrefix="data-";var eventsString="click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup focus blur change select selectstart scroll copy cut paste mousewheel keypress error contextmenu input textinput drag dragenter dragleave dragover dragend dragstart dragover drop load submit reset search resize beforepaste beforecut beforecopy";eventsString+=" touchstart touchend touchmove touchenter touchleave touchcancel gesturestart gesturechange gestureend";for(var eventsArray=eventsString.split(" "),i=-1,l=eventsArray.length;++i<l;)events[settings.eventsPrefix+eventsArray[i]]=eventsArray[i];var regex={sequence:null,token:null,expression:null,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,trim:/^[\s+]+|[\s+]+$/g,repeat:/(.*)\s+in\s+(.*)/,func:/(.*)\((.*)\)/,params:/,\s+|,|\s+,\s+/,quote:/\"|\'/g,content:/[^.|^\s]/gm,depth:/..\//g,string:/^(\"|\')(.*)(\"|\')$/},ie=function(){if("object"==typeof document){for(var v=3,stop=!1,div=document.createElement("div");!stop;)div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e",div.getElementsByTagName("i")[0]||(stop=!0);return v>4?v:void 0}}(),contains="object"!=typeof document?function(){}:document.documentElement.contains?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&1===bup.nodeType&&adown.contains&&adown.contains(bup))}:document.documentElement.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},Scope=function(data){function createChild(data){var obj=createObject(data);return obj._parent=self,self._children.push(obj),obj}function createObject(data){var obj=data||{};return obj._parent=null,obj._children=[],obj._createChild=function(){return self=obj,createChild.apply(obj,arguments)},obj}var self;return createObject(data)},Node=function(element,scope){this.element=element,this.scope=scope,this.attributes=null,this.value=null,this.interpolation=null,this.invalidate=!1,this.skip=!1,this.repeater=null,this.isRepeaterDescendant=!1,this.isRepeaterChild=!1,this.parent=null,this.children=[],this.childrenRepeater=[],this.previousSibling=null,this.nextSibling=null,this.template=null,this.eventHandlers={},this.html=!1,isTextNode(this.element)&&(this.value=this.element.nodeValue,this.interpolation=new Interpolation(this.value,this,void 0))};Node.prototype={toString:function(){return"[object Node]"},dispose:function(){this.clearEvents();var i,l;if(this.children)for(i=0,l=this.children.length;i<l;i++)this.children[i].dispose();if(this.childrenRepeater)for(i=0,l=this.childrenRepeater.length;i<l;i++)this.childrenRepeater[i].dispose();if(this.attributes)for(i=0,l=this.attributes.length;i<l;i++)this.attributes[i].dispose();this.interpolation&&this.interpolation.dispose(),this.element=null,this.scope=null,this.attributes=null,this.value=null,this.interpolation=null,this.repeater=null,this.parent=null,this.children=null,this.childrenRepeater=null,this.previousSibling=null,this.nextSibling=null,this.template=null,this.eventHandlers=null},getNode:function(element){var node;if(element===this.element)return this;if(this.childrenRepeater.length>0)for(var k=0,kl=this.childrenRepeater.length;k<kl;k++)if(node=this.childrenRepeater[k].getNode(element))return node;for(var i=0,l=this.children.length;i<l;i++)if(node=this.children[i].getNode(element))return node;return null},getAttribute:function(name){if(this.attributes)for(var i=0,l=this.attributes.length;i<l;i++){var att=this.attributes[i];if(att.interpolationName&&att.interpolationName.value===name)return att}},update:function(){if(!childNodeIsTemplate(this)){if(isDefined(this.interpolation)&&this.interpolation.update(),isDefined(this.attributes))for(var i=0,l=this.attributes.length;i<l;i++)this.attributes[i].update();updateNodeChildren(this)}},invalidateData:function(){if(!childNodeIsTemplate(this)){this.invalidate=!0;var i,l;if(this.attributes)for(i=0,l=this.attributes.length;i<l;i++)this.attributes[i].invalidate=!0;for(i=0,l=this.childrenRepeater.length;i<l;i++)this.childrenRepeater[i].invalidateData();for(i=0,l=this.children.length;i<l;i++)this.children[i].invalidateData()}},addEvent:function(type,pattern,attr){if(!this.repeater){this.eventHandlers[type]&&this.removeEvent(type);var scope=this.scope,node=this,handler=function(event){var exp=new Expression(pattern,node,attr),func=exp.getValue(scope,!0),params=exp.getValue(scope,!1,!0);params.unshift(event),func&&func.apply(null,params)};this.eventHandlers[type]=handler,addEvent(this.element,type,handler)}},removeEvent:function(type){removeEvent(this.element,type,this.eventHandlers[type]),this.eventHandlers[type]=null,delete this.eventHandlers[type]},clearEvents:function(){if(this.eventHandlers)for(var key in this.eventHandlers)this.eventHandlers.hasOwnProperty(key)&&this.removeEvent(key);if(this.children)for(var k=0,kl=this.children.length;k<kl;k++)this.children[k].clearEvents();if(this.childrenRepeater)for(var f=0,fl=this.childrenRepeater.length;f<fl;f++)this.childrenRepeater[f].clearEvents()},render:function(){if(!childNodeIsTemplate(this)){if(this.invalidate&&(this.invalidate=!1,isTextNode(this.element)&&(this.parent&&this.parent.html?this.value=this.parent.element.innerHTML=this.interpolation.render():this.value=this.element.nodeValue=this.interpolation.render())),this.attributes)for(var i=0,l=this.attributes.length;i<l;i++)this.attributes[i].render();this.repeater?renderNodeRepeater(this):renderNodeChildren(this)}}};var Attribute=function(name,value,node){this.name=name,this.value=value,this.node=node,this.interpolationName=new Interpolation(this.name,null,this),this.interpolationValue=new Interpolation(this.value,null,this),this.invalidate=!1};Attribute.prototype={toString:function(){return"[object Attribute]"},dispose:function(){this.interpolationName&&this.interpolationName.dispose(),this.interpolationValue&&this.interpolationValue.dispose(),this.interpolationName=null,this.interpolationValue=null,this.node=null,this.name=null,this.value=null,this.previousName=null},update:function(){this.node.repeater||(this.interpolationName.update(),this.interpolationValue.update())},render:function(){function renderAttribute(name,value,node){"value"===name&&void 0!==node.element.value?element.value=value:7===ie&&"class"===name?element.className=value:element.setAttribute(name,value)}function renderSpecialAttribute(value,attrName){normalizeBoolean(value)?element.setAttribute(attrName,attrName):element.removeAttribute(attrName)}function renderSrc(value){element.setAttribute("src",value)}function renderHref(value){element.setAttribute("href",value)}if(!this.node.repeater){var element=this.node.element;if(this.invalidate&&(this.invalidate=!1,this.previousName=this.name,this.name=isDefined(this.interpolationName.render())?this.interpolationName.render():this.name,this.value=isDefined(this.interpolationValue.render())?this.interpolationValue.render():this.value,this.name===attributes.src?renderSrc(this.value):this.name===attributes.href?renderHref(this.value):((7!==ie||7===ie&&!this.node.isRepeaterChild)&&this.node.element.removeAttribute(this.interpolationName.value),this.previousName&&(7===ie&&"class"===this.previousName?this.node.element.className="":(7!==ie||7===ie&&!this.node.isRepeaterChild)&&this.node.element.removeAttribute(this.previousName)),renderAttribute(this.name,this.value,this.node))),this.name===attributes.class){var classConfig,configProperty,propValue,valueResult;try{classConfig=JSON.parse(this.value)}catch(ex){throw new Error("Error, the value of a data-class attribute must be a valid JSON: "+this.value)}for(configProperty in classConfig)propValue=classConfig[configProperty],valueResult=!!propValue&&normalizeBoolean(propValue),!!propValue&&normalizeBoolean(propValue),valueResult?this.node.element.classList.add(configProperty):removeClass(this.node.element,configProperty)}if("class"===this.name&&-1!==this.value.indexOf(settings.attributes.cloak)&&removeClass(this.node.element,settings.attributes.cloak),this.name===attributes.hide){var bool=normalizeBoolean(this.value);renderAttribute(this.name,bool,this.node),element.style.display=bool?"none":""}if(this.name===attributes.show){var bool=normalizeBoolean(this.value);renderAttribute(this.name,bool,this.node),element.style.display=bool?"":"none"}if(this.name===attributes.checked&&(renderSpecialAttribute(this.value,"checked"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node),element.checked=!!normalizeBoolean(this.value)),this.name===attributes.disabled&&(renderSpecialAttribute(this.value,"disabled"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node)),this.name===attributes.multiple&&(renderSpecialAttribute(this.value,"multiple"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node)),this.name===attributes.readonly){var bool=normalizeBoolean(this.value);7===ie?element.readOnly=!!bool:renderSpecialAttribute(this.value,"readonly"),renderAttribute(this.name,!!bool,this.node)}this.name===attributes.selected&&(renderSpecialAttribute(this.value,"selected"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node))}}};var Interpolation=function(value,node,attribute){this.value=node&&!isTextNode(node.element)?trim(value):value,this.node=node,this.attribute=attribute,this.sequence=[],this.expressions=[];var parts=this.value.match(regex.sequence);if(parts){for(var i=0,l=parts.length;i<l;i++)if(parts[i].match(regex.token)){var exp=new Expression(trimTokens(parts[i]),this.node,this.attribute);this.sequence.push(exp),this.expressions.push(exp)}else this.sequence.push(parts[i]);trimArray(this.sequence)}};Interpolation.prototype={toString:function(){return"[object Interpolation]"},dispose:function(){if(this.expressions)for(var i=0,l=this.expressions.length;i<l;i++)this.expressions[i].dispose();this.value=null,this.node=null,this.attribute=null,this.sequence=null,this.expressions=null},update:function(){for(var i=-1,l=this.expressions.length;++i<l;)this.expressions[i].update()},render:function(){var rendered="";if(this.sequence)for(var i=0,l=this.sequence.length;i<l;i++){var val="";val=isExpression(this.sequence[i])?this.sequence[i].value:this.sequence[i],isDefined(val)||(val=""),rendered+=val}return rendered}};var Expression=function(pattern,node,attribute){isDefined(pattern)&&(this.pattern=pattern,this.isString=regex.string.test(pattern),this.node=node,this.attribute=attribute,this.value=this.isString?this.pattern:void 0,this.isString?(this.isFunction=!1,this.depth=null,this.path=null,this.params=null):(this.isFunction=isExpFunction(this.pattern),this.depth=getScopeDepth(this.pattern),this.path=getExpressionPath(this.pattern),this.params=this.isFunction?getParamsFromString(this.pattern.match(regex.func)[2]):null))};Expression.prototype={toString:function(){return"[object Expression]"},dispose:function(){this.pattern=null,this.node=null,this.attribute=null,this.path=null,this.params=null,this.value=null},update:function(){var node=this.node;if(!node&&this.attribute&&(node=this.attribute.node),node||!node.scope){var newValue=this.getValue(node.scope);newValue=getWatcherValue(this,newValue),this.value!==newValue&&(this.value=newValue,(this.node||this.attribute).invalidate=!0)}},getValue:function(scope,getFunction,getParams){var node=this.node;!node&&this.attribute&&(node=this.attribute.node);var context={};return node&&(context[vars.element]=node.element,node.element&&(context[vars.parentElement]=node.element.parentNode)),context[vars.attribute]=this.attribute,context[vars.scope]=scope,getValue(scope,this.pattern,this.path,this.params,getFunction,getParams,void 0,context)}};var templates=new HashMap("st"),Template=function(element){this.watchers=new HashMap("stw"),this.node=null,this.scope=null,this.compile(element)};Template.prototype={toString:function(){return"[object Template]"},compile:function(element){element&&(this.element=element),this.node&&this.node.dispose(),this.node=compile(this,this.element),this.node.root=!0,this.scope=this.node.scope},update:function(data){isDefined(data)&&updateScopeWithData(this.node.scope,data),this.node&&this.node.update()},render:function(data){this.update(data),this.node&&this.node.render()},invalidate:function(){this.node&&this.node.invalidateData()},watch:function(target,watcher){(isString(target)||isElement(target))&&isFunction(watcher)&&this.watchers.put(target,watcher)},unwatch:function(target){this.watchers.remove(target)},clearWatchers:function(){this.watchers.dispose()},clearEvents:function(){this.node.clearEvents()},getNode:function(element){return this.node.getNode(element)},dispose:function(){templates.remove(this.element),this.watchers&&this.watchers.dispose(),this.node&&this.node.dispose(),this.element=null,this.watchers=null,this.node=null}},addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0};var maxDepth,ready,eventStore=[];if("object"==typeof document){var ready=function(){function l(b){for(k=1;b=a.shift();)b()}var b,a=[],c=!1,d=document,e=d.documentElement,f=e.doScroll,g="DOMContentLoaded",h="addEventListener",i="onreadystatechange",j="readyState",k=/^loade|c/.test(d[j]);return d[h]&&d[h](g,b=function(){d.removeEventListener(g,b,c),l()},c),f&&d.attachEvent(i,b=function(){/^c/.test(d[j])&&(d.detachEvent(i,b),l())}),f?function(b){self!=top?k?b():a.push(b):function(){try{e.doScroll("left")}catch(a){return setTimeout(function(){ready(b)},50)}b()}()}:function(b){k?b():a.push(b)}}();if(settings.autocreate){var parse=function(element){for(var child=element?element.firstChild:document.body;child;){if(1===child.nodeType){parse(child);var attrValue=child.getAttribute(attributes.template);if(attrValue){var getFunction=new Function("return "+attrValue+";"),f=getFunction();isFunction(f)&&soma.template.bootstrap(attrValue,child,f)}}child=child.nextSibling}};ready(parse)}}tokens.start(tokenStart),tokens.end(tokenEnd),soma.plugins=soma.plugins||{};var TemplatePlugin=function(instance,injector){instance.constructor.prototype.createTemplate=function(cl,domElement){if(!cl||"function"!=typeof cl)throw new Error("Error creating a template, the first parameter must be a function.");if(domElement&&isElement(domElement)){var template=soma.template.create(domElement);for(var key in template)"function"==typeof template[key]&&(cl.prototype[key]=template[key].bind(template));cl.prototype.render=template.render.bind(template);var childInjector=injector.createChild();return childInjector.mapValue("template",template),childInjector.mapValue("scope",template.scope),childInjector.mapValue("element",template.element),childInjector.createInstance(cl)}return null},soma.template.bootstrap=function(attrValue,element,func){instance.createTemplate(func,element)}};soma.plugins&&soma.plugins.add&&soma.plugins.add(TemplatePlugin),soma.template.Plugin=TemplatePlugin,soma.template.create=createTemplate,soma.template.get=getTemplate,soma.template.renderAll=renderAllTemplates,soma.template.helpers=appendHelpers,soma.template.bootstrap=bootstrapTemplate,soma.template.addEvent=addEvent,soma.template.removeEvent=removeEvent,soma.template.parseEvents=parseEvents,soma.template.clearEvents=clearEvents,soma.template.ready=ready,__WEBPACK_AMD_DEFINE_FACTORY__=soma.template,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=soma.template),exports=soma.template}(soma)}).call(exports,__webpack_require__(1))},3:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(window,document,undefined){!function(factory){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($){"use strict";function QTip(target,options,id,attr){this.id=id,this.target=target,this.tooltip=NULL,this.elements={target:target},this._id=NAMESPACE+"-"+id,this.timers={img:{}},this.options=options,this.plugins={},this.cache={event:{},target:$(),disabled:FALSE,attr:attr,onTooltip:FALSE,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=FALSE}function invalidOpt(a){return a===NULL||"object"!==$.type(a)}function invalidContent(c){return!($.isFunction(c)||c&&c.attr||c.length||"object"===$.type(c)&&(c.jquery||c.then))}function sanitizeOptions(opts){var content,text,ajax,once;return invalidOpt(opts)?FALSE:(invalidOpt(opts.metadata)&&(opts.metadata={type:opts.metadata}),"content"in opts&&(content=opts.content,invalidOpt(content)||content.jquery||content.done?content=opts.content={text:text=invalidContent(content)?FALSE:content}:text=content.text,"ajax"in content&&(ajax=content.ajax,once=ajax&&ajax.once!==FALSE,delete content.ajax,content.text=function(event,api){var loading=text||$(this).attr(api.options.content.attr)||"Loading...",deferred=$.ajax($.extend({},ajax,{context:api})).then(ajax.success,NULL,ajax.error).then(function(content){return content&&once&&api.set("content.text",content),content},function(xhr,status,error){api.destroyed||0===xhr.status||api.set("content.text",status+": "+error)});return once?loading:(api.set("content.text",loading),deferred)}),"title"in content&&(invalidOpt(content.title)||(content.button=content.title.button,content.title=content.title.text),invalidContent(content.title||FALSE)&&(content.title=FALSE))),"position"in opts&&invalidOpt(opts.position)&&(opts.position={my:opts.position,at:opts.position}),"show"in opts&&invalidOpt(opts.show)&&(opts.show=opts.show.jquery?{target:opts.show}:opts.show===TRUE?{ready:TRUE}:{event:opts.show}),"hide"in opts&&invalidOpt(opts.hide)&&(opts.hide=opts.hide.jquery?{target:opts.hide}:{event:opts.hide}),"style"in opts&&invalidOpt(opts.style)&&(opts.style={classes:opts.style}),$.each(PLUGINS,function(){this.sanitize&&this.sanitize(opts)}),opts)}function convertNotation(options,notation){for(var obj,i=0,option=options,levels=notation.split(".");option=option[levels[i++]];)i<levels.length&&(obj=option);return[obj||options,levels.pop()]}function setCallback(notation,args){var category,rule,match;for(category in this.checks)for(rule in this.checks[category])(match=new RegExp(rule,"i").exec(notation))&&(args.push(match),("builtin"===category||this.plugins[category])&&this.checks[category][rule].apply(this.plugins[category]||this,args))}function createWidgetClass(cls){return WIDGET.concat("").join(cls?"-"+cls+" ":" ")}function cloneEvent(event){return event&&{type:event.type,pageX:event.pageX,pageY:event.pageY,target:event.target,relatedTarget:event.relatedTarget,scrollX:event.scrollX||window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,scrollY:event.scrollY||window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop}||{}}function delay(callback,duration){if(duration>0)return setTimeout($.proxy(callback,this),duration);callback.call(this)}function showMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED))return FALSE;null!==this.timers&&(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=delay.call(this,function(){this.toggle(TRUE,event)},this.options.show.delay))}function hideMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED))return FALSE;var relatedTarget=$(event.relatedTarget),ontoTooltip=relatedTarget.closest(SELECTOR)[0]===this.tooltip[0],ontoTarget=relatedTarget[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==relatedTarget[0]&&"mouse"===this.options.position.target&&ontoTooltip||this.options.hide.fixed&&/mouse(out|leave|move)/.test(event.type)&&(ontoTooltip||ontoTarget))try{event.preventDefault(),event.stopImmediatePropagation()}catch(e){}else this.timers.hide=delay.call(this,function(){this.toggle(FALSE,event)},this.options.hide.delay,this)}function inactiveMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED)||!this.options.hide.inactive)return FALSE;null!==this.timers&&(clearTimeout(this.timers.inactive),this.timers.inactive=delay.call(this,function(){this.hide(event)},this.options.hide.inactive))}function repositionMethod(event){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(event)}function delegate(selector,events,method){$(document.body).delegate(selector,(events.split?events:events.join(ns+" "))+ns,function(){var api=QTIP.api[$.attr(this,ATTR_ID)];api&&!api.disabled&&method.apply(api,arguments)})}function init(elem,id,opts){var obj,posOptions,attr,config,title,docBody=$(document.body),newTarget=elem[0]===document?docBody:elem,metadata=elem.metadata?elem.metadata(opts.metadata):NULL,metadata5="html5"===opts.metadata.type&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||"qtipopts");try{html5="string"==typeof html5?$.parseJSON(html5):html5}catch(e){}if(config=$.extend(TRUE,{},QTIP.defaults,opts,"object"==typeof html5?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata)),posOptions=config.position,config.id=id,"boolean"==typeof config.content.text){if(attr=elem.attr(config.content.attr),config.content.attr===FALSE||!attr)return FALSE;config.content.text=attr}if(posOptions.container.length||(posOptions.container=docBody),posOptions.target===FALSE&&(posOptions.target=newTarget),config.show.target===FALSE&&(config.show.target=newTarget),config.show.solo===TRUE&&(config.show.solo=posOptions.container.closest("body")),config.hide.target===FALSE&&(config.hide.target=newTarget),config.position.viewport===TRUE&&(config.position.viewport=posOptions.container),posOptions.container=posOptions.container.eq(0),posOptions.at=new CORNER(posOptions.at,TRUE),posOptions.my=new CORNER(posOptions.my),elem.data(NAMESPACE))if(config.overwrite)elem.qtip("destroy",!0);else if(config.overwrite===FALSE)return FALSE;return elem.attr(ATTR_HAS,id),config.suppress&&(title=elem.attr("title"))&&elem.removeAttr("title").attr(oldtitle,title).attr("title",""),obj=new QTip(elem,config,id,!!attr),elem.data(NAMESPACE,obj),elem.one("remove.qtip-"+id+" removeqtip.qtip-"+id,function(){var api;(api=$(this).data(NAMESPACE))&&api.destroy(!0)}),obj}function camel(s){return s.charAt(0).toUpperCase()+s.slice(1)}function vendorCss(elem,prop){var cur,val,ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssPrefixes.join(ucProp+" ")+ucProp).split(" "),i=0;if(cssProps[prop])return elem.css(cssProps[prop]);for(;cur=props[i++];)if((val=elem.css(cur))!==undefined)return cssProps[prop]=cur,val}function intCss(elem,prop){return Math.ceil(parseFloat(vendorCss(elem,prop)))}function Tip(qtip,options){this._ns="tip",this.options=options,this.offset=options.offset,this.size=[options.width,options.height],this.init(this.qtip=qtip)}function Modal(api,options){this.options=options,this._ns="-modal",this.init(this.qtip=api)}function Ie6(api,qtip){this._ns="ie6",this.init(this.qtip=api)}var QTIP,PROTOTYPE,CORNER,CHECKS,trackingBound,TRUE=!0,FALSE=!1,NULL=null,X="x",Y="y",WIDTH="width",HEIGHT="height",TOP="top",LEFT="left",BOTTOM="bottom",RIGHT="right",CENTER="center",FLIPINVERT="flipinvert",SHIFT="shift",PLUGINS={},NAMESPACE="qtip",ATTR_HAS="data-hasqtip",ATTR_ID="data-qtip-id",WIDGET=["ui-widget","ui-tooltip"],SELECTOR="."+NAMESPACE,INACTIVE_EVENTS="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),CLASS_FIXED=NAMESPACE+"-fixed",CLASS_DEFAULT=NAMESPACE+"-default",CLASS_FOCUS=NAMESPACE+"-focus",CLASS_HOVER=NAMESPACE+"-hover",CLASS_DISABLED=NAMESPACE+"-disabled",replaceSuffix="_replacedByqTip",oldtitle="oldtitle",BROWSER={ie:function(){for(var v=3,div=document.createElement("div");(div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e")&&div.getElementsByTagName("i")[0];);return v>4?v:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||FALSE};PROTOTYPE=QTip.prototype,PROTOTYPE._when=function(deferreds){return $.when.apply($,deferreds)},PROTOTYPE.render=function(show){if(this.rendered||this.destroyed)return this;var self=this,options=this.options,cache=this.cache,elements=this.elements,text=options.content.text,title=options.content.title,button=options.content.button,posOptions=options.position,deferreds=(this._id,[]);return $.attr(this.target[0],"aria-describedby",this._id),this.tooltip=elements.tooltip=$("<div/>",{id:this._id,class:[NAMESPACE,CLASS_DEFAULT,options.style.classes,NAMESPACE+"-pos-"+options.position.my.abbrev()].join(" "),width:options.style.width||"",height:options.style.height||"",tracking:"mouse"===posOptions.target&&posOptions.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":FALSE,"aria-describedby":this._id+"-content","aria-hidden":TRUE}).toggleClass(CLASS_DISABLED,this.disabled).attr(ATTR_ID,this.id).data(NAMESPACE,this).appendTo(posOptions.container).append(elements.content=$("<div />",{class:NAMESPACE+"-content",id:this._id+"-content","aria-atomic":TRUE})),this.rendered=-1,this.positioning=TRUE,title&&(this._createTitle(),$.isFunction(title)||deferreds.push(this._updateTitle(title,FALSE))),button&&this._createButton(),$.isFunction(text)||deferreds.push(this._updateContent(text,FALSE)),this.rendered=TRUE,this._setWidget(),$.each(PLUGINS,function(name){var instance;"render"===this.initialize&&(instance=this(self))&&(self.plugins[name]=instance)}),this._unassignEvents(),this._assignEvents(),this._when(deferreds).then(function(){self._trigger("render"),self.positioning=FALSE,self.hiddenDuringWait||!options.show.ready&&!show||self.toggle(TRUE,cache.event,FALSE),self.hiddenDuringWait=FALSE}),QTIP.api[this.id]=this,this},PROTOTYPE.destroy=function(immediate){function process(){if(!this.destroyed){this.destroyed=TRUE;var target=this.target,title=target.attr(oldtitle)
;this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),$.each(this.plugins,function(name){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr("aria-describedby"),this.options.suppress&&title&&target.attr("title",title).removeAttr(oldtitle),this._unbind(target),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=NULL,delete QTIP.api[this.id]}}return this.destroyed?this.target:(immediate===TRUE&&"hide"!==this.triggering||!this.rendered?process.call(this):(this.tooltip.one("tooltiphidden",$.proxy(process,this)),!this.triggering&&this.hide()),this.target)},CHECKS=PROTOTYPE.checks={builtin:{"^id$":function(obj,o,v,prev){var id=v===TRUE?QTIP.nextid:v,new_id=NAMESPACE+"-"+id;id!==FALSE&&id.length>0&&!$("#"+new_id).length?(this._id=new_id,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):obj[o]=prev},"^prerender":function(obj,o,v){v&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(obj,o,v){this._updateContent(v)},"^content.attr$":function(obj,o,v,prev){this.options.content.text===this.target.attr(prev)&&this._updateContent(this.target.attr(v))},"^content.title$":function(obj,o,v){if(!v)return this._removeTitle();v&&!this.elements.title&&this._createTitle(),this._updateTitle(v)},"^content.button$":function(obj,o,v){this._updateButton(v)},"^content.title.(text|button)$":function(obj,o,v){this.set("content."+o,v)},"^position.(my|at)$":function(obj,o,v){"string"==typeof v&&(obj[o]=new CORNER(v,"at"===o))},"^position.container$":function(obj,o,v){this.rendered&&this.tooltip.appendTo(v)},"^show.ready$":function(obj,o,v){v&&(!this.rendered&&this.render(TRUE)||this.toggle(TRUE))},"^style.classes$":function(obj,o,v,p){this.rendered&&this.tooltip.removeClass(p).addClass(v)},"^style.(width|height)":function(obj,o,v){this.rendered&&this.tooltip.css(o,v)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(obj,o,v){this.rendered&&this.tooltip.toggleClass(CLASS_DEFAULT,!!v)},"^events.(render|show|move|hide|focus|blur)$":function(obj,o,v){this.rendered&&this.tooltip[($.isFunction(v)?"":"un")+"bind"]("tooltip"+o,v)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var posOptions=this.options.position;this.tooltip.attr("tracking","mouse"===posOptions.target&&posOptions.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},PROTOTYPE.get=function(notation){if(this.destroyed)return this;var o=convertNotation(this.options,notation.toLowerCase()),result=o[0][o[1]];return result.precedance?result.string():result};var rmove=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rrender=/^prerender|show\.ready/i;PROTOTYPE.set=function(option,value){if(this.destroyed)return this;var name,rendered=this.rendered,reposition=FALSE,options=this.options;this.checks;return"string"==typeof option?(name=option,option={},option[name]=value):option=$.extend({},option),$.each(option,function(notation,value){if(rendered&&rrender.test(notation))return void delete option[notation];var previous,obj=convertNotation(options,notation.toLowerCase());previous=obj[0][obj[1]],obj[0][obj[1]]=value&&value.nodeType?$(value):value,reposition=rmove.test(notation)||reposition,option[notation]=[obj[0],obj[1],value,previous]}),sanitizeOptions(options),this.positioning=TRUE,$.each(option,$.proxy(setCallback,this)),this.positioning=FALSE,this.rendered&&this.tooltip[0].offsetWidth>0&&reposition&&this.reposition("mouse"===options.position.target?NULL:this.cache.event),this},PROTOTYPE._update=function(content,element,reposition){var self=this,cache=this.cache;return this.rendered&&content?($.isFunction(content)&&(content=content.call(this.elements.target,cache.event,this)||""),$.isFunction(content.then)?(cache.waiting=TRUE,content.then(function(c){return cache.waiting=FALSE,self._update(c,element)},NULL,function(e){return self._update(e,element)})):content===FALSE||!content&&""!==content?FALSE:(content.jquery&&content.length>0?element.empty().append(content.css({display:"block",visibility:"visible"})):element.html(content),this._waitForContent(element).then(function(images){images.images&&images.images.length&&self.rendered&&self.tooltip[0].offsetWidth>0&&self.reposition(cache.event,!images.length)}))):FALSE},PROTOTYPE._waitForContent=function(element){var cache=this.cache;return cache.waiting=TRUE,($.fn.imagesLoaded?element.imagesLoaded():$.Deferred().resolve([])).done(function(){cache.waiting=FALSE}).promise()},PROTOTYPE._updateContent=function(content,reposition){this._update(content,this.elements.content,reposition)},PROTOTYPE._updateTitle=function(content,reposition){this._update(content,this.elements.title,reposition)===FALSE&&this._removeTitle(FALSE)},PROTOTYPE._createTitle=function(){var elements=this.elements,id=this._id+"-title";elements.titlebar&&this._removeTitle(),elements.titlebar=$("<div />",{class:NAMESPACE+"-titlebar "+(this.options.style.widget?createWidgetClass("header"):"")}).append(elements.title=$("<div />",{id:id,class:NAMESPACE+"-title","aria-atomic":TRUE})).insertBefore(elements.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(event){$(this).toggleClass("ui-state-active ui-state-focus","down"===event.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(event){$(this).toggleClass("ui-state-hover","mouseover"===event.type)}),this.options.content.button&&this._createButton()},PROTOTYPE._removeTitle=function(reposition){var elements=this.elements;elements.title&&(elements.titlebar.remove(),elements.titlebar=elements.title=elements.button=NULL,reposition!==FALSE&&this.reposition())},PROTOTYPE.reposition=function(event,effect){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=TRUE;var pluginCalculations,offset,cache=this.cache,tooltip=this.tooltip,posOptions=this.options.position,target=posOptions.target,my=posOptions.my,at=posOptions.at,viewport=posOptions.viewport,container=posOptions.container,adjust=posOptions.adjust,method=adjust.method.split(" "),tooltipWidth=tooltip.outerWidth(FALSE),tooltipHeight=tooltip.outerHeight(FALSE),targetWidth=0,targetHeight=0,type=tooltip.css("position"),position={left:0,top:0},visible=tooltip[0].offsetWidth>0,isScroll=event&&"scroll"===event.type,win=$(window),doc=container[0].ownerDocument,mouse=this.mouse;if($.isArray(target)&&2===target.length)at={x:LEFT,y:TOP},position={left:target[0],top:target[1]};else if("mouse"===target)at={x:LEFT,y:TOP},!mouse||!mouse.pageX||!adjust.mouse&&event&&event.pageX?event&&event.pageX||((!adjust.mouse||this.options.show.distance)&&cache.origin&&cache.origin.pageX?event=cache.origin:event&&(!event||"resize"!==event.type&&"scroll"!==event.type)||(event=cache.event)):event=mouse,"static"!==type&&(position=container.offset()),doc.body.offsetWidth!==(window.innerWidth||doc.documentElement.clientWidth)&&(offset=$(document.body).offset()),position={left:event.pageX-position.left+(offset&&offset.left||0),top:event.pageY-position.top+(offset&&offset.top||0)},adjust.mouse&&isScroll&&mouse&&(position.left-=(mouse.scrollX||0)-win.scrollLeft(),position.top-=(mouse.scrollY||0)-win.scrollTop());else{if("event"===target?event&&event.target&&"scroll"!==event.type&&"resize"!==event.type?cache.target=$(event.target):event.target||(cache.target=this.elements.target):"event"!==target&&(cache.target=$(target.jquery?target:this.elements.target)),target=cache.target,target=$(target).eq(0),0===target.length)return this;target[0]===document||target[0]===window?(targetWidth=BROWSER.iOS?window.innerWidth:target.width(),targetHeight=BROWSER.iOS?window.innerHeight:target.height(),target[0]===window&&(position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()})):PLUGINS.imagemap&&target.is("area")?pluginCalculations=PLUGINS.imagemap(this,target,at,PLUGINS.viewport?method:FALSE):PLUGINS.svg&&target&&target[0].ownerSVGElement?pluginCalculations=PLUGINS.svg(this,target,at,PLUGINS.viewport?method:FALSE):(targetWidth=target.outerWidth(FALSE),targetHeight=target.outerHeight(FALSE),position=target.offset()),pluginCalculations&&(targetWidth=pluginCalculations.width,targetHeight=pluginCalculations.height,offset=pluginCalculations.offset,position=pluginCalculations.position),position=this.reposition.offset(target,position,container),(BROWSER.iOS>3.1&&BROWSER.iOS<4.1||BROWSER.iOS>=4.3&&BROWSER.iOS<4.33||!BROWSER.iOS&&"fixed"===type)&&(position.left-=win.scrollLeft(),position.top-=win.scrollTop()),(!pluginCalculations||pluginCalculations&&pluginCalculations.adjustable!==FALSE)&&(position.left+=at.x===RIGHT?targetWidth:at.x===CENTER?targetWidth/2:0,position.top+=at.y===BOTTOM?targetHeight:at.y===CENTER?targetHeight/2:0)}return position.left+=adjust.x+(my.x===RIGHT?-tooltipWidth:my.x===CENTER?-tooltipWidth/2:0),position.top+=adjust.y+(my.y===BOTTOM?-tooltipHeight:my.y===CENTER?-tooltipHeight/2:0),PLUGINS.viewport?(position.adjusted=PLUGINS.viewport(this,position,posOptions,targetWidth,targetHeight,tooltipWidth,tooltipHeight),offset&&position.adjusted.left&&(position.left+=offset.left),offset&&position.adjusted.top&&(position.top+=offset.top)):position.adjusted={left:0,top:0},this._trigger("move",[position,viewport.elem||viewport],event)?(delete position.adjusted,effect===FALSE||!visible||isNaN(position.left)||isNaN(position.top)||"mouse"===target||!$.isFunction(posOptions.effect)?tooltip.css(position):$.isFunction(posOptions.effect)&&(posOptions.effect.call(tooltip,this,$.extend({},position)),tooltip.queue(function(next){$(this).css({opacity:"",height:""}),BROWSER.ie&&this.style.removeAttribute("filter"),next()})),this.positioning=FALSE,this):this},PROTOTYPE.reposition.offset=function(elem,pos,container){function scroll(e,i){pos.left+=i*e.scrollLeft(),pos.top+=i*e.scrollTop()}if(!container[0])return pos;var scrolled,position,parentOffset,overflow,ownerDocument=$(elem[0].ownerDocument),quirks=!!BROWSER.ie&&"CSS1Compat"!==document.compatMode,parent=container[0];do{"static"!==(position=$.css(parent,"position"))&&("fixed"===position?(parentOffset=parent.getBoundingClientRect(),scroll(ownerDocument,-1)):(parentOffset=$(parent).position(),parentOffset.left+=parseFloat($.css(parent,"borderLeftWidth"))||0,parentOffset.top+=parseFloat($.css(parent,"borderTopWidth"))||0),pos.left-=parentOffset.left+(parseFloat($.css(parent,"marginLeft"))||0),pos.top-=parentOffset.top+(parseFloat($.css(parent,"marginTop"))||0),scrolled||"hidden"===(overflow=$.css(parent,"overflow"))||"visible"===overflow||(scrolled=$(parent)))}while(parent=parent.offsetParent);return scrolled&&(scrolled[0]!==ownerDocument[0]||quirks)&&scroll(scrolled,1),pos};var C=(CORNER=PROTOTYPE.reposition.Corner=function(corner,forceY){corner=(""+corner).replace(/([A-Z])/," $1").replace(/middle/gi,CENTER).toLowerCase(),this.x=(corner.match(/left|right/i)||corner.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(corner.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!forceY;var f=corner.charAt(0);this.precedance="t"===f||"b"===f?Y:X}).prototype;C.invert=function(z,center){this[z]=this[z]===LEFT?RIGHT:this[z]===RIGHT?LEFT:center||this[z]},C.string=function(){var x=this.x,y=this.y;return x===y?x:this.precedance===Y||this.forceY&&"center"!==y?y+" "+x:x+" "+y},C.abbrev=function(){var result=this.string().split(" ");return result[0].charAt(0)+(result[1]&&result[1].charAt(0)||"")},C.clone=function(){return new CORNER(this.string(),this.forceY)},PROTOTYPE.toggle=function(state,event){var cache=this.cache,options=this.options,tooltip=this.tooltip;if(event){if(/over|enter/.test(event.type)&&/out|leave/.test(cache.event.type)&&options.show.target.add(event.target).length===options.show.target.length&&tooltip.has(event.relatedTarget).length)return this;cache.event=cloneEvent(event)}if(this.waiting&&!state&&(this.hiddenDuringWait=TRUE),!this.rendered)return state?this.render(1):this;if(this.destroyed||this.disabled)return this;var identicalState,allow,after,type=state?"show":"hide",opts=this.options[type],posOptions=(this.options[state?"hide":"show"],this.options.position),contentOptions=this.options.content,width=this.tooltip.css("width"),visible=this.tooltip.is(":visible"),animate=state||1===opts.target.length,sameTarget=!event||opts.target.length<2||cache.target[0]===event.target;return(typeof state).search("boolean|number")&&(state=!visible),identicalState=!tooltip.is(":animated")&&visible===state&&sameTarget,allow=identicalState?NULL:!!this._trigger(type,[90]),this.destroyed?this:(allow!==FALSE&&state&&this.focus(event),!allow||identicalState?this:($.attr(tooltip[0],"aria-hidden",!state),state?(cache.origin=cloneEvent(this.mouse),$.isFunction(contentOptions.text)&&this._updateContent(contentOptions.text,FALSE),$.isFunction(contentOptions.title)&&this._updateTitle(contentOptions.title,FALSE),!trackingBound&&"mouse"===posOptions.target&&posOptions.adjust.mouse&&($(document).bind("mousemove."+NAMESPACE,this._storeMouse),trackingBound=TRUE),width||tooltip.css("width",tooltip.outerWidth(FALSE)),this.reposition(event,arguments[2]),width||tooltip.css("width",""),opts.solo&&("string"==typeof opts.solo?$(opts.solo):$(SELECTOR,opts.solo)).not(tooltip).not(opts.target).qtip("hide",$.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete cache.origin,trackingBound&&!$(SELECTOR+'[tracking="true"]:visible',opts.solo).not(tooltip).length&&($(document).unbind("mousemove."+NAMESPACE),trackingBound=FALSE),this.blur(event)),after=$.proxy(function(){state?(BROWSER.ie&&tooltip[0].style.removeAttribute("filter"),tooltip.css("overflow",""),"string"==typeof opts.autofocus&&$(this.options.show.autofocus,tooltip).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):tooltip.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(state?"visible":"hidden")},this),opts.effect===FALSE||animate===FALSE?(tooltip[type](),after()):$.isFunction(opts.effect)?(tooltip.stop(1,1),opts.effect.call(tooltip,this),tooltip.queue("fx",function(n){after(),n()})):tooltip.fadeTo(90,state?1:0,after),state&&opts.target.trigger("qtip-"+this.id+"-inactive"),this))},PROTOTYPE.show=function(event){return this.toggle(TRUE,event)},PROTOTYPE.hide=function(event){return this.toggle(FALSE,event)},PROTOTYPE.focus=function(event){if(!this.rendered||this.destroyed)return this;var qtips=$(SELECTOR),tooltip=this.tooltip,curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length;return tooltip.hasClass(CLASS_FOCUS)||this._trigger("focus",[newIndex],event)&&(curIndex!==newIndex&&(qtips.each(function(){this.style.zIndex>curIndex&&(this.style.zIndex=this.style.zIndex-1)}),qtips.filter("."+CLASS_FOCUS).qtip("blur",event)),tooltip.addClass(CLASS_FOCUS)[0].style.zIndex=newIndex),this},PROTOTYPE.blur=function(event){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(CLASS_FOCUS),this._trigger("blur",[this.tooltip.css("zIndex")],event),this)},PROTOTYPE.disable=function(state){return this.destroyed?this:("toggle"===state?state=!(this.rendered?this.tooltip.hasClass(CLASS_DISABLED):this.disabled):"boolean"!=typeof state&&(state=TRUE),this.rendered&&this.tooltip.toggleClass(CLASS_DISABLED,state).attr("aria-disabled",state),this.disabled=!!state,this)},PROTOTYPE.enable=function(){return this.disable(FALSE)},PROTOTYPE._createButton=function(){var self=this,elements=this.elements,tooltip=elements.tooltip,button=this.options.content.button,isString="string"==typeof button,close=isString?button:"Close tooltip";elements.button&&elements.button.remove(),button.jquery?elements.button=button:elements.button=$("<a />",{class:"qtip-close "+(this.options.style.widget?"":NAMESPACE+"-icon"),title:close,"aria-label":close}).prepend($("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),elements.button.appendTo(elements.titlebar||tooltip).attr("role","button").click(function(event){return tooltip.hasClass(CLASS_DISABLED)||self.hide(event),FALSE})},PROTOTYPE._updateButton=function(button){if(!this.rendered)return FALSE;var elem=this.elements.button;button?this._createButton():elem.remove()},PROTOTYPE._setWidget=function(){var on=this.options.style.widget,elements=this.elements,tooltip=elements.tooltip,disabled=tooltip.hasClass(CLASS_DISABLED);tooltip.removeClass(CLASS_DISABLED),CLASS_DISABLED=on?"ui-state-disabled":"qtip-disabled",tooltip.toggleClass(CLASS_DISABLED,disabled),tooltip.toggleClass("ui-helper-reset "+createWidgetClass(),on).toggleClass(CLASS_DEFAULT,this.options.style.def&&!on),elements.content&&elements.content.toggleClass(createWidgetClass("content"),on),elements.titlebar&&elements.titlebar.toggleClass(createWidgetClass("header"),on),elements.button&&elements.button.toggleClass(NAMESPACE+"-icon",!on)},PROTOTYPE._storeMouse=function(event){(this.mouse=cloneEvent(event)).type="mousemove"},PROTOTYPE._bind=function(targets,events,method,suffix,context){var ns="."+this._id+(suffix?"-"+suffix:"");events.length&&$(targets).bind((events.split?events:events.join(ns+" "))+ns,$.proxy(method,context||this))},PROTOTYPE._unbind=function(targets,suffix){$(targets).unbind("."+this._id+(suffix?"-"+suffix:""))};var ns="."+NAMESPACE;$(function(){delegate(SELECTOR,["mouseenter","mouseleave"],function(event){var state="mouseenter"===event.type,tooltip=$(event.currentTarget),target=$(event.relatedTarget||event.target),options=this.options;state?(this.focus(event),tooltip.hasClass(CLASS_FIXED)&&!tooltip.hasClass(CLASS_DISABLED)&&clearTimeout(this.timers.hide)):"mouse"===options.position.target&&options.hide.event&&options.show.target&&!target.closest(options.show.target[0]).length&&this.hide(event),tooltip.toggleClass(CLASS_HOVER,state)}),delegate("["+ATTR_ID+"]",INACTIVE_EVENTS,inactiveMethod)}),PROTOTYPE._trigger=function(type,args,event){var callback=$.Event("tooltip"+type);return callback.originalEvent=event&&$.extend({},event)||this.cache.event||NULL,this.triggering=type,this.tooltip.trigger(callback,[this].concat(args||[])),this.triggering=FALSE,!callback.isDefaultPrevented()},PROTOTYPE._bindEvents=function(showEvents,hideEvents,showTarget,hideTarget,showMethod,hideMethod){if(hideTarget.add(showTarget).length===hideTarget.length){var toggleEvents=[];hideEvents=$.map(hideEvents,function(type){var showIndex=$.inArray(type,showEvents);return showIndex>-1?void toggleEvents.push(showEvents.splice(showIndex,1)[0]):type}),toggleEvents.length&&this._bind(showTarget,toggleEvents,function(event){(!!this.rendered&&this.tooltip[0].offsetWidth>0?hideMethod:showMethod).call(this,event)})}this._bind(showTarget,showEvents,showMethod),this._bind(hideTarget,hideEvents,hideMethod)},PROTOTYPE._assignInitialEvents=function(event){function hoverIntent(event){if(this.disabled||this.destroyed)return FALSE;this.cache.event=cloneEvent(event),this.cache.target=event?$(event.target):[undefined],clearTimeout(this.timers.show),this.timers.show=delay.call(this,function(){this.render("object"==typeof event||options.show.ready)},options.show.delay)}var options=this.options,showTarget=options.show.target,hideTarget=options.hide.target,showEvents=options.show.event?$.trim(""+options.show.event).split(" "):[],hideEvents=options.hide.event?$.trim(""+options.hide.event).split(" "):[];/mouse(over|enter)/i.test(options.show.event)&&!/mouse(out|leave)/i.test(options.hide.event)&&hideEvents.push("mouseleave"),this._bind(showTarget,"mousemove",function(event){this._storeMouse(event),this.cache.onTarget=TRUE}),this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,hoverIntent,function(){clearTimeout(this.timers.show)}),(options.show.ready||options.prerender)&&hoverIntent.call(this,event)},PROTOTYPE._assignEvents=function(){var self=this,options=this.options,posOptions=options.position,tooltip=this.tooltip,showTarget=options.show.target,hideTarget=options.hide.target,containerTarget=posOptions.container,viewportTarget=posOptions.viewport,documentTarget=$(document),windowTarget=($(document.body),$(window)),showEvents=options.show.event?$.trim(""+options.show.event).split(" "):[],hideEvents=options.hide.event?$.trim(""+options.hide.event).split(" "):[];$.each(options.events,function(name,callback){self._bind(tooltip,"toggle"===name?["tooltipshow","tooltiphide"]:["tooltip"+name],callback,null,tooltip)}),/mouse(out|leave)/i.test(options.hide.event)&&"window"===options.hide.leave&&this._bind(documentTarget,["mouseout","blur"],function(event){/select|option/.test(event.target.nodeName)||event.relatedTarget||this.hide(event)}),options.hide.fixed?hideTarget=hideTarget.add(tooltip.addClass(CLASS_FIXED)):/mouse(over|enter)/i.test(options.show.event)&&this._bind(hideTarget,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+options.hide.event).indexOf("unfocus")>-1&&this._bind(containerTarget.closest("html"),["mousedown","touchstart"],function(event){var elem=$(event.target),enabled=this.rendered&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0,isAncestor=elem.parents(SELECTOR).filter(this.tooltip[0]).length>0;elem[0]===this.target[0]||elem[0]===this.tooltip[0]||isAncestor||this.target.has(elem[0]).length||!enabled||this.hide(event)}),"number"==typeof options.hide.inactive&&(this._bind(showTarget,"qtip-"+this.id+"-inactive",inactiveMethod),this._bind(hideTarget.add(tooltip),QTIP.inactiveEvents,inactiveMethod,"-inactive")),this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,showMethod,hideMethod),this._bind(showTarget.add(tooltip),"mousemove",function(event){if("number"==typeof options.hide.distance){var origin=this.cache.origin||{},limit=this.options.hide.distance,abs=Math.abs;(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit)&&this.hide(event)}this._storeMouse(event)}),"mouse"===posOptions.target&&posOptions.adjust.mouse&&(options.hide.event&&this._bind(showTarget,["mouseenter","mouseleave"],function(event){this.cache.onTarget="mouseenter"===event.type}),this._bind(documentTarget,"mousemove",function(event){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0&&this.reposition(event)})),(posOptions.adjust.resize||viewportTarget.length)&&this._bind($.event.special.resize?viewportTarget:windowTarget,"resize",repositionMethod),posOptions.adjust.scroll&&this._bind(windowTarget.add(posOptions.container),"scroll",repositionMethod)},PROTOTYPE._unassignEvents=function(){var targets=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],window,document];this._unbind($([]).pushStack($.grep(targets,function(i){return"object"==typeof i})))},QTIP=$.fn.qtip=function(options,notation,newValue){var command=(""+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],NAMESPACE):NULL;return!arguments.length&&opts||"api"===command?opts:"string"==typeof options?(this.each(function(){var api=$.data(this,NAMESPACE);if(!api)return TRUE;if(event&&event.timeStamp&&(api.cache.event=event),!notation||"option"!==command&&"options"!==command)api[command]&&api[command].apply(api,args);else{if(newValue===undefined&&!$.isPlainObject(notation))return returned=api.get(notation),FALSE;api.set(notation,newValue)}}),returned!==NULL?returned:this):"object"!=typeof options&&arguments.length?void 0:(opts=sanitizeOptions($.extend(TRUE,{},options)),this.each(function(i){var api,id;if(id=$.isArray(opts.id)?opts.id[i]:opts.id,id=!id||id===FALSE||id.length<1||QTIP.api[id]?QTIP.nextid++:id,(api=init($(this),id,opts))===FALSE)return TRUE;QTIP.api[id]=api,$.each(PLUGINS,function(){"initialize"===this.initialize&&this(api)}),api._assignInitialEvents(event)}))},$.qtip=QTip,QTIP.api={},$.each({attr:function(attr,val){if(this.length){var self=this[0],title="title",api=$.data(self,"qtip");if(attr===title&&api&&"object"==typeof api&&api.options.suppress)return arguments.length<2?$.attr(self,oldtitle):(api&&api.options.content.attr===title&&api.cache.attr&&api.set("content.text",val),this.attr(oldtitle,val))}return $.fn["attr"+replaceSuffix].apply(this,arguments)},clone:function(keepData){var elems=($([]),$.fn["clone"+replaceSuffix].apply(this,arguments));return keepData||elems.filter("["+oldtitle+"]").attr("title",function(){return $.attr(this,oldtitle)}).removeAttr(oldtitle),elems}},function(name,func){if(!func||$.fn[name+replaceSuffix])return TRUE;var old=$.fn[name+replaceSuffix]=$.fn[name];$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments)}}),$.ui||($["cleanData"+replaceSuffix]=$.cleanData,$.cleanData=function(elems){for(var elem,i=0;(elem=$(elems[i])).length;i++)if(elem.attr(ATTR_HAS))try{elem.triggerHandler("removeqtip")}catch(e){}$["cleanData"+replaceSuffix].apply(this,arguments)}),QTIP.version="2.2.0",QTIP.nextid=0,QTIP.inactiveEvents=INACTIVE_EVENTS,QTIP.zindex=15e3,QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:"title",title:FALSE,button:FALSE},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,scroll:TRUE,resize:TRUE,method:"flipinvert flipinvert"},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE})}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:"window",distance:FALSE},style:{classes:"",widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,hidden:NULL,focus:NULL,blur:NULL}};var TIP,MARGIN="margin",BORDER="border",COLOR="color",BG_COLOR="background-color",TRANSPARENT="transparent",IMPORTANT=" !important",HASCANVAS=!!document.createElement("canvas").getContext,INVALID=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,cssProps={},cssPrefixes=["Webkit","O","Moz","ms"];if(HASCANVAS)var PIXEL_RATIO=window.devicePixelRatio||1,BACKING_STORE_RATIO=function(){var context=document.createElement("canvas").getContext("2d");return context.backingStorePixelRatio||context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||1}(),SCALE=PIXEL_RATIO/BACKING_STORE_RATIO;else var createVML=function(tag,props,style){return"<qtipvml:"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(props||"")+' style="behavior: url(#default#VML); '+(style||"")+'" />'};$.extend(Tip.prototype,{init:function(qtip){var context,tip;tip=this.element=qtip.elements.tip=$("<div />",{class:NAMESPACE+"-tip"}).prependTo(qtip.tooltip),HASCANVAS?(context=$("<canvas />").appendTo(this.element)[0].getContext("2d"),context.lineJoin="miter",context.miterLimit=1e5,context.save()):(context=createVML("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(context+context),qtip._bind($("*",tip).add(tip),["click","mousedown"],function(event){event.stopPropagation()},this._ns)),qtip._bind(qtip.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(corner){var titlebar=this.qtip.elements.titlebar;return titlebar&&(corner.y===TOP||corner.y===CENTER&&this.element.position().top+this.size[1]/2+this.options.offset<titlebar.outerHeight(TRUE))},_parseCorner:function(corner){var my=this.qtip.options.position.my;return corner===FALSE||my===FALSE?corner=FALSE:corner===TRUE?corner=new CORNER(my.string()):corner.string||(corner=new CORNER(corner),corner.fixed=TRUE),corner},_parseWidth:function(corner,side,use){var elements=this.qtip.elements,prop=BORDER+camel(side)+"Width";return(use?intCss(use,prop):intCss(elements.content,prop)||intCss(this._useTitle(corner)&&elements.titlebar||elements.content,prop)||intCss(elements.tooltip,prop))||0},_parseRadius:function(corner){var elements=this.qtip.elements,prop=BORDER+camel(corner.y)+camel(corner.x)+"Radius";return BROWSER.ie<9?0:intCss(this._useTitle(corner)&&elements.titlebar||elements.content,prop)||intCss(elements.tooltip,prop)||0},_invalidColour:function(elem,prop,compare){var val=elem.css(prop);return!val||compare&&val===elem.css(compare)||INVALID.test(val)?FALSE:val},_parseColours:function(corner){var elements=this.qtip.elements,tip=this.element.css("cssText",""),borderSide=BORDER+camel(corner[corner.precedance])+camel(COLOR),colorElem=this._useTitle(corner)&&elements.titlebar||elements.content,css=this._invalidColour,color=[];return color[0]=css(tip,BG_COLOR)||css(colorElem,BG_COLOR)||css(elements.content,BG_COLOR)||css(elements.tooltip,BG_COLOR)||tip.css(BG_COLOR),color[1]=css(tip,borderSide,COLOR)||css(colorElem,borderSide,COLOR)||css(elements.content,borderSide,COLOR)||css(elements.tooltip,borderSide,COLOR)||elements.tooltip.css(borderSide),$("*",tip).add(tip).css("cssText",BG_COLOR+":"+TRANSPARENT+IMPORTANT+";"+BORDER+":0"+IMPORTANT+";"),color},_calculateSize:function(corner){var bigHyp,ratio,result,y=corner.precedance===Y,width=this.options.width,height=this.options.height,isCenter="c"===corner.abbrev(),base=(y?width:height)*(isCenter?.5:1),pow=Math.pow,round=Math.round,smallHyp=Math.sqrt(pow(base,2)+pow(height,2)),hyp=[this.border/base*smallHyp,this.border/height*smallHyp];return hyp[2]=Math.sqrt(pow(hyp[0],2)-pow(this.border,2)),hyp[3]=Math.sqrt(pow(hyp[1],2)-pow(this.border,2)),bigHyp=smallHyp+hyp[2]+hyp[3]+(isCenter?0:hyp[0]),ratio=bigHyp/smallHyp,result=[round(ratio*width),round(ratio*height)],y?result:result.reverse()},_calculateTip:function(corner,size,scale){scale=scale||1,size=size||this.size;var width=size[0]*scale,height=size[1]*scale,width2=Math.ceil(width/2),height2=Math.ceil(height/2),tips={br:[0,0,width,height,width,0],bl:[0,0,width,0,0,height],tr:[0,height,width,0,width,height],tl:[0,0,0,height,width,height],tc:[0,height,width2,0,width,height],bc:[0,0,width,0,width2,height],rc:[0,0,width,height2,0,height],lc:[width,0,width,height,0,height2]};return tips.lt=tips.br,tips.rt=tips.bl,tips.lb=tips.tr,tips.rb=tips.tl,tips[corner.abbrev()]},_drawCoords:function(context,coords){context.beginPath(),context.moveTo(coords[0],coords[1]),context.lineTo(coords[2],coords[3]),context.lineTo(coords[4],coords[5]),context.closePath()},create:function(){var c=this.corner=(HASCANVAS||BROWSER.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=c.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(corner,position){if(!this.enabled)return this;var color,precedance,context,coords,bigCoords,translate,newSize,border,elements=this.qtip.elements,tip=this.element,inner=tip.children(),options=this.options,curSize=this.size,mimic=options.mimic,round=Math.round;corner||(corner=this.qtip.cache.corner||this.corner),mimic===FALSE?mimic=corner:(mimic=new CORNER(mimic),mimic.precedance=corner.precedance,"inherit"===mimic.x?mimic.x=corner.x:"inherit"===mimic.y?mimic.y=corner.y:mimic.x===mimic.y&&(mimic[corner.precedance]=corner[corner.precedance])),precedance=mimic.precedance,corner.precedance===X?this._swapDimensions():this._resetDimensions(),color=this.color=this._parseColours(corner),color[1]!==TRANSPARENT?(border=this.border=this._parseWidth(corner,corner[corner.precedance]),options.border&&border<1&&!INVALID.test(color[1])&&(color[0]=color[1]),this.border=border=options.border!==TRUE?options.border:border):this.border=border=0,newSize=this.size=this._calculateSize(corner),tip.css({
width:newSize[0],height:newSize[1],lineHeight:newSize[1]+"px"}),translate=corner.precedance===Y?[round(mimic.x===LEFT?border:mimic.x===RIGHT?newSize[0]-curSize[0]-border:(newSize[0]-curSize[0])/2),round(mimic.y===TOP?newSize[1]-curSize[1]:0)]:[round(mimic.x===LEFT?newSize[0]-curSize[0]:0),round(mimic.y===TOP?border:mimic.y===BOTTOM?newSize[1]-curSize[1]-border:(newSize[1]-curSize[1])/2)],HASCANVAS?(context=inner[0].getContext("2d"),context.restore(),context.save(),context.clearRect(0,0,6e3,6e3),coords=this._calculateTip(mimic,curSize,SCALE),bigCoords=this._calculateTip(mimic,this.size,SCALE),inner.attr(WIDTH,newSize[0]*SCALE).attr(HEIGHT,newSize[1]*SCALE),inner.css(WIDTH,newSize[0]).css(HEIGHT,newSize[1]),this._drawCoords(context,bigCoords),context.fillStyle=color[1],context.fill(),context.translate(translate[0]*SCALE,translate[1]*SCALE),this._drawCoords(context,coords),context.fillStyle=color[0],context.fill()):(coords=this._calculateTip(mimic),coords="m"+coords[0]+","+coords[1]+" l"+coords[2]+","+coords[3]+" "+coords[4]+","+coords[5]+" xe",translate[2]=border&&/^(r|b)/i.test(corner.string())?8===BROWSER.ie?2:1:0,inner.css({coordsize:newSize[0]+border+" "+(newSize[1]+border),antialias:""+(mimic.string().indexOf(CENTER)>-1),left:translate[0]-translate[2]*Number(precedance===X),top:translate[1]-translate[2]*Number(precedance===Y),width:newSize[0]+border,height:newSize[1]+border}).each(function(i){var $this=$(this);$this[$this.prop?"prop":"attr"]({coordsize:newSize[0]+border+" "+(newSize[1]+border),path:coords,fillcolor:color[0],filled:!!i,stroked:!i}).toggle(!(!border&&!i)),!i&&$this.html(createVML("stroke",'weight="'+2*border+'px" color="'+color[1]+'" miterlimit="1000" joinstyle="miter"'))})),window.opera&&setTimeout(function(){elements.tip.css({display:"inline-block",visibility:"visible"})},1),position!==FALSE&&this.calculate(corner,newSize)},calculate:function(corner,size){if(!this.enabled)return FALSE;var precedance,corners,self=this,elements=this.qtip.elements,tip=this.element,userOffset=this.options.offset,position=(elements.tooltip.hasClass("ui-widget"),{});return corner=corner||this.corner,precedance=corner.precedance,size=size||this._calculateSize(corner),corners=[corner.x,corner.y],precedance===X&&corners.reverse(),$.each(corners,function(i,side){var b,bc,br;side===CENTER?(b=precedance===Y?LEFT:TOP,position[b]="50%",position[MARGIN+"-"+b]=-Math.round(size[precedance===Y?0:1]/2)+userOffset):(b=self._parseWidth(corner,side,elements.tooltip),bc=self._parseWidth(corner,side,elements.content),br=self._parseRadius(corner),position[side]=Math.max(-self.border,i?bc:userOffset+(br>b?br:-b)))}),position[corner[precedance]]-=size[precedance===X?0:1],tip.css({margin:"",top:"",bottom:"",left:"",right:""}).css(position),position},reposition:function(event,api,pos,viewport){function shiftflip(direction,precedance,popposite,side,opposite){direction===SHIFT&&newCorner.precedance===precedance&&adjust[side]&&newCorner[popposite]!==CENTER?newCorner.precedance=newCorner.precedance===X?Y:X:direction!==SHIFT&&adjust[side]&&(newCorner[precedance]=newCorner[precedance]===CENTER?adjust[side]>0?side:opposite:newCorner[precedance]===side?opposite:side)}function shiftonly(xy,side,opposite){newCorner[xy]===CENTER?css[MARGIN+"-"+side]=shift[xy]=offset[MARGIN+"-"+side]-adjust[side]:(props=offset[opposite]!==undefined?[adjust[side],-offset[side]]:[-adjust[side],offset[side]],(shift[xy]=Math.max(props[0],props[1]))>props[0]&&(pos[side]-=adjust[side],shift[side]=FALSE),css[offset[opposite]!==undefined?opposite:side]=shift[xy])}if(this.enabled){var offset,props,cache=api.cache,newCorner=this.corner.clone(),adjust=pos.adjusted,method=api.options.position.adjust.method.split(" "),horizontal=method[0],vertical=method[1]||method[0],shift={left:FALSE,top:FALSE,x:0,y:0},css={};this.corner.fixed!==TRUE&&(shiftflip(horizontal,X,Y,LEFT,RIGHT),shiftflip(vertical,Y,X,TOP,BOTTOM),newCorner.string()===cache.corner.string()||cache.cornerTop===adjust.top&&cache.cornerLeft===adjust.left||this.update(newCorner,FALSE)),offset=this.calculate(newCorner),offset.right!==undefined&&(offset.left=-offset.right),offset.bottom!==undefined&&(offset.top=-offset.bottom),offset.user=this.offset,(shift.left=horizontal===SHIFT&&!!adjust.left)&&shiftonly(X,LEFT,RIGHT),(shift.top=vertical===SHIFT&&!!adjust.top)&&shiftonly(Y,TOP,BOTTOM),this.element.css(css).toggle(!(shift.x&&shift.y||newCorner.x===CENTER&&shift.y||newCorner.y===CENTER&&shift.x)),pos.left-=offset.left.charAt?offset.user:horizontal!==SHIFT||shift.top||!shift.left&&!shift.top?offset.left+this.border:0,pos.top-=offset.top.charAt?offset.user:vertical!==SHIFT||shift.left||!shift.left&&!shift.top?offset.top+this.border:0,cache.cornerLeft=adjust.left,cache.cornerTop=adjust.top,cache.corner=newCorner.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),TIP=PLUGINS.tip=function(api){return new Tip(api,api.options.style.tip)},TIP.initialize="render",TIP.sanitize=function(options){if(options.style&&"tip"in options.style){var opts=options.style.tip;"object"!=typeof opts&&(opts=options.style.tip={corner:opts}),/string|boolean/i.test(typeof opts.corner)||(opts.corner=TRUE)}},CHECKS.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(obj){this.size=[obj.width,obj.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},$.extend(TRUE,QTIP.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,width:6,height:6,border:TRUE,offset:0}}}),PLUGINS.viewport=function(api,position,posOptions,targetWidth,targetHeight,elemWidth,elemHeight){function calculate(side,otherSide,type,adjust,side1,side2,lengthName,targetLength,elemLength){var initialPos=position[side1],mySide=my[side],atSide=at[side],isShift=type===SHIFT,myLength=mySide===side1?elemLength:mySide===side2?-elemLength:-elemLength/2,atLength=atSide===side1?targetLength:atSide===side2?-targetLength:-targetLength/2,sideOffset=viewportScroll[side1]+viewportOffset[side1]-(containerStatic?0:containerOffset[side1]),overflow1=sideOffset-initialPos,overflow2=initialPos+elemLength-(lengthName===WIDTH?viewportWidth:viewportHeight)-sideOffset,offset=myLength-(my.precedance===side||mySide===my[otherSide]?atLength:0)-(atSide===CENTER?targetLength/2:0);return isShift?(offset=(mySide===side1?1:-1)*myLength,position[side1]+=overflow1>0?overflow1:overflow2>0?-overflow2:0,position[side1]=Math.max(-containerOffset[side1]+viewportOffset[side1],initialPos-offset,Math.min(Math.max(-containerOffset[side1]+viewportOffset[side1]+(lengthName===WIDTH?viewportWidth:viewportHeight),initialPos+offset),position[side1],"center"===mySide?initialPos-myLength:1e9))):(adjust*=type===FLIPINVERT?2:0,overflow1>0&&(mySide!==side1||overflow2>0)?(position[side1]-=offset+adjust,newMy.invert(side,side1)):overflow2>0&&(mySide!==side2||overflow1>0)&&(position[side1]-=(mySide===CENTER?-offset:offset)+adjust,newMy.invert(side,side2)),position[side1]<viewportScroll&&-position[side1]>overflow2&&(position[side1]=initialPos,newMy=my.clone())),position[side1]-initialPos}var fixed,newMy,newClass,containerOffset,containerStatic,viewportWidth,viewportHeight,viewportScroll,viewportOffset,target=posOptions.target,tooltip=api.elements.tooltip,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(" "),methodX=method[0],methodY=method[1]||method[0],viewport=posOptions.viewport,container=posOptions.container,cache=api.cache,adjusted={left:0,top:0};return viewport.jquery&&target[0]!==window&&target[0]!==document.body&&"none"!==adjust.method?(containerOffset=container.offset()||adjusted,containerStatic="static"===container.css("position"),fixed="fixed"===tooltip.css("position"),viewportWidth=viewport[0]===window?viewport.width():viewport.outerWidth(FALSE),viewportHeight=viewport[0]===window?viewport.height():viewport.outerHeight(FALSE),viewportScroll={left:fixed?0:viewport.scrollLeft(),top:fixed?0:viewport.scrollTop()},viewportOffset=viewport.offset()||adjusted,"shift"===methodX&&"shift"===methodY||(newMy=my.clone()),adjusted={left:"none"!==methodX?calculate(X,Y,methodX,adjust.x,LEFT,RIGHT,WIDTH,targetWidth,elemWidth):0,top:"none"!==methodY?calculate(Y,X,methodY,adjust.y,TOP,BOTTOM,HEIGHT,targetHeight,elemHeight):0},newMy&&cache.lastClass!==(newClass=NAMESPACE+"-pos-"+newMy.abbrev())&&tooltip.removeClass(api.cache.lastClass).addClass(api.cache.lastClass=newClass),adjusted):adjusted},PLUGINS.polys={polygon:function(baseCoords,corner){var next,newWidth,newHeight,result={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:FALSE},i=0,coords=[],compareX=1,compareY=1,realX=0,realY=0;for(i=baseCoords.length;i--;)next=[parseInt(baseCoords[--i],10),parseInt(baseCoords[i+1],10)],next[0]>result.position.right&&(result.position.right=next[0]),next[0]<result.position.left&&(result.position.left=next[0]),next[1]>result.position.bottom&&(result.position.bottom=next[1]),next[1]<result.position.top&&(result.position.top=next[1]),coords.push(next);if(newWidth=result.width=Math.abs(result.position.right-result.position.left),newHeight=result.height=Math.abs(result.position.bottom-result.position.top),"c"===corner.abbrev())result.position={left:result.position.left+result.width/2,top:result.position.top+result.height/2};else{for(;newWidth>0&&newHeight>0&&compareX>0&&compareY>0;)for(newWidth=Math.floor(newWidth/2),newHeight=Math.floor(newHeight/2),corner.x===LEFT?compareX=newWidth:corner.x===RIGHT?compareX=result.width-newWidth:compareX+=Math.floor(newWidth/2),corner.y===TOP?compareY=newHeight:corner.y===BOTTOM?compareY=result.height-newHeight:compareY+=Math.floor(newHeight/2),i=coords.length;i--&&!(coords.length<2);)realX=coords[i][0]-result.position.left,realY=coords[i][1]-result.position.top,(corner.x===LEFT&&realX>=compareX||corner.x===RIGHT&&realX<=compareX||corner.x===CENTER&&(realX<compareX||realX>result.width-compareX)||corner.y===TOP&&realY>=compareY||corner.y===BOTTOM&&realY<=compareY||corner.y===CENTER&&(realY<compareY||realY>result.height-compareY))&&coords.splice(i,1);result.position={left:coords[0][0],top:coords[0][1]}}return result},rect:function(ax,ay,bx,by){return{width:Math.abs(bx-ax),height:Math.abs(by-ay),position:{left:Math.min(ax,bx),top:Math.min(ay,by)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(cx,cy,rx,ry,corner){var c=PLUGINS.polys._angles[corner.abbrev()],rxc=0===c?0:rx*Math.cos(c*Math.PI),rys=ry*Math.sin(c*Math.PI);return{width:2*rx-Math.abs(rxc),height:2*ry-Math.abs(rys),position:{left:cx+rxc,top:cy+rys},adjustable:FALSE}},circle:function(cx,cy,r,corner){return PLUGINS.polys.ellipse(cx,cy,r,r,corner)}},PLUGINS.imagemap=function(api,area,corner,adjustMethod){area.jquery||(area=$(area));var imageOffset,coords,i,result,len,shape=area.attr("shape").toLowerCase().replace("poly","polygon"),image=$('img[usemap="#'+area.parent("map").attr("name")+'"]'),coordsString=$.trim(area.attr("coords")),coordsArray=coordsString.replace(/,$/,"").split(",");if(!image.length)return FALSE;if("polygon"===shape)result=PLUGINS.polys.polygon(coordsArray,corner);else{if(!PLUGINS.polys[shape])return FALSE;for(i=-1,len=coordsArray.length,coords=[];++i<len;)coords.push(parseInt(coordsArray[i],10));result=PLUGINS.polys[shape].apply(this,coords.concat(corner))}return imageOffset=image.offset(),imageOffset.left+=Math.ceil((image.outerWidth(FALSE)-image.width())/2),imageOffset.top+=Math.ceil((image.outerHeight(FALSE)-image.height())/2),result.position.left+=imageOffset.left,result.position.top+=imageOffset.top,result};var MODAL,OVERLAY,MODALCLASS="qtip-modal",MODALSELECTOR="."+MODALCLASS;OVERLAY=function(){function focusable(element){if($.expr[":"].focusable)return $.expr[":"].focusable;var map,mapName,img,isTabIndexNotNaN=!isNaN($.attr(element,"tabindex")),nodeName=element.nodeName&&element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(!!(img=$("img[usemap=#"+mapName+"]")[0])&&img.is(":visible"))):/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN}function focusInputs(blurElems){focusableElems.length<1&&blurElems.length?blurElems.not("body").blur():focusableElems.first().focus()}function stealFocus(event){if(elem.is(":visible")){var targetOnTop,target=$(event.target),tooltip=current.tooltip,container=target.closest(SELECTOR);targetOnTop=container.length<1?FALSE:parseInt(container[0].style.zIndex,10)>parseInt(tooltip[0].style.zIndex,10),targetOnTop||target.closest(SELECTOR)[0]===tooltip[0]||focusInputs(target),onLast=event.target===focusableElems[focusableElems.length-1]}}var current,onLast,prevState,elem,self=this,focusableElems={};$.extend(self,{init:function(){return elem=self.elem=$("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return FALSE}}).hide(),$(document.body).bind("focusin"+MODALSELECTOR,stealFocus),$(document).bind("keydown"+MODALSELECTOR,function(event){current&&current.options.show.modal.escape&&27===event.keyCode&&current.hide(event)}),elem.bind("click"+MODALSELECTOR,function(event){current&&current.options.show.modal.blur&&current.hide(event)}),self},update:function(api){current=api,focusableElems=api.options.show.modal.stealfocus!==FALSE?api.tooltip.find("*").filter(function(){return focusable(this)}):[]},toggle:function(api,state,duration){var tooltip=($(document.body),api.tooltip),options=api.options.show.modal,effect=options.effect,type=state?"show":"hide",visible=elem.is(":visible"),visibleModals=$(MODALSELECTOR).filter(":visible:not(:animated)").not(tooltip);return self.update(api),state&&options.stealfocus!==FALSE&&focusInputs($(":focus")),elem.toggleClass("blurs",options.blur),state&&elem.appendTo(document.body),elem.is(":animated")&&visible===state&&prevState!==FALSE||!state&&visibleModals.length?self:(elem.stop(TRUE,FALSE),$.isFunction(effect)?effect.call(elem,state):effect===FALSE?elem[type]():elem.fadeTo(parseInt(duration,10)||90,state?1:0,function(){state||elem.hide()}),state||elem.queue(function(next){elem.css({left:"",top:""}),$(MODALSELECTOR).length||elem.detach(),next()}),prevState=state,current.destroyed&&(current=NULL),self)}}),self.init()},OVERLAY=new OVERLAY,$.extend(Modal.prototype,{init:function(qtip){var tooltip=qtip.tooltip;if(!this.options.on)return this;qtip.elements.overlay=OVERLAY.elem,tooltip.addClass(MODALCLASS).css("z-index",QTIP.modal_zindex+$(MODALSELECTOR).length),qtip._bind(tooltip,["tooltipshow","tooltiphide"],function(event,api,duration){var oEvent=event.originalEvent;if(event.target===tooltip[0])if(oEvent&&"tooltiphide"===event.type&&/mouse(leave|enter)/.test(oEvent.type)&&$(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length)try{event.preventDefault()}catch(e){}else(!oEvent||oEvent&&"tooltipsolo"!==oEvent.type)&&this.toggle(event,"tooltipshow"===event.type,duration)},this._ns,this),qtip._bind(tooltip,"tooltipfocus",function(event,api){if(!event.isDefaultPrevented()&&event.target===tooltip[0]){var qtips=$(MODALSELECTOR),newIndex=QTIP.modal_zindex+qtips.length,curIndex=parseInt(tooltip[0].style.zIndex,10);OVERLAY.elem[0].style.zIndex=newIndex-1,qtips.each(function(){this.style.zIndex>curIndex&&(this.style.zIndex-=1)}),qtips.filter("."+CLASS_FOCUS).qtip("blur",event.originalEvent),tooltip.addClass(CLASS_FOCUS)[0].style.zIndex=newIndex,OVERLAY.update(api);try{event.preventDefault()}catch(e){}}},this._ns,this),qtip._bind(tooltip,"tooltiphide",function(event){event.target===tooltip[0]&&$(MODALSELECTOR).filter(":visible").not(tooltip).last().qtip("focus",event)},this._ns,this)},toggle:function(event,state,duration){if(event&&event.isDefaultPrevented())return this;OVERLAY.toggle(this.qtip,!!state,duration)},destroy:function(){this.qtip.tooltip.removeClass(MODALCLASS),this.qtip._unbind(this.qtip.tooltip,this._ns),OVERLAY.toggle(this.qtip,FALSE),delete this.qtip.elements.overlay}}),MODAL=PLUGINS.modal=function(api){return new Modal(api,api.options.show.modal)},MODAL.sanitize=function(opts){opts.show&&("object"!=typeof opts.show.modal?opts.show.modal={on:!!opts.show.modal}:void 0===opts.show.modal.on&&(opts.show.modal.on=TRUE))},QTIP.modal_zindex=QTIP.zindex-200,MODAL.initialize="render",CHECKS.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},$.extend(TRUE,QTIP.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE,stealfocus:TRUE,escape:TRUE}}});var IE6;$.extend(Ie6.prototype,{_scroll:function(){var overlay=this.qtip.elements.overlay;overlay&&(overlay[0].style.top=$(window).scrollTop()+"px")},init:function(qtip){var tooltip=qtip.tooltip;$("select, object").length<1&&(this.bgiframe=qtip.elements.bgiframe=$('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(tooltip),qtip._bind(tooltip,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=$("<div/>",{id:NAMESPACE+"-rcontainer"}).appendTo(document.body),qtip.elements.overlay&&qtip.elements.overlay.addClass("qtipmodal-ie6fix")&&(qtip._bind(window,["scroll","resize"],this._scroll,this._ns,this),qtip._bind(tooltip,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var tipAdjust,offset,tooltip=this.qtip.tooltip,dimensions={height:tooltip.outerHeight(FALSE),width:tooltip.outerWidth(FALSE)},plugin=this.qtip.plugins.tip,tip=this.qtip.elements.tip;offset=parseInt(tooltip.css("borderLeftWidth"),10)||0,offset={left:-offset,top:-offset},plugin&&tip&&(tipAdjust="x"===plugin.corner.precedance?[WIDTH,LEFT]:[HEIGHT,TOP],offset[tipAdjust[1]]-=tip[tipAdjust[0]]()),this.bgiframe.css(offset).css(dimensions)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var perc,width,max,min,tooltip=this.qtip.tooltip,style=this.qtip.options.style,container=this.qtip.options.position.container;return this.qtip.drawing=1,style.height&&tooltip.css(HEIGHT,style.height),style.width?tooltip.css(WIDTH,style.width):(tooltip.css(WIDTH,"").appendTo(this.redrawContainer),width=tooltip.width(),width%2<1&&(width+=1),max=tooltip.css("maxWidth")||"",min=tooltip.css("minWidth")||"",perc=(max+min).indexOf("%")>-1?container.width()/100:0,max=(max.indexOf("%")>-1?perc:1)*parseInt(max,10)||width,min=(min.indexOf("%")>-1?perc:1)*parseInt(min,10)||0,width=max+min?Math.min(Math.max(width,min),max):width,tooltip.css(WIDTH,Math.round(width)).appendTo(container)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([window,this.qtip.tooltip],this._ns)}}),IE6=PLUGINS.ie6=function(api){return 6===BROWSER.ie?new Ie6(api):FALSE},IE6.initialize="render",CHECKS.ie6={"^content|style$":function(){this.redraw()}}})}(window,document)},7:function(module,exports,__webpack_require__){(function($){var AjaxRequest=function(){var self=this;return this._defaultOpts={type:"POST",url:"",data:"",crossDomain:!1,dataType:"json",contentType:"application/json",async:!0},this._opts={},$.extend(this._opts,this._defaultOpts),this._resetOptions=function(){this._opts={},$.extend(this._opts,this._defaultOpts)},this._request=function(){ve.utils.localize&&this._opts.url.startsWith("/")&&(this._opts.url=ve.utils.localize()+this._opts.url),$.ajax(this._opts).then(function(){$.extend(this._opts,this._defaultOpts)})},{request:function(options){return self._resetOptions(),$.extend(self._opts,options),self._request()},post:function(options){return self._resetOptions(),$.extend(self._opts,options),self._opts.type="POST",self._request()},get:function(options){return self._resetOptions(),$.extend(self._opts,options),self._opts.type="GET",self._request()}}};module.exports=AjaxRequest}).call(exports,__webpack_require__(4))},14:function(module,exports,__webpack_require__){(function($){var PopinQtip=function(debugMode,engineTemplate){if(PopinQtip.prototype._singletonInstance)return PopinQtip.prototype._singletonInstance;PopinQtip.prototype._singletonInstance=this,this._debugMode="undefined"!==debugMode&&debugMode,this.tpl=engineTemplate,this.tagRecording=!1,this._defaultOptions={overlayDivId:"#qtip-overlay",duration:90,title:"",popinId:"",css:"",blur:!1,escape:!0,template:'\n\t        <div class="popin-message data-cloak">\n\t            <div class="popin-message-header">{{title}}</div>\n\t            <div id="{{popinId}}" class="popin-message-content {{css}}" data-html="true">\n\t                {{text}}\n\t            </div>\n\t            <div id="closeMe" class="icon close-gray" data-click="closeMe()"></div>\n\t        </div>',timer:{active:!1,delay:0,instance:null},loader:{active:!1,template:'<div class="overlay-nobg"><div class="overlay-loader"></div></div>',message:""},recording:{active:!1,popin:null,$popinHtml:null},binding:{},translation:{},params:{},scroll:!1,forceNoClose:!1,positionMy:"center",positionAt:"center",target:$(window),styleTips:{height:790,width:435}},this._options={},$.extend(!0,this._options,this._defaultOptions),this._resetOptions=function(){this._options=$.extend(!0,{},this._defaultOptions),PopinQtip.prototype.template=""},this.contentRender=function(content,translation,binding,parameters){var target=null===document.getElementById(this._options.popinId)?document.getElementById(PopinQtip.lastPopin._options.popinId):document.getElementById(this._options.popinId);if($(target).html(content),PopinQtip.prototype.template=this.tpl(target),PopinQtip.prototype.template.scope.translation=translation,PopinQtip.prototype.template.scope.params=parameters,void 0!==binding)for(var bind in binding)PopinQtip.prototype.template.scope[bind]=binding[bind];PopinQtip.prototype.template.render();var callBackFnAutoload=null,callBackAutoload=null;if(1===$(content).length&&void 0!==$(content).attr("data-load")&&$(content).attr("data-load").length>0){if(callBackFnAutoload=$(content).attr("data-load"),callBackAutoload=callBackFnAutoload,-1!==callBackFnAutoload.indexOf("(")){callBackFnAutoload=callBackFnAutoload.split("(")[0]}if(void 0!==PopinQtip.prototype.template.scope[callBackFnAutoload]){var values=ve.utils.values(callBackAutoload);values.unshift({}),PopinQtip.prototype.template.scope[callBackFnAutoload].apply(content,values)}}this._options.timer.active&&this.initTimer(),this._options.loader.active&&$("#"+this._options.popinId).append(this._options.loader.template)},this.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},this.guid=function(){return this.s4()+this.s4()+"-"+this.s4()}};PopinQtip.prototype.lastPopin=null,PopinQtip.prototype.create=function(options){var self=this,$templateTarget=null;if(void 0!==options.recording&&!0===options.recording.active){self.save();var recording=self._options.recording;self._options=$.extend(!0,{},self._defaultOptions),self._options.recording=recording}$.extend(!0,self._options,options),$("<div />").qtip({overwrite:!1,content:{text:self._options.template},show:{solo:!0,ready:!1,when:!1,modal:{effect:function(state){self._options.recording.active||$(this).fadeTo(self._options.duration,state?1:0,function(){state||!1!==self._options.forceNoClose||$(this).hide()})},on:!0,blur:self._options.blur,escape:self._options.escape}},hide:{event:!1,fixed:!0,effect:!1},position:{my:self._options.positionMy,at:self._options.positionAt,target:self._options.target,viewport:!1,adjust:{x:0,y:0,scroll:self._options.scroll}},style:{classes:"ui-tooltip ui-tooltip-light "+self._options.css,def:!1,default:!1,tip:self._options.styleTips},events:{show:function(event,api){self.contentRender(self._options.text,self._options.translation,self._options.binding,self._options.params)},hide:function(event,api){var elementCloseMe=document.getElementById("closeMe");null!==elementCloseMe&&!0!==self._options.recording.active||!0===self._options.forceNoClose?(null!==$templateTarget.getNode(elementCloseMe)&&$templateTarget.getNode(elementCloseMe).removeEvent("click"),$(document).find("#"+self._options.popinId).parents(".qtip:last").remove(),void 0!==PopinQtip.prototype.template.scope.closeMe&&PopinQtip.prototype.template.scope.closeMe.call(self,event),self._options.popinId=null,self._resetOptions()):($(document).find("#"+self._options.popinId).parents(".qtip").remove(),void 0!==PopinQtip.prototype.template.scope.closeMe&&PopinQtip.prototype.template.scope.closeMe.call(self,event),self.applyRecording(),self.resetRecording()),self.cleanOverlay(api.elements.overlay)},render:function(event,api){var target=$(document).find(".qtip > div:last")[0];$templateTarget=self.tpl(self._options.template,target),$templateTarget.scope.popinId=self._options.popinId=self._options.popinId||self.guid(),$templateTarget.scope.title=self._options.title,$templateTarget.scope.text=self._options.text,$templateTarget.scope.css=self._options.css,$templateTarget.scope.closeMe=function(){api.hide()},$templateTarget.render()},visible:function(event,api){var qtip=api.elements.tooltip;qtip.css("z-index",parseInt(qtip.css("z-index"))+api.id),void 0!==$(self._options.overlayDivId).data("events")&&void 0===$(self._options.overlayDivId).data("events").click&&1===$(self._options.overlayDivId).data("events").click.length&&!1===self._options.forceNoClose&&$(self._options.overlayDivId).on("click",function(){self.close()})}}}).qtip("show")},PopinQtip.prototype.close=function(options){this._options.timer.active&&this.resetTimer(),$(document).find(".qtip:last").qtip("hide")},PopinQtip.prototype.update=function(options){var self=this;self._options.timer.active&&self.resetTimer(),$.extend(!0,self._options,options),self.contentRender(self._options.text,self._options.translation,self._options.binding,self._options.params)},PopinQtip.prototype.timer=function(optionsTimer){this._options.timer.active&&this.resetTimer(),optionsTimer.active&&($.extend(!0,this._options.timer,optionsTimer),this.initTimer())},PopinQtip.prototype.initTimer=function(){this._options.timer.instance=setTimeout(function(){this.close()}.bind(this),this._options.timer.delay)},PopinQtip.prototype.resetTimer=function(){window.clearTimeout(this._options.timer.instance),this._options.timer.active=!1,this._options.timer.delay=0,this._options.timer.instance=null},PopinQtip.prototype.reposition=function(){$(document).find(".qtip").qtip("reposition")},PopinQtip.prototype.loadingStart=function(){this.update({loader:{active:!0}})},PopinQtip.prototype.loadingStop=function(){this.update({loader:{active:!1}})},PopinQtip.prototype.save=function(){PopinQtip.lastPopin=this;var popin=$(document).find(".qtip:last");if(0===popin.length)throw new Error("Aucune popin trouve");this._options.recording.popin=this._options,this._options.recording.$popinHtml=popin.detach()},PopinQtip.prototype.applyRecording=function(){var popinRecording=this._options.recording;if(null===popinRecording)throw new Error("Aucune sauvegarde de popin trouve");if(null===popinRecording.$popinHtml)throw new Error("Sauvegarde de la popin errone");popinRecording.$popinHtml.appendTo("body"),this._options=popinRecording.popin},PopinQtip.prototype.resetRecording=function(){this._options.recording={active:!1,popin:null}},PopinQtip.prototype.suspend=function(){0!==$(document).find(".qtip:last").length&&(this.save(),this._options.recording.active=!0)},PopinQtip.prototype.append=function(){if(!1===this._options.recording.active)throw new Error("Aucune sauvegarde de popin trouve, attention au chevauchement des sauvegardes!");this.applyRecording(),this._options.recording.active=!1},PopinQtip.prototype.cleanOverlay=function(overlayObject){var $overlay=$(overlayObject);if(0!==$overlay.length){var $overlayFirstChild=$overlay.children().first();if(0!==$overlayFirstChild.length){var $overlayChildren=$overlayFirstChild.children();0<$overlayChildren.length&&$overlayChildren.remove()}}},module.exports=PopinQtip}).call(exports,__webpack_require__(4))},33:function(module,exports,__webpack_require__){(function($){var LazyLoading=function(){if(LazyLoading.prototype._singletonInstance)return LazyLoading.prototype._singletonInstance;LazyLoading.prototype._singletonInstance=this,this._options={duration:50,viewPortDesktopExtension:500,viewPortMobileExtension:200,wrapper:!1},this.initializing=!1};LazyLoading.prototype.initialize=function(options){var self=this;if(!0===this.initializing)return!1;$.extend(self._options,options),!0===self._options.wrapper?$(window).on("scroll resize",function(){self.checkDivToLoad()}):$(window).on("scroll resize",function(){self.checkImagesToLoad()}),this.initializing=!0,self.checkImagesToLoad()},LazyLoading.prototype.checkElementsToLoad=function(callback){var self=this;$("div.lazyLoaded").each(function(){var $div=$(this);self.isElementInViewPort($div)&&callback($div)})},LazyLoading.prototype.checkImagesToLoad=function(){var self=this;$("img.lazyLoaded[data-src]").not(".data-cloak").each(function(){var $img=$(this);if(self.isElementInViewPort($img)){var $containerDiv=$("<div/>");$containerDiv.css({display:"inline-block",position:"relative"}),$img.after($containerDiv),$containerDiv.append($img);var $clonedImg=$img.clone();$clonedImg.removeAttr("data-src"),$clonedImg.css({position:"absolute",top:0,left:0,height:"100%",width:"100%","background-color":"#fff"}),$img.after($clonedImg),$img.on("load",function(){$clonedImg.fadeOut(50,function(){$img.insertAfter($containerDiv),$containerDiv.remove()}),$img.trigger("LazyLoadComplete")}),$img.attr("src",$img.attr("data-src")),$img.removeAttr("width"),$img.removeAttr("height"),$img.removeAttr("data-src")}})},LazyLoading.prototype.checkDivToLoad=function(){var self=this;$(".lazyLoaded-wrapper").each(function(index,elt){var $elt=$(elt);if(self.isElementInViewPort($elt)){var $img=$elt.parent().find(".lazyLoaded");self.switchWrapperToImage($elt,$img)}})},LazyLoading.prototype.switchWrapperToImage=function($wrapper,$img){$img.on("load",{parent:$wrapper},function(event){event.data.parent.animate({opacity:0,"z-index":0},{queue:!1,duration:100}),$(this).animate({opacity:1},{queue:!1,duration:100})}),$img.attr("src",$img.attr("data-src")),$img.removeAttr("data-src")},LazyLoading.prototype.isElementInViewPort=function($element){if(0===$element.length)return!1;var rect=$element[0].getBoundingClientRect(),extensionViewPortValue=window.isMobileDevice()?this._options.viewPortMobileExtension:this._options.viewPortDesktopExtension;return(rect.top>=0||rect.bottom>=0)&&rect.left>=0&&rect.top<=(window.innerHeight+extensionViewPortValue||document.documentElement.clientHeight+extensionViewPortValue)},module.exports=LazyLoading}).call(exports,__webpack_require__(4))},70:function(module,exports,__webpack_require__){(function($){var GoogleMapsApiLoader=function(language){if(GoogleMapsApiLoader.prototype._singletonInstance)return GoogleMapsApiLoader.prototype._singletonInstance;GoogleMapsApiLoader.prototype._singletonInstance=this,this._language=language,this._gMapsApiIsLoaded=void 0!==window.google&&void 0!==window.google.maps,this._gMapsApiIsLoading=!1,this._gMapsWaitingCallbacks=[]};GoogleMapsApiLoader.prototype.getInstance=function(){return GoogleMapsApiLoader.prototype._singletonInstance},GoogleMapsApiLoader.prototype.apiLoadedCallback=function(){var self=this;for(self._gMapsApiIsLoaded=!0,self._gMapsApiIsLoading=!1;self._gMapsWaitingCallbacks.length>0;){var callback=self._gMapsWaitingCallbacks.shift();ve.utils.executeCallback(callback)}},GoogleMapsApiLoader.prototype.loadApi=function(instance,method,params){var callback=new ve.objects.callback(instance,method,params),self=this;if(!0===self._gMapsApiIsLoaded)ve.utils.executeCallback(callback);else if(self._gMapsWaitingCallbacks.push(callback),!1===self._gMapsApiIsLoading){self._gMapsApiIsLoading=!0;var language=self._language
;"en"===language&&(language="en_us"),"47"!==window.getCookie("c")&&$.getScript("https://maps.google.com/maps/api/js?client=gme-virtualexposa&libraries=places&sensor=false&callback=googleMapsApiLoadedCallback&language="+self._language)}},window.googleMapsApiLoadedCallback=function(){GoogleMapsApiLoader.prototype.getInstance().apiLoadedCallback()},module.exports=GoogleMapsApiLoader}).call(exports,__webpack_require__(4))},71:function(module,exports,__webpack_require__){(function($){var GoogleMapsManager=function(googleMapsApiLoader){this._dependenciesAreLoaded="undefined"!=typeof OverlappingMarkerSpiderfier&&void 0!==window.ve.InfoBox,this._dependenciesAreLoading=!1,this._dependenciesWaitingCallbacks=[],this._googleMapsApiLoader=googleMapsApiLoader,this._maps=[]};GoogleMapsManager.prototype._loadDependencies=function(instance,method,params){var callback=new ve.objects.callback(instance,method,params),self=this;if(!0===self._dependenciesAreLoaded)ve.utils.executeCallback(callback);else if(self._dependenciesWaitingCallbacks.push(callback),!1===self._dependenciesAreLoading){self._dependenciesAreLoading=!0;var linkUrlLib=window.ve.urlProtocol+window.ve.staticSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/js/lib/",omsScript=$.getScript(linkUrlLib+"oms/oms.min.js"),infoBoxScript=$.getScript(linkUrlLib+"infobox/infobox.js"),clustererScript=$.getScript(linkUrlLib+"marker-clusterer/markerclusterer_compiled.js"),dependenciesLoadingSuccess=function(jqXhrOmsScript,jqXhrInfoBoxScript){for(self._dependenciesAreLoaded=!0,self._dependenciesAreLoading=!1;self._dependenciesWaitingCallbacks.length>0;){var callback=self._dependenciesWaitingCallbacks.shift();ve.utils.executeCallback(callback)}},dependenciesLoadingError=function(jqXhrError){self._dependenciesAreLoaded=!1,self._dependenciesAreLoading=!1};$.when(omsScript,infoBoxScript,clustererScript).then(dependenciesLoadingSuccess,dependenciesLoadingError)}},GoogleMapsManager.prototype.createMap=function(mapOptions,popinOptions){var self=this;self._googleMapsApiLoader.loadApi(self,self._loadDependencies,[self,self._createMapInternal,[mapOptions,popinOptions]])},GoogleMapsManager.prototype.createLinkMap=function(mapOptions){var query=encodeURI("https://maps.google.com/?q="+mapOptions.address);document.getElementById(mapOptions.id).innerHTML="<a href='"+query+"' target='_blank' class='btn btn-default right no-padding-left no-padding-right'>"+mapOptions.text+"</a>"},GoogleMapsManager.prototype._createMapInternal=function(mapOptions,popinOptions){var gmapOptions={zoom:void 0===mapOptions.zoom?10:mapOptions.zoom,center:new window.google.maps.LatLng(mapOptions.latitude,mapOptions.longitude),noClear:!1,mapTypeId:window.google.maps.MapTypeId.ROADMAP,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,clickableIcons:!1,disableDefaultUI:!0,styles:[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}]},gmap=new window.google.maps.Map(mapOptions.div,gmapOptions),defaultInfoBoxOptions={content:"",disableAutoPan:!1,maxWidth:0,pixelOffset:new window.google.maps.Size(-123,16),zIndex:null,boxStyle:{opacity:1,width:"250px"},closeBoxMargin:"4px 2px 2px 7px",infoBoxClearance:new window.google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1},infoBoxOptions=void 0===popinOptions?defaultInfoBoxOptions:$.extend(defaultInfoBoxOptions,popinOptions),infoBox=new window.ve.InfoBox(infoBoxOptions),oms=new OverlappingMarkerSpiderfier(gmap,{keepSpiderfied:!0,markersWontHide:!0,nearbyDistance:20});oms.addListener("click",this._executeMarkerCallback),oms.addListener("spiderfy",function(spiderfiedMarkers,notSpiderfiedMarkers){infoBox.getVisible()&&infoBox.close()});var clusterStyles=[{url:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/"+window.ve.siteName+"/markers/m1.png",width:53,height:52},{url:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/"+window.ve.siteName+"/markers/m2.png",width:56,height:52},{url:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/"+window.ve.siteName+"/markers/m3.png",width:66,height:65},{url:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/"+window.ve.siteName+"/markers/m4.png",width:78,height:77},{url:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/"+window.ve.siteName+"/markers/m5.png",width:90,height:89}],markerClusterer=new MarkerClusterer(gmap,[],{maxZoom:9,styles:clusterStyles});window.google.maps.event.addListener(markerClusterer,"clusterclick",function(cluster){gmap.fitBounds(cluster.getBounds()),gmap.getZoom()>14&&gmap.setZoom(14)});var map={id:mapOptions.id,gmap:gmap,oms:oms,markerClusterer:markerClusterer,infoBox:infoBox,markers:{}};this._maps[mapOptions.id]=map},GoogleMapsManager.prototype.getMap=function(id){return this._maps[id]},GoogleMapsManager.prototype.addMarkerToMap=function(mapId,markerOptions){var self=this;self._googleMapsApiLoader.loadApi(self,self._loadDependencies,[self,self._addMarkerToMapInternal,[mapId,markerOptions]])},GoogleMapsManager.prototype._addMarkerToMapInternal=function(mapId,markerOptions){var map=this.getMap(mapId),expectedMarkerOptions={map:map.gmap,position:new window.google.maps.LatLng(markerOptions.latitude,markerOptions.longitude),type:"point",fullMap:map,cluster:!0},fullMarkerOptions=$.extend(expectedMarkerOptions,markerOptions),marker=new window.google.maps.Marker(fullMarkerOptions);map.markers[fullMarkerOptions.id]=marker,map.oms.addMarker(marker),expectedMarkerOptions.cluster&&map.markerClusterer.addMarker(marker)},GoogleMapsManager.prototype.getMarker=function(mapId,markerId){return this.getMap(mapId).markers[markerId]},GoogleMapsManager.prototype.fitToMarkers=function(mapId){var self=this;self._googleMapsApiLoader.loadApi(self,self._loadDependencies,[self,self._fitToMarkersInternal,mapId])},GoogleMapsManager.prototype._fitToMarkersInternal=function(mapId){var map=this.getMap(mapId),bounds=new window.google.maps.LatLngBounds;for(index in map.markers){var marker=map.markers[index];bounds.extend(marker.position)}map.gmap.fitBounds(bounds)},GoogleMapsManager.prototype.clickOnMarker=function(mapId,markerId){var self=this;self._googleMapsApiLoader.loadApi(self,self._loadDependencies,[self,self._clickOnMarkerInternal,[mapId,markerId]])},GoogleMapsManager.prototype._clickOnMarkerInternal=function(mapId,markerId){var marker=this.getMarker(mapId,markerId);this._executeMarkerCallback(marker)},GoogleMapsManager.prototype._executeMarkerCallback=function(marker,event){if(void 0!==marker.callback){var callback=new ve.objects.callback(marker.callback.instance,marker.callback.method,marker,event);ve.utils.executeCallback(callback)}else void 0!==marker.html&&(marker.fullMap.infoBox.setContent(marker.html),marker.fullMap.infoBox.open(marker.map,marker))},GoogleMapsManager.prototype.zoom=function(mapId,zoomLevel){var self=this;self._googleMapsApiLoader.loadApi(self,self._loadDependencies,[self,self._zoomInternal,[mapId,zoomLevel]])},GoogleMapsManager.prototype._zoomInternal=function(mapId,zoomLevel){this.getMap(mapId).gmap.setZoom(zoomLevel)},module.exports=GoogleMapsManager}).call(exports,__webpack_require__(4))},72:function(module,exports,__webpack_require__){(function($,jQuery){var GooglePlaceAutoCompleteManager=function(language,isPrefixRequired,urlCountryPhonePrefix,googleMapsApiLoader,isSearchByAddress){this._expectedFields=["form","searchTextField","city","country","administrativeArea","lat","lon","errorCity"],this._placeFieldsRequired=["address_component","place_id","geometry"],this._isSearchByAddress=void 0!==isSearchByAddress&&isSearchByAddress,!0===this._isSearchByAddress&&this._expectedFields.push("address","route","postalCode"),this._isPrefixRequired,this.setIsPrefixRequired("undefined"!==isPrefixRequired&&isPrefixRequired),this._changeCallback,this._autocompleteService=null,this._placeService=null,this._places={},this._searchPlacesInProgress=!1,this._placeSelected=!1,this._searchInputTimeout=null,this._placeListTimeout=null,this._minCharsRequiredForGeocoding=1,this._elements={form:null,searchTextField:null,prefix:null,city:null,country:null,administrativeArea:null,lat:null,lon:null,route:null,postalCode:null,address:null,errorCity:null},this._language=language,this._urlCountryPhonePrefix=urlCountryPhonePrefix,this._googleMapsApiLoader=googleMapsApiLoader,this._sessionToken=null};GooglePlaceAutoCompleteManager.prototype.initFields=function(fields){var self=this;$.each(self._expectedFields,function(index,fieldName){if(void 0===fields[fieldName])throw new Error('Le champ "'+fieldName+'" est manquant.');self._elements[fieldName]=self._checkElement(fields[fieldName])}),self._initSearchField()},GooglePlaceAutoCompleteManager.prototype.setIsPrefixRequired=function(isPrefixRequired){var self=this;self._isPrefixRequired=isPrefixRequired,self._expectedFields=$.grep(self._expectedFields,function(a){return"prefix"!==a}),!0===self._isPrefixRequired&&self._expectedFields.push("prefix")},GooglePlaceAutoCompleteManager.prototype.setChangeCallback=function(changeCallback){this._changeCallback=changeCallback},GooglePlaceAutoCompleteManager.prototype._initSearchField=function(){var self=this;self._elements.searchTextField.keypress(function(event){13===event.keyCode?($("#places-predictions").trigger("close"),event.preventDefault()):9!==event.keyCode&&self._resetDatasFields()}).keydown(function(event){8===event.keyCode||46===event.keyCode?self._resetDatasFields():9===event.keyCode&&$("#places-predictions").trigger("close")}).focusin(function(event){clearTimeout(self._placeListTimeout)}).focusout(function(event){var city=self._elements.city.val();self._elements.searchTextField.val().length>=self._minCharsRequiredForGeocoding&&0===city.length&&!1===self._searchPlacesInProgress&&self.geocodeForm($(".pac-container .pac-item:first").clone().contents().not(":first").prepend(" ").text().trim()),clearTimeout(self._searchInputTimeout),self._searchInputTimeout=setTimeout(function(){$("#places-predictions").trigger("close")},1e3)});var parentContainer=self._elements.searchTextField.parent().get(0),loaderContainer=document.createElement("div");loaderContainer.setAttribute("class","container-loader hidden");var loader=document.createElement("div");loader.setAttribute("class","loader small-loader"),loaderContainer.appendChild(loader),parentContainer.appendChild(loaderContainer),self._elements.form.find(":input:not(:radio)").one("focus",function(event){self._searchFieldOnFocus()});var field=self._elements.city.val();field=!0===self._isSearchByAddress?self._elements.address.val():self._elements.city.val();var searchTextField=self._elements.searchTextField.val();searchTextField.length&&0===field.length&&self.geocodeForm(searchTextField)},GooglePlaceAutoCompleteManager.prototype._checkElement=function(element){if(0===element.length)return!1;if(!1==element instanceof jQuery){var elementId="#"===element.charAt(0)?element:"#"+element;if(element=$(document).find(elementId),0===element.length)return!1}return element},GooglePlaceAutoCompleteManager.prototype._resetDatasFields=function(){var self=this;self._elements.searchTextField.removeClass("found"),self._elements.searchTextField.addClass("notfound"),self._elements.city.val(""),self._elements.country.val(""),self._elements.administrativeArea.val(""),self._elements.lat.val(""),self._elements.lon.val(""),!0===self._isPrefixRequired&&self._elements.prefix.val(""),!0===self._isSearchByAddress&&(self._elements.route.val(""),self._elements.postalCode.val(""),self._elements.address.val(""))},GooglePlaceAutoCompleteManager.prototype.geocodeForm=function(value){var self=this;if(value===self._elements.searchTextField.attr("placeholder"))return void self._resetDatasFields();self._googleMapsApiLoader.loadApi(self,self._geocodeFormCallback,value)},GooglePlaceAutoCompleteManager.prototype._geocodeFormCallback=function(value){var self=this;(new window.google.maps.Geocoder).geocode({address:value},function(results,status){if(status===window.google.maps.GeocoderStatus.OK){var place=results[0];self._updateFormFromPlace(place)}else status===window.google.maps.GeocoderStatus.ZERO_RESULTS&&self._resetDatasFields()})},GooglePlaceAutoCompleteManager.prototype._updateFormFromPlace=function(place){var shortCountryName=null,countryName=null,administrativeArea=null,city=null,address="",streetNumber=null,postalCode="",route=null,sublocality=null,self=this;self._elements.searchTextField.val(place.formatted_address);for(var i in place.address_components)for(var type in place.address_components[i].types){var currentType=place.address_components[i].types[type];"country"!==currentType?"locality"!==currentType?"administrative_area_level_1"!==currentType?"street_number"!==currentType?"route"!==currentType?"postal_code"!==currentType?"sublocality"!==currentType||(sublocality=place.address_components[i].long_name):postalCode=place.address_components[i].short_name:route=place.address_components[i].short_name:streetNumber=place.address_components[i].short_name:administrativeArea=place.address_components[i].short_name:city=place.address_components[i].long_name:(countryName=place.address_components[i].long_name,shortCountryName=place.address_components[i].short_name)}if(!place.geometry)return void self._resetDatasFields();!1===self._isSearchByAddress&&self._elements.searchTextField.val(city+", "+countryName),self._elements.searchTextField.removeClass("notfound"),self._elements.searchTextField.addClass("found"),self._elements.city.val(city),self._elements.country.val(shortCountryName),self._elements.administrativeArea.val(administrativeArea),self._elements.lat.val(place.geometry.location.lat()),self._elements.lon.val(place.geometry.location.lng()),!0===self._isSearchByAddress&&(self._elements.postalCode.val(postalCode),self._elements.route.val(route),null!==streetNumber&&(address+=streetNumber,address+=" "),null!==route&&null!==address&&(address+=route),null!==sublocality&&null!==address&&(address+=" ",address+=sublocality),self._elements.address.val(address)),!0===self._isPrefixRequired&&null!==shortCountryName&&$.ajax({url:self._urlCountryPhonePrefix,dataType:"json",data:{countryIsoCode:shortCountryName},type:"GET",success:function(data){self._elements.prefix.val(data.content)}}),void 0!==self._changeCallback&&ve.utils.executeCallback(self._changeCallback)},GooglePlaceAutoCompleteManager.prototype._searchFieldOnFocus=function(){var self=this;self._googleMapsApiLoader.loadApi(self,function(){var options={rankBy:window.google.maps.places.RankBy.DISTANCE};!0===self._isSearchByAddress?options.types=["geocode"]:options.types=["(cities)"];var $input=self._elements.searchTextField;null===self._autocompleteService&&(self._autocompleteService=new window.google.maps.places.AutocompleteService),null===self._placeService&&(self._placeService=new window.google.maps.places.PlacesService($input.get(0)));var acTimeOut;$input.keyup(function(event){var $currentElement=$(event.currentTarget),searchText=$currentElement.val();searchText.length>=self._minCharsRequiredForGeocoding&&(clearTimeout(acTimeOut),$(".container-loader").show(),acTimeOut=setTimeout(function(){self._searchPlacesInProgress=!0,self._placeSelected=!1,null===self._sessionToken&&(self._sessionToken=new google.maps.places.AutocompleteSessionToken),options.input=searchText,options.sessionToken=self._sessionToken,self._autocompleteService.getPlacePredictions(options,function(predictions,status){if(status!=window.google.maps.places.PlacesServiceStatus.OK)return void $(".container-loader").hide();var $oldList=$(".places-list");void 0!==$oldList&&($oldList.off(),$oldList.children("li").off(),$oldList.remove());var ul=document.createElement("ul");ul.setAttribute("class","places-list hidden"),ul.setAttribute("id","places-predictions"),predictions.forEach(function(prediction){var li=document.createElement("li");li.setAttribute("id",prediction.place_id),li.appendChild(document.createTextNode(prediction.description)),ul.appendChild(li)});var $input=self._elements.searchTextField;$input.parent().get(0).appendChild(ul);var $newList=$(ul);$newList.on("close",function(event){$placesList=$(event.currentTarget),!1===self._placeSelected&&$placesList.find("li:first-child").trigger("click"),$placesList.hide()}),$newList.on("mouseenter",function(event){clearTimeout(self._searchInputTimeout)}),$newList.on("mouseleave",function(event){clearTimeout(self._placeListTimeout),self._placeListTimeout=setTimeout(function(){$(this).attr("id")!==$("#"+event.target.id).parents("#places-predictions").attr("id")&&$("#places-predictions").trigger("close")},1e3)}),$newList.find(">li").on("click",function(event){self._placeSelected=!0;var placeId=event.currentTarget.id;self._getPlaceDetails(placeId,$(event.currentTarget).parent("ul")),$input.removeClass("found notfound")}),$newList.show(),self._placesListOpened=!0,$(".container-loader").hide()})},1e3))})})},GooglePlaceAutoCompleteManager.prototype._getPlaceDetails=function(placeId,$element){var self=this;void 0===self._places[placeId]?self._placeService.getDetails({placeId:placeId,sessionToken:self._sessionToken,fields:self._placeFieldsRequired},function(predictions,status){if(status!==window.google.maps.places.PlacesServiceStatus.OK)throw new Error("ERROR: "+status);self._places[placeId]=predictions,self._updateFormFromPlace(self._places[placeId]),$element.trigger("close")}):(self._updateFormFromPlace(self._places[placeId]),$element.trigger("close")),self._searchPlacesInProgress=!1,self._sessionToken=null},module.exports=GooglePlaceAutoCompleteManager}).call(exports,__webpack_require__(4),__webpack_require__(4))},73:function(module,exports,__webpack_require__){var GoogleGeocoderManager=function(googleMapsApiLoader){this._googleMapsApiLoader=googleMapsApiLoader};GoogleGeocoderManager.prototype.geocodeAddress=function(address,callback){var self=this;self._googleMapsApiLoader.loadApi(self,self._geocodeAddressCallback,[address,callback])},GoogleGeocoderManager.prototype._geocodeAddressCallback=function(address,callback){(new window.google.maps.Geocoder).geocode({address:address},function(results,status){void 0!==callback.parameters?callback.parameters=callback.parameters.concat([results,status]):callback.parameters=[results,status],ve.utils.executeCallback(callback)})},module.exports=GoogleGeocoderManager},74:function(module,exports,__webpack_require__){(function(jQuery){!function($){function sc_setScroll(d,e){return{anims:[],duration:d,orgDuration:d,easing:e,startTime:getTime()}}function sc_startScroll(s){"object"==typeof s.pre&&sc_startScroll(s.pre);for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];b&&(b[3]&&b[0].stop(),b[0].animate(b[1],{complete:b[2],duration:s.duration,easing:s.easing}))}"object"==typeof s.post&&sc_startScroll(s.post)}function sc_stopScroll(s,finish){"boolean"!=typeof finish&&(finish=!0),"object"==typeof s.pre&&sc_stopScroll(s.pre,finish);for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];b[0].stop(!0),finish&&(b[0].css(b[1]),"function"==typeof b[2]&&b[2]())}"object"==typeof s.post&&sc_stopScroll(s.post,finish)}function sc_clearTimers(t){return t.auto&&clearTimeout(t.auto),t}function sc_callCallbacks(cbs,t,args){if(cbs.length)for(var a=0,l=cbs.length;a<l;a++)cbs[a].apply(t,args);return[]}function fx_fade(sO,c,x,d,f){var o={duration:d,easing:sO.easing};"function"==typeof f&&(o.complete=f),c.animate({opacity:x},o)}function fx_cover(sc,c1,c2,o,prev){var old_w=ms_getSizes(gi_getOldItemsNext(c1.children(),o),o,!0)[0],new_w=ms_getSizes(c2.children(),o,!0)[0],cur_l=prev?-new_w:old_w,css_o={},ani_o={};return css_o[o.d.width]=new_w,css_o[o.d.left]=cur_l,ani_o[o.d.left]=0,sc.pre.anims.push([c1,{opacity:1}]),sc.post.anims.push([c2,ani_o,function(){$(this).remove()}]),c2.css(css_o),sc}function fx_uncover(sc,c1,c2,o,prev,n){var new_w=ms_getSizes(gi_getNewItemsNext(c1.children(),o,n),o,!0)[0],old_w=ms_getSizes(c2.children(),o,!0)[0],cur_l=prev?-old_w:new_w,css_o={},ani_o={};return css_o[o.d.width]=old_w,css_o[o.d.left]=0,ani_o[o.d.left]=cur_l,sc.post.anims.push([c2,ani_o,function(){$(this).remove()}]),c2.css(css_o),sc}function nv_showNavi(o,t,c){if("show"==t||"hide"==t)var f=t;else if(o.items.minimum>=t){debug(c,"Not enough items: hiding navigation ("+t+" items, "+o.items.minimum+" needed).");var f="hide"}else var f="show";var s="show"==f?"removeClass":"addClass",h=cf_c("hidden",c);o.auto.button&&o.auto.button[f]()[s](h),o.prev.button&&o.prev.button[f]()[s](h),o.next.button&&o.next.button[f]()[s](h),o.pagination.container&&o.pagination.container[f]()[s](h)}function nv_enableNavi(o,f,c){if(!o.circular&&!o.infinite){var fx=("removeClass"==f||"addClass"==f)&&f,di=cf_c("disabled",c);if(o.auto.button&&fx&&o.auto.button[fx](di),o.prev.button){var fn=fx||0==f?"addClass":"removeClass";o.prev.button[fn](di)}if(o.next.button){var fn=fx||f==o.items.visible?"addClass":"removeClass";o.next.button[fn](di)}}}function go_getObject($tt,obj){return"function"==typeof obj&&(obj=obj.call($tt)),void 0===obj&&(obj={}),obj}function go_getNaviObject($tt,obj,type){if("string"!=typeof type&&(type=""),"string"==typeof(obj=go_getObject($tt,obj))){var temp=cf_getKeyCode(obj);obj=-1==temp?$(obj):temp}return"pagination"==type?("boolean"==typeof obj&&(obj={keys:obj}),void 0!==obj.jquery&&(obj={container:obj}),"function"==typeof obj.container&&(obj.container=obj.container.call($tt)),"string"==typeof obj.container&&(obj.container=$(obj.container)),"number"!=typeof obj.items&&(obj.items=!1)):"auto"==type?(void 0!==obj.jquery&&(obj={button:obj}),"boolean"==typeof obj&&(obj={play:obj}),"number"==typeof obj&&(obj={pauseDuration:obj}),"function"==typeof obj.button&&(obj.button=obj.button.call($tt)),"string"==typeof obj.button&&(obj.button=$(obj.button))):(void 0!==obj.jquery&&(obj={button:obj}),"number"==typeof obj&&(obj={key:obj}),"function"==typeof obj.button&&(obj.button=obj.button.call($tt)),"string"==typeof obj.button&&(obj.button=$(obj.button)),"string"==typeof obj.key&&(obj.key=cf_getKeyCode(obj.key))),obj}function gn_getItemIndex(num,dev,org,items,$cfs){if("string"==typeof num&&(num=isNaN(num)?$(num):parseInt(num)),"object"==typeof num?(void 0===num.jquery&&(num=$(num)),num=$cfs.children().index(num),-1==num&&(num=0),"boolean"!=typeof org&&(org=!1)):"boolean"!=typeof org&&(org=!0),num=isNaN(num)?0:parseInt(num),dev=isNaN(dev)?0:parseInt(dev),org&&(num+=items.first),num+=dev,items.total>0){for(;num>=items.total;)num-=items.total;for(;num<0;)num+=items.total}return num}function gn_getVisibleItemsPrev(i,o,s){for(var t=0,x=0,a=s;a>=0;a--){var j=i.eq(a);if((t+=j.is(":visible")?j[o.d.outerWidth](!0):0)>o.maxDimention)return x;0==a&&(a=i.length),x++}}function gn_getVisibleItemsPrevFilter(i,o,s){return gn_getItemsPrevFilter(i,o.items.filter,o.items.visibleConf.org,s)}function gn_getScrollItemsPrevFilter(i,o,s,m){return gn_getItemsPrevFilter(i,o.items.filter,m,s)}function gn_getItemsPrevFilter(i,f,m,s){for(var t=0,x=0,a=s,l=i.length;a>=0;a--){if(++x==l)return x;if(i.eq(a).is(f)&&++t==m)return x;0==a&&(a=l)}}function gn_getVisibleOrg($c,o){return o.items.visibleConf.org||$c.children().slice(0,o.items.visible).filter(o.items.filter).length}function gn_getVisibleItemsNext(i,o,s){for(var t=0,x=0,a=s,l=i.length-1;a<=l;a++){var j=i.eq(a);if((t+=j.is(":visible")?j[o.d.outerWidth](!0):0)>o.maxDimention)return x;if(++x==l+1)return x;a==l&&(a=-1)}}function gn_getVisibleItemsNextTestCircular(i,o,s,l){var v=gn_getVisibleItemsNext(i,o,s);return o.circular||s+v>l&&(v=l-s),v}function gn_getVisibleItemsNextFilter(i,o,s){return gn_getItemsNextFilter(i,o.items.filter,o.items.visibleConf.org,s,o.circular)}function gn_getScrollItemsNextFilter(i,o,s,m){return gn_getItemsNextFilter(i,o.items.filter,m+1,s,o.circular)-1}function gn_getItemsNextFilter(i,f,m,s,c){for(var t=0,x=0,a=s,l=i.length-1;a<=l;a++){if(++x==l)return x;if(i.eq(a).is(f)&&++t==m)return x;a==l&&(a=-1)}}function gi_getCurrentItems(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsPrev(i,o,n){return i.slice(n,o.items.visibleConf.old+n)}function gi_getNewItemsPrev(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsNext(i,o){return i.slice(0,o.items.visibleConf.old)}function gi_getNewItemsNext(i,o,n){return i.slice(n,o.items.visible+n)}function sz_resetMargin(i,o,m){var x="boolean"==typeof m&&m;"number"!=typeof m&&(m=0),i.each(function(){var j=$(this),t=parseInt(j.css(o.d.marginRight));isNaN(t)&&(t=0),j.data("cfs_tempCssMargin",t),j.css(o.d.marginRight,x?j.data("cfs_tempCssMargin"):m+j.data("cfs_origCssMargin"))})}function sz_setSizes($c,o,p){var $w=$c.parent(),$i=$c.children(),$v=gi_getCurrentItems($i,o),sz=cf_mapWrapperSizes(ms_getSizes($v,o,!0),o,p);if($w.css(sz),o.usePadding){var p=o.padding,r=p[o.d[1]];o.align&&r<0&&(r=0);var $l=$v.last();$l.css(o.d.marginRight,$l.data("cfs_origCssMargin")+r),$c.css(o.d.top,p[o.d[0]]),$c.css(o.d.left,p[o.d[3]])}return $c.css(o.d.width,sz[o.d.width]+2*ms_getTotalSize($i,o,"width")),$c.css(o.d.height,ms_getLargestSize($i,o,"height")),sz}function ms_getSizes(i,o,wrapper){return[ms_getTotalSize(i,o,"width",wrapper),ms_getLargestSize(i,o,"height",wrapper)]}function ms_getLargestSize(i,o,dim,wrapper){return"boolean"!=typeof wrapper&&(wrapper=!1),"number"==typeof o[o.d[dim]]&&wrapper?o[o.d[dim]]:"number"==typeof o.items[o.d[dim]]?o.items[o.d[dim]]:ms_getTrueLargestSize(i,o,dim.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight")}function ms_getTrueLargestSize(i,o,dim){for(var s=0,a=0,l=i.length;a<l;a++){var j=i.eq(a),m=j.is(":visible")?j[o.d[dim]](!0):0;s<m&&(s=m)}return s}function ms_getTrueInnerSize($el,o,dim){if(!$el.is(":visible"))return 0;for(var siz=$el[o.d[dim]](),arr=o.d[dim].toLowerCase().indexOf("width")>-1?["paddingLeft","paddingRight"]:["paddingTop","paddingBottom"],a=0,l=arr.length;a<l;a++){var m=parseInt($el.css(arr[a]));siz-=isNaN(m)?0:m}return siz}function ms_getTotalSize(i,o,dim,wrapper){if("boolean"!=typeof wrapper&&(wrapper=!1),"number"==typeof o[o.d[dim]]&&wrapper)return o[o.d[dim]];if("number"==typeof o.items[o.d[dim]])return o.items[o.d[dim]]*i.length;for(var d=dim.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",s=0,a=0,l=i.length;a<l;a++){var j=i.eq(a);s+=j.is(":visible")?j[o.d[d]](!0):0}return s}function ms_hasVariableSizes(i,o,dim){for(var s=!1,v=!1,a=0,l=i.length;a<l;a++){var j=i.eq(a),c=j.is(":visible")?j[o.d[dim]](!0):0;!1===s?s=c:s!=c&&(v=!0),0==s&&(v=!0)}return v}function ms_getPaddingBorderMargin(i,o,d){return i[o.d["outer"+d]](!0)-ms_getTrueInnerSize(i,o,"inner"+d)}function ms_isPercentage(x){return"string"==typeof x&&"%"==x.slice(-1)}function ms_getPercentage(s,o){if(ms_isPercentage(o)){if(o=o.slice(0,-1),isNaN(o))return s;s*=o/100}return s}function cf_e(n,c,pf,ns,rd){return"boolean"!=typeof pf&&(pf=!0),"boolean"!=typeof ns&&(ns=!0),"boolean"!=typeof rd&&(rd=!1),pf&&(n=c.events.prefix+n),ns&&(n=n+"."+c.events.namespace),ns&&rd&&(n+=c.serialNumber),n}function cf_c(n,c){return"string"==typeof c.classnames[n]?c.classnames[n]:n}function cf_mapWrapperSizes(ws,o,p){"boolean"!=typeof p&&(p=!0);var pad=o.usePadding&&p?o.padding:[0,0,0,0],wra={};return wra[o.d.width]=ws[0]+pad[1]+pad[3],wra[o.d.height]=ws[1]+pad[0]+pad[2],wra}function cf_sortParams(vals,typs){for(var arr=[],a=0,l1=vals.length;a<l1;a++)for(var b=0,l2=typs.length;b<l2;b++)if(typs[b].indexOf(typeof vals[a])>-1&&void 0===arr[b]){arr[b]=vals[a];break}return arr}function cf_getPadding(p){if(void 0===p)return[0,0,0,0];if("number"==typeof p)return[p,p,p,p];if("string"==typeof p&&(p=p.split("px").join("").split("em").join("").split(" ")),!is_array(p))return[0,0,0,0];for(var i=0;i<4;i++)p[i]=parseInt(p[i]);switch(p.length){case 0:return[0,0,0,0];case 1:return[p[0],p[0],p[0],p[0]];case 2:return[p[0],p[1],p[0],p[1]];case 3:return[p[0],p[1],p[2],p[1]];default:return[p[0],p[1],p[2],p[3]]}}function cf_getAlignPadding(itm,o){var x="number"==typeof o[o.d.width]?Math.ceil(o[o.d.width]-ms_getTotalSize(itm,o,"width")):0;switch(o.align){case"left":return[0,x];case"right":return[x,0];case"center":default:return[Math.ceil(x/2),Math.floor(x/2)]}}function cf_getAdjust(x,o,a,$t){var v=x;if("function"==typeof a)v=a.call($t,v);else if("string"==typeof a){var p=a.split("+"),m=a.split("-");if(m.length>p.length)var neg=!0,sta=m[0],adj=m[1];else var neg=!1,sta=p[0],adj=p[1];switch(sta){case"even":v=x%2==1?x-1:x;break;case"odd":v=x%2==0?x-1:x;break;default:v=x}adj=parseInt(adj),isNaN(adj)||(neg&&(adj=-adj),v+=adj)}return"number"!=typeof v&&(v=1),v<1&&(v=1),v}function cf_getItemsAdjust(x,o,a,$t){return cf_getItemAdjustMinMax(cf_getAdjust(x,o,a,$t),o.items.visibleConf)}function cf_getItemAdjustMinMax(v,i){return"number"==typeof i.min&&v<i.min&&(v=i.min),"number"==typeof i.max&&v>i.max&&(v=i.max),v<1&&(v=1),v}function cf_getSynchArr(s){is_array(s)||(s=[[s]]),is_array(s[0])||(s=[s]);for(var j=0,l=s.length;j<l;j++)"string"==typeof s[j][0]&&(s[j][0]=$(s[j][0])),"boolean"!=typeof s[j][1]&&(s[j][1]=!0),"boolean"!=typeof s[j][2]&&(s[j][2]=!0),"number"!=typeof s[j][3]&&(s[j][3]=0);return s}function cf_getKeyCode(k){return"right"==k?39:"left"==k?37:"up"==k?38:"down"==k?40:-1}function cf_setCookie(n,v){n&&(document.cookie=n+"="+v+"; path=/")}function cf_readCookie(n){n+="=";for(var ca=document.cookie.split(";"),a=0,l=ca.length;a<l;a++){for(var c=ca[a];" "==c.charAt(0);)c=c.slice(1);if(0==c.indexOf(n))return c.slice(n.length)}return 0}function bt_pauseOnHoverConfig(p){if(p&&"string"==typeof p)var i=p.indexOf("immediate")>-1,r=p.indexOf("resume")>-1;else var i=r=!1;return[i,r]}function bt_mousesheelNumber(mw){return"number"==typeof mw?mw:null}function is_array(a){return"object"==typeof a&&a instanceof Array}function getTime(){return(new Date).getTime()}function debug(d,m){if("object"==typeof d){var s=" ("+d.selector+")";d=d.debug}else var s="";return!!d&&(m="string"==typeof m?"carouFredSel"+s+": "+m:["carouFredSel"+s+":",m],window.console&&window.console.log&&window.console.log(m),!1)}$.fn.carouFredSel||($.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0];if($cfs.data("cfs_isCarousel")){var starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",!0])}else var starting_position=!1;$cfs._cfs_init=function(o,setOrig,start){o=go_getObject($tt0,o);for(var obs=["items","scroll","auto","prev","next","pagination"],a=0,l=obs.length;a<l;a++)o[obs[a]]=go_getObject($tt0,o[obs[a]]);"number"==typeof o.scroll?o.scroll<=50?o.scroll={items:o.scroll}:o.scroll={duration:o.scroll}:"string"==typeof o.scroll&&(o.scroll={easing:o.scroll}),"number"==typeof o.items?o.items={visible:o.items}:"variable"==o.items&&(o.items={visible:o.items,width:o.items,height:o.items}),"object"!=typeof o.items&&(o.items={}),setOrig&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,o)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,o),"object"!=typeof opts.items.visibleConf&&(opts.items.visibleConf={}),0==opts.items.start&&"number"==typeof start&&(opts.items.start=start),
crsl.upDateOnWindowResize=opts.responsive,crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var dims=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],dn=dims[0].length,dx="right"==opts.direction||"left"==opts.direction?0:1;opts.d={};for(var d=0;d<dn;d++)opts.d[dims[0][d]]=dims[dx][d];var all_itm=$cfs.children();switch(typeof opts.items.visible){case"object":opts.items.visibleConf.min=opts.items.visible.min,opts.items.visibleConf.max=opts.items.visible.max,opts.items.visible=!1;break;case"string":"variable"==opts.items.visible?opts.items.visibleConf.variable=!0:opts.items.visibleConf.adjust=opts.items.visible,opts.items.visible=!1;break;case"function":opts.items.visibleConf.adjust=opts.items.visible,opts.items.visible=!1}if(void 0===opts.items.filter&&(opts.items.filter=all_itm.filter(":hidden").length>0?":visible":"*"),"auto"==opts[opts.d.width]&&(opts[opts.d.width]=ms_getTrueLargestSize(all_itm,opts,"outerWidth")),ms_isPercentage(opts[opts.d.width])&&!opts.responsive&&(opts[opts.d.width]=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d.width]),crsl.upDateOnWindowResize=!0),"auto"==opts[opts.d.height]&&(opts[opts.d.height]=ms_getTrueLargestSize(all_itm,opts,"outerHeight")),opts.items[opts.d.width]||(opts.responsive?(debug(!0,"Set a "+opts.d.width+" for the items!"),opts.items[opts.d.width]=ms_getTrueLargestSize(all_itm,opts,"outerWidth")):opts.items[opts.d.width]=ms_hasVariableSizes(all_itm,opts,"outerWidth")?"variable":all_itm[opts.d.outerWidth](!0)),opts.items[opts.d.height]||(opts.items[opts.d.height]=ms_hasVariableSizes(all_itm,opts,"outerHeight")?"variable":all_itm[opts.d.outerHeight](!0)),opts[opts.d.height]||(opts[opts.d.height]=opts.items[opts.d.height]),!opts.items.visible&&!opts.responsive&&("variable"==opts.items[opts.d.width]&&(opts.items.visibleConf.variable=!0),!opts.items.visibleConf.variable)){if("number"==typeof opts[opts.d.width])opts.items.visible=Math.floor(opts[opts.d.width]/opts.items[opts.d.width]);else{var maxS=ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth");opts.items.visible=Math.floor(maxS/opts.items[opts.d.width]),opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.items.visibleConf.adjust||(opts.align=!1)}("Infinity"==opts.items.visible||opts.items.visible<1)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),opts.items.visibleConf.variable=!0)}if(opts[opts.d.width]||(opts[opts.d.width]="variable",opts.responsive||"*"!=opts.items.filter||opts.items.visibleConf.variable||"variable"==opts.items[opts.d.width]||(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1)),opts.items.visibleConf.variable?(opts.maxDimention="variable"==opts[opts.d.width]?ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"):opts[opts.d.width],!1===opts.align&&(opts[opts.d.width]="variable"),opts.items.visible=gn_getVisibleItemsNext(all_itm,opts,0)):"*"!=opts.items.filter&&(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(all_itm,opts,0)),void 0===opts.align&&(opts.align="variable"!=opts[opts.d.width]&&"center"),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.usePadding=!1,opts.responsive){opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts.align=!1,opts.padding=[0,0,0,0];var isVisible=$wrp.is(":visible");isVisible&&$wrp.hide();var fullS=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d.width]);"number"==typeof opts[opts.d.width]&&fullS<opts[opts.d.width]&&(fullS=opts[opts.d.width]),isVisible&&$wrp.show();var visb=cf_getItemAdjustMinMax(Math.ceil(fullS/opts.items[opts.d.width]),opts.items.visibleConf);visb>all_itm.length&&(visb=all_itm.length);var newS=Math.floor(fullS/visb),seco=opts[opts.d.height],secp=ms_isPercentage(seco);all_itm.each(function(){var $t=$(this),nw=newS-ms_getPaddingBorderMargin($t,opts,"Width");$t[opts.d.width](nw),secp&&$t[opts.d.height](ms_getPercentage(nw,seco))}),opts.items.visible=visb,opts.items[opts.d.width]=newS,opts[opts.d.width]=visb*newS}else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align&&(opts.align="left"),"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":if("variable"!=opts[opts.d.width]){var p=cf_getAlignPadding(gi_getCurrentItems(all_itm,opts),opts);opts.usePadding=!0,opts.padding[opts.d[1]]=p[1],opts.padding[opts.d[3]]=p[0]}break;default:opts.align=!1,opts.usePadding=0!=opts.padding[0]||0!=opts.padding[1]||0!=opts.padding[2]||0!=opts.padding[3]}"boolean"==typeof opts.cookie&&opts.cookie&&(opts.cookie="caroufredsel_cookie_"+$cfs.attr("id")),"number"!=typeof opts.items.minimum&&(opts.items.minimum=opts.items.visible),"number"!=typeof opts.scroll.duration&&(opts.scroll.duration=500),void 0===opts.scroll.items&&(opts.scroll.items=opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=go_getNaviObject($tt0,opts.auto,"auto"),opts.prev=go_getNaviObject($tt0,opts.prev),opts.next=go_getNaviObject($tt0,opts.next),opts.pagination=go_getNaviObject($tt0,opts.pagination,"pagination"),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),"boolean"!=typeof opts.pagination.keys&&(opts.pagination.keys=!1),"function"!=typeof opts.pagination.anchorBuilder&&!1!==opts.pagination.anchorBuilder&&(opts.pagination.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),"boolean"!=typeof opts.auto.play&&(opts.auto.play=!0),"number"!=typeof opts.auto.delay&&(opts.auto.delay=0),void 0===opts.auto.pauseOnEvent&&(opts.auto.pauseOnEvent=!0),"boolean"!=typeof opts.auto.pauseOnResize&&(opts.auto.pauseOnResize=!0),"number"!=typeof opts.auto.pauseDuration&&(opts.auto.pauseDuration=opts.auto.duration<10?2500:5*opts.auto.duration),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),conf.debug&&(debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),opts.maxDimention&&debug(conf,"Available "+opts.d.width+": "+opts.maxDimention),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items))},$cfs._cfs_build=function(){$cfs.data("cfs_isCarousel",!0);var orgCSS={textAlign:$cfs.css("textAlign"),float:$cfs.css("float"),position:$cfs.css("position"),top:$cfs.css("top"),right:$cfs.css("right"),bottom:$cfs.css("bottom"),left:$cfs.css("left"),width:$cfs.css("width"),height:$cfs.css("height"),marginTop:$cfs.css("marginTop"),marginRight:$cfs.css("marginRight"),marginBottom:$cfs.css("marginBottom"),marginLeft:$cfs.css("marginLeft")};switch(orgCSS.position){case"absolute":var newPosition="absolute";break;case"fixed":var newPosition="fixed";break;default:var newPosition="relative"}$wrp.css(orgCSS).css({overflow:"hidden",position:newPosition}),$cfs.data("cfs_origCss",orgCSS).css({textAlign:"left",float:"none",position:"absolute",top:0,left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),opts.usePadding&&$cfs.children().each(function(){var m=parseInt($(this).css(opts.d.marginRight));isNaN(m)&&(m=0),$(this).data("cfs_origCssMargin",m)})},$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events(),$cfs.bind(cf_e("stop",conf),function(e,imm){return e.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),imm)),!0}),$cfs.bind(cf_e("finish",conf),function(e){return e.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(e,imm,res){if(e.stopPropagation(),tmrs=sc_clearTimers(tmrs),imm&&crsl.isScrolling){scrl.isStopped=!0;var nst=getTime()-scrl.startTime;scrl.duration-=nst,scrl.pre&&(scrl.pre.duration-=nst),scrl.post&&(scrl.post.duration-=nst),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||res&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onPausePause){var dur1=opts.auto.pauseDuration-tmrs.timePassed,perc=100-Math.ceil(100*dur1/opts.auto.pauseDuration);opts.auto.onPausePause.call($tt0,perc,dur1)}return!0}),$cfs.bind(cf_e("play",conf),function(e,dir,del,res){e.stopPropagation(),tmrs=sc_clearTimers(tmrs);var v=[dir,del,res],t=["string","number","boolean"],a=cf_sortParams(v,t),dir=a[0],del=a[1],res=a[2];if("prev"!=dir&&"next"!=dir&&(dir=crsl.direction),"number"!=typeof del&&(del=0),"boolean"!=typeof res&&(res=!1),res&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return e.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var dur1=opts.auto.pauseDuration+del;return dur2=dur1-tmrs.timePassed,perc=100-Math.ceil(100*dur2/dur1),tmrs.auto=setTimeout(function(){opts.auto.onPauseEnd&&opts.auto.onPauseEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),dir):$cfs.trigger(cf_e(dir,conf),opts.auto)},dur2),opts.auto.onPauseStart&&opts.auto.onPauseStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(e){return e.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,obj,num,clb){if(e.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return e.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");if(opts.items.minimum>=itms.total)return e.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+", "+opts.items.minimum+" needed): Not scrolling.");var v=[obj,num,clb],t=["object","number/string","function"],a=cf_sortParams(v,t),obj=a[0],num=a[1],clb=a[2],eType=e.type.slice(conf.events.prefix.length);if("object"==typeof obj&&null!=obj||(obj=opts[eType]),"function"==typeof clb&&(obj.onAfter=clb),"number"!=typeof num){if("*"!=opts.items.filter)num="visible";else for(var arr=[num,obj.items,opts[eType].items],a=0,l=arr.length;a<l;a++)if("number"==typeof arr[a]||"page"==arr[a]||"visible"==arr[a]){num=arr[a];break}switch(num){case"page":return e.stopImmediatePropagation(),$cfs.triggerHandler(eType+"Page",[obj,clb]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(num=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]]),e.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(obj.duration>0&&crsl.isScrolling)return obj.queue&&$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]]),e.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(obj.conditions&&!obj.conditions.call($tt0))return e.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(tmrs.timePassed=0,$cfs.trigger("_cfs_triggerEvent",["slide_"+eType,[obj,num]]),opts.synchronise)for(var s=opts.synchronise,c=[obj,num],j=0,l=s.length;j<l;j++){var d=eType;s[j][1]||(c[0]=s[j][0].triggerHandler("_cfs_triggerEvent",["configuration",d])),s[j][2]||(d="prev"==d?"next":"prev"),c[1]=num+s[j][3],s[j][0].trigger("_cfs_triggerEvent",["slide_"+d,c])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),e.stopImmediatePropagation();if(opts.usePadding&&sz_resetMargin(a_itm,opts),"number"!=typeof nI){if(opts.items.visibleConf.variable)nI=gn_getVisibleItemsPrev(a_itm,opts,itms.total-1);else if("*"!=opts.items.filter){var xI="number"==typeof sO.items?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsPrevFilter(a_itm,opts,itms.total-1,xI)}else nI=opts.items.visible;nI=cf_getAdjust(nI,opts,sO.items,$tt0)}if(opts.circular||itms.total-nI<itms.first&&(nI=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNext(a_itm,opts,itms.total-nI);opts.items.visible+nI<=vI&&nI<itms.total&&(nI++,vI=gn_getVisibleItemsNext(a_itm,opts,itms.total-nI)),opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}else if("*"!=opts.items.filter){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,itms.total-nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding&&sz_resetMargin(a_itm,opts,!0),0==nI)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+nI+" items backward."),itms.first+=nI;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&sO.onEnd&&sO.onEnd.call($tt0),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-nI,itms.total).prependTo($cfs),itms.total<opts.items.visible+nI&&$cfs.children().slice(0,opts.items.visible+nI-itms.total).clone(!0).appendTo($cfs);var a_itm=$cfs.children(),c_old=gi_getOldItemsPrev(a_itm,opts,nI),c_new=gi_getNewItemsPrev(a_itm,opts),l_cur=a_itm.eq(nI-1),l_old=c_old.last(),l_new=c_new.last();if(opts.usePadding&&sz_resetMargin(a_itm,opts),opts.align)var p=cf_getAlignPadding(c_new,opts),pL=p[0],pR=p[1];else var pL=0,pR=0;var oL=pL<0?opts.padding[opts.d[3]]:0;if("directscroll"==sO.fx&&opts.items.visible<nI){var hiddenitems=a_itm.slice(opts.items.visibleConf.old,nI),orgW=opts.items[opts.d.width];hiddenitems.each(function(){var hi=$(this);hi.data("isHidden",hi.is(":hidden")).hide()}),opts.items[opts.d.width]="variable"}else var hiddenitems=!1;var i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(c_new,opts,!0),opts,!opts.usePadding);hiddenitems&&(opts.items[opts.d.width]=orgW),opts.usePadding&&(sz_resetMargin(a_itm,opts,!0),pR>=0&&sz_resetMargin(l_old,opts,opts.padding[opts.d[1]]),sz_resetMargin(l_cur,opts,opts.padding[opts.d[3]])),opts.align&&(opts.padding[opts.d[1]]=pR,opts.padding[opts.d[3]]=pL);var a_cfs={},a_dur=sO.duration;if("none"==sO.fx?a_dur=0:"auto"==a_dur?a_dur=opts.scroll.duration/opts.scroll.items*nI:a_dur<=0?a_dur=0:a_dur<10&&(a_dur=i_siz/a_dur),scrl=sc_setScroll(a_dur,sO.easing),"variable"!=opts[opts.d.width]&&"variable"!=opts[opts.d.height]||scrl.anims.push([$wrp,w_siz]),opts.usePadding){var new_m=opts.padding[opts.d[3]];if(l_new.not(l_cur).length){var a_cur={};a_cur[opts.d.marginRight]=l_cur.data("cfs_origCssMargin"),pL<0?l_cur.css(a_cur):scrl.anims.push([l_cur,a_cur])}if(l_new.not(l_old).length){var a_old={};a_old[opts.d.marginRight]=l_old.data("cfs_origCssMargin"),scrl.anims.push([l_old,a_old])}if(pR>=0){var a_new={};a_new[opts.d.marginRight]=l_new.data("cfs_origCssMargin")+opts.padding[opts.d[1]],scrl.anims.push([l_new,a_new])}}else var new_m=0;a_cfs[opts.d.left]=new_m;var args=[c_old,c_new,w_siz,a_dur];switch(sO.onBefore&&sO.onBefore.apply($tt0,args),clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,args),sO.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing),scrl.post=sc_setScroll(scrl.duration,scrl.easing),scrl.duration=0}switch(sO.fx){case"crossfade":case"cover":case"uncover":var $cf2=$cfs.clone().appendTo($wrp)}switch(sO.fx){case"uncover":$cf2.children().slice(0,nI).remove();case"crossfade":case"cover":$cf2.children().slice(opts.items.visible).remove()}switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":$cf2.css({opacity:0}),scrl.pre.anims.push([$cfs,{width:"+=0"},function(){$cf2.remove()}]),scrl.post.anims.push([$cf2,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,$cf2,opts,!0);break;case"uncover":scrl=fx_uncover(scrl,$cfs,$cf2,opts,!0,nI)}var a_complete=function(){var overFill=opts.items.visible+nI-itms.total;if(overFill>0&&($cfs.children().slice(itms.total).remove(),c_old=$($cfs.children().slice(itms.total-(opts.items.visible-overFill)).get().concat($cfs.children().slice(0,overFill).get()))),hiddenitems&&hiddenitems.each(function(){var hi=$(this);hi.data("isHidden")||hi.show()}),opts.usePadding){var l_itm=$cfs.children().eq(opts.items.visible+nI-1);l_itm.css(opts.d.marginRight,l_itm.data("cfs_origCssMargin"))}scrl.anims=[],scrl.pre&&(scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing));var fn=function(){switch(sO.fx){case"fade":case"crossfade":$cfs.css("filter","")}scrl.post=sc_setScroll(0,null),crsl.isScrolling=!1;var args=[c_old,c_new,w_siz];sO.onAfter&&sO.onAfter.apply($tt0,args),clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,args),queu.length&&($cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]),queu.shift()),crsl.isPaused||$cfs.trigger(cf_e("play",conf))};switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},fn]),sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},fn]),sc_startScroll(scrl.pre);break;default:fn()}};return scrl.anims.push([$cfs,a_cfs,a_complete]),crsl.isScrolling=!0,$cfs.css(opts.d.left,-(i_siz-oL)),tmrs=sc_clearTimers(tmrs),sc_startScroll(scrl),cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf))),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w_siz]),!0}),$cfs.bind(cf_e("slide_next",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),e.stopImmediatePropagation();if(opts.usePadding&&sz_resetMargin(a_itm,opts),"number"!=typeof nI){if("*"!=opts.items.filter){var xI="number"==typeof sO.items?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsNextFilter(a_itm,opts,0,xI)}else nI=opts.items.visible;nI=cf_getAdjust(nI,opts,sO.items,$tt0)}var lastItemNr=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var vI=gn_getVisibleItemsNext(a_itm,opts,nI),xI=gn_getVisibleItemsPrev(a_itm,opts,lastItemNr-1);else var vI=opts.items.visible,xI=opts.items.visible;nI+vI>lastItemNr&&(nI=lastItemNr-xI)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var vI=gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr);opts.items.visible-nI>=vI&&nI<itms.total;)nI++,vI=gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}else if("*"!=opts.items.filter){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding&&sz_resetMargin(a_itm,opts,!0),0==nI)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+nI+" items forward."),itms.first-=nI;itms.first<0;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&sO.onEnd&&sO.onEnd.call($tt0),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+nI&&$cfs.children().slice(0,opts.items.visible+nI-itms.total).clone(!0).appendTo($cfs);var a_itm=$cfs.children(),c_old=gi_getOldItemsNext(a_itm,opts),c_new=gi_getNewItemsNext(a_itm,opts,nI),l_cur=a_itm.eq(nI-1),l_old=c_old.last(),l_new=c_new.last();if(opts.usePadding&&sz_resetMargin(a_itm,opts),opts.align)var p=cf_getAlignPadding(c_new,opts),pL=p[0],pR=p[1];else var pL=0,pR=0;if("directscroll"==sO.fx&&opts.items.visibleConf.old<nI){var hiddenitems=a_itm.slice(opts.items.visibleConf.old,nI),orgW=opts.items[opts.d.width];hiddenitems.each(function(){var hi=$(this);hi.data("isHidden",hi.is(":hidden")).hide()}),opts.items[opts.d.width]="variable"}else var hiddenitems=!1;var i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(c_new,opts,!0),opts,!opts.usePadding);hiddenitems&&(opts.items[opts.d.width]=orgW),opts.align&&opts.padding[opts.d[1]]<0&&(opts.padding[opts.d[1]]=0),opts.usePadding&&(sz_resetMargin(a_itm,opts,!0),sz_resetMargin(l_old,opts,opts.padding[opts.d[1]])),opts.align&&(opts.padding[opts.d[1]]=pR,opts.padding[opts.d[3]]=pL);var a_cfs={},a_dur=sO.duration;if("none"==sO.fx?a_dur=0:"auto"==a_dur?a_dur=opts.scroll.duration/opts.scroll.items*nI:a_dur<=0?a_dur=0:a_dur<10&&(a_dur=i_siz/a_dur),scrl=sc_setScroll(a_dur,sO.easing),"variable"!=opts[opts.d.width]&&"variable"!=opts[opts.d.height]||scrl.anims.push([$wrp,w_siz]),opts.usePadding){var l_new_m=l_new.data("cfs_origCssMargin");if(pR>=0&&(l_new_m+=opts.padding[opts.d[1]]),l_new.css(opts.d.marginRight,l_new_m),l_cur.not(l_old).length){var a_old={};a_old[opts.d.marginRight]=l_old.data("cfs_origCssMargin"),scrl.anims.push([l_old,a_old])}var c_new_m=l_cur.data("cfs_origCssMargin");pL>=0&&(c_new_m+=opts.padding[opts.d[3]]);var a_cur={};a_cur[opts.d.marginRight]=c_new_m,scrl.anims.push([l_cur,a_cur])}a_cfs[opts.d.left]=-i_siz,pL<0&&(a_cfs[opts.d.left]+=pL);var args=[c_old,c_new,w_siz,a_dur];switch(sO.onBefore&&sO.onBefore.apply($tt0,args),clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,args),sO.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing),scrl.post=sc_setScroll(scrl.duration,scrl.easing),scrl.duration=0}switch(sO.fx){case"crossfade":case"cover":case"uncover":var $cf2=$cfs.clone().appendTo($wrp)}switch(sO.fx){case"uncover":$cf2.children().slice(opts.items.visibleConf.old).remove();break;case"crossfade":case"cover":$cf2.children().slice(0,nI).remove(),$cf2.children().slice(opts.items.visible).remove()}switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":$cf2.css({opacity:0}),scrl.pre.anims.push([$cfs,{width:"+=0"},function(){$cf2.remove()}]),scrl.post.anims.push([$cf2,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,$cf2,opts,!1);break;case"uncover":scrl=fx_uncover(scrl,$cfs,$cf2,opts,!1,nI)}var a_complete=function(){var overFill=opts.items.visible+nI-itms.total,new_m=opts.usePadding?opts.padding[opts.d[3]]:0;$cfs.css(opts.d.left,new_m),overFill>0&&$cfs.children().slice(itms.total).remove();var l_itm=$cfs.children().slice(0,nI).appendTo($cfs).last();if(overFill>0&&(c_new=gi_getCurrentItems(a_itm,opts)),hiddenitems&&hiddenitems.each(function(){var hi=$(this);hi.data("isHidden")||hi.show()}),opts.usePadding){if(itms.total<opts.items.visible+nI){var l_cur=$cfs.children().eq(opts.items.visible-1);l_cur.css(opts.d.marginRight,l_cur.data("cfs_origCssMargin")+opts.padding[opts.d[3]])}l_itm.css(opts.d.marginRight,l_itm.data("cfs_origCssMargin"))}scrl.anims=[],scrl.pre&&(scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing));var fn=function(){switch(sO.fx){case"fade":case"crossfade":$cfs.css("filter","")}scrl.post=sc_setScroll(0,null),crsl.isScrolling=!1;var args=[c_old,c_new,w_siz];sO.onAfter&&sO.onAfter.apply($tt0,args),clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,args),queu.length&&($cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]),queu.shift()),crsl.isPaused||$cfs.trigger(cf_e("play",conf))};switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},fn]),sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},fn]),sc_startScroll(scrl.pre);break;default:fn()}};return scrl.anims.push([$cfs,a_cfs,a_complete]),crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),sc_startScroll(scrl),cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf))),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w_siz]),!0}),$cfs.bind(cf_e("slideTo",conf),function(e,num,dev,org,obj,dir,clb){e.stopPropagation();var v=[num,dev,org,obj,dir,clb],t=["string/number/object","number","boolean","object","string","function"],a=cf_sortParams(v,t),obj=a[3],dir=a[4],clb=a[5];if(0!=(num=gn_getItemIndex(a[0],a[1],a[2],itms,$cfs)))return"object"!=typeof obj&&(obj=!1),(!crsl.isScrolling||!("object"!=typeof obj||obj.duration>0))&&("prev"!=dir&&"next"!=dir&&(dir=opts.circular?num<=itms.total/2?"next":"prev":0==itms.first||itms.first>num?"next":"prev"),"prev"==dir&&(num=itms.total-num),$cfs.trigger(cf_e(dir,conf),[obj,num,clb]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur-1,obj,"prev",clb])}),$cfs.bind(cf_e("nextPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur+1,obj,"next",clb])}),$cfs.bind(cf_e("slideToPage",conf),function(e,pag,obj,dir,clb){e.stopPropagation(),"number"!=typeof pag&&(pag=$cfs.triggerHandler(cf_e("currentPage",conf)));var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp)-1;return pag<0&&(pag=max),pag>max&&(pag=0),$cfs.triggerHandler(cf_e("slideTo",conf),[pag*ipp,0,!0,obj,dir,clb])}),$cfs.bind(cf_e("jumpToStart",conf),function(e,s){if(e.stopPropagation(),s=s?gn_getItemIndex(s,0,!0,itms,$cfs):0,0!=(s+=itms.first)){for(;s>itms.total;)s-=itms.total;$cfs.prepend($cfs.children().slice(s,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(e,s){if(e.stopPropagation(),s)s=cf_getSynchArr(s);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");s=opts.synchronise}for(var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),x=!0,j=0,l=s.length;j<l;j++)s[j][0].triggerHandler(cf_e("slideTo",conf),[n,s[j][3],!0])||(x=!1);return x}),$cfs.bind(cf_e("queue",conf),function(e,dir,opt){return e.stopPropagation(),"function"==typeof dir?dir.call($tt0,queu):is_array(dir)?queu=dir:void 0!==dir&&queu.push([dir,opt]),queu}),$cfs.bind(cf_e("insertItem",conf),function(e,itm,num,org,dev){e.stopPropagation();var v=[itm,num,org,dev],t=["string/object","string/number/object","boolean","number"],a=cf_sortParams(v,t),itm=a[0],num=a[1],org=a[2],dev=a[3];if("object"==typeof itm&&void 0===itm.jquery&&(itm=$(itm)),"string"==typeof itm&&(itm=$(itm)),"object"!=typeof itm||void 0===itm.jquery||0==itm.length)return debug(conf,"Not a valid object.");void 0===num&&(num="end"),opts.usePadding&&itm.each(function(){var m=parseInt($(this).css(opts.d.marginRight));isNaN(m)&&(m=0),$(this).data("cfs_origCssMargin",m)});var orgNum=num,before="before";"end"==num?org?(0==itms.first?(num=itms.total-1,before="after"):(num=itms.first,itms.first+=itm.length),num<0&&(num=0)):(num=itms.total-1,before="after"):num=gn_getItemIndex(num,dev,org,itms,$cfs),"end"==orgNum||org||num<itms.first&&(itms.first+=itm.length),itms.first>=itms.total&&(itms.first-=itms.total);var $cit=$cfs.children().eq(num);$cit.length?$cit[before](itm):$cfs.append(itm),itms.total=$cfs.children().length;var sz=$cfs.triggerHandler("updateSizes");return nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),$cfs.trigger(cf_e("linkAnchors",conf)),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz]),!0}),$cfs.bind(cf_e("removeItem",conf),function(e,num,org,dev){e.stopPropagation();var v=[num,org,dev],t=["string/number/object","boolean","number"],a=cf_sortParams(v,t);num=a[0],org=a[1],dev=a[2];if(num instanceof $&&num.length>1)return $removed=$(),num.each(function(i,el){var $rem=$cfs.trigger(cf_e("removeItem",conf),[$(this),org,dev]);$rem&&($removed=$removed.add($rem))}),$removed;if(void 0===num||"end"==num)$removed=$cfs.children().last();else{num=gn_getItemIndex(num,dev,org,itms,$cfs);var $removed=$cfs.children().eq(num);$removed.length&&num<itms.first&&(itms.first-=$removed.length)}if($removed&&$removed.length){$removed.detach(),itms.total=$cfs.children().length;var sz=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return $removed}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);return is_array(fn)&&(clbk[eType]=fn),"function"==typeof fn&&clbk[eType].push(fn),clbk[eType]}),$cfs.bind(cf_e("currentPosition",conf),function(e,fn){if(e.stopPropagation(),0==itms.first)var val=0;else var val=itms.total-itms.first;return"function"==typeof fn&&fn.call($tt0,val),val}),$cfs.bind(cf_e("currentPage",conf),function(e,fn){e.stopPropagation();var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp-1);if(0==itms.first)var nr=0;else if(itms.first<itms.total%ipp)var nr=0;else if(itms.first!=ipp||opts.circular)var nr=Math.round((itms.total-itms.first)/ipp);else var nr=max;return nr<0&&(nr=0),nr>max&&(nr=max),"function"==typeof fn&&fn.call($tt0,nr),nr}),$cfs.bind(cf_e("currentVisible",conf),function(e,fn){return e.stopPropagation(),$i=gi_getCurrentItems($cfs.children(),opts),"function"==typeof fn&&fn.call($tt0,$i),$i}),$cfs.bind(cf_e("slice",conf),function(e,f,l,fn){if(e.stopPropagation(),0==itms.total)return!1;var v=[f,l,fn],t=["number","number","function"],a=cf_sortParams(v,t);for(f="number"==typeof a[0]?a[0]:0,l="number"==typeof a[1]?a[1]:itms.total,fn=a[2],f+=itms.first,l+=itms.first;f>itms.total;)f-=itms.total;for(;l>itms.total;)l-=itms.total;for(;f<0;)f+=itms.total;for(;l<0;)l+=itms.total;var $iA=$cfs.children();if(l>f)var $i=$iA.slice(f,l);else var $i=$($iA.slice(f,itms.total).get().concat($iA.slice(0,l).get()));return"function"==typeof fn&&fn.call($tt0,$i),$i}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);return"function"==typeof fn&&fn.call($tt0,crsl[eType]),crsl[eType]}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if("function"==typeof a)a.call($tt0,opts);else if("object"==typeof a)opts_orig=$.extend(!0,{},opts_orig,a),!1!==b?reInit=!0:opts=$.extend(!0,{},opts,a);else if(void 0!==a)if("function"==typeof b){var val=eval("opts."+a);void 0===val&&(val=""),b.call($tt0,val)}else{if(void 0===b)return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),!1!==c?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),$cfs._cfs_init(opts_orig),$cfs._cfs_bind_buttons();var siz=sz_setSizes($cfs,opts,!1);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(e,$con,sel){return e.stopPropagation(),void 0===$con||0==$con.length?$con=$("body"):"string"==typeof $con&&($con=$($con)),"object"!=typeof $con?debug(conf,"Not a valid object."):("string"==typeof sel&&0!=sel.length||(sel="a.caroufredsel"),$con.find(sel).each(function(){var h=this.hash||"";h.length>0&&-1!=$cfs.children().index($(h))&&$(this).unbind("click").click(function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),h)})}),!0)}),$cfs.bind(cf_e("updatePageStatus",conf),function(e,build,sizes){if(e.stopPropagation(),opts.pagination.container){if(build){var ipp=opts.pagination.items||opts.items.visible,l=Math.ceil(itms.total/ipp);opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=0;a<l;a++){var i=$cfs.children().eq(gn_getItemIndex(a*ipp,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder(a+1,i))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*ipp,0,!0,opts.pagination])})})})}
return opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq($cfs.triggerHandler(cf_e("currentPage",conf))).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(e){var a_itm=$cfs.children(),vI=opts.items.visible;if(opts.items.visibleConf.variable?vI=gn_getVisibleItemsNext(a_itm,opts,0):"*"!=opts.items.filter&&(vI=gn_getVisibleItemsNextFilter(a_itm,opts,0)),!opts.circular&&0!=itms.first&&vI>itms.first){if(opts.items.visibleConf.variable)var nI=gn_getVisibleItemsPrev(a_itm,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var nI=gn_getVisibleItemsPrevFilter(a_itm,opts,itms.first)-itms.first;else nI=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+nI+" items backward."),$cfs.trigger("prev",nI)}return opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0),sz_setSizes($cfs,opts)}),$cfs.bind(cf_e("destroy",conf),function(e,orgOrder){return e.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),orgOrder&&$cfs.trigger(cf_e("jumpToStart",conf)),opts.usePadding&&sz_resetMargin($cfs.children(),opts),$cfs.css($cfs.data("cfs_origCss")),$cfs._cfs_unbind_events(),$cfs._cfs_unbind_buttons(),$wrp.replaceWith($cfs),!0}),$cfs.bind("_cfs_triggerEvent",function(e,n,o){return e.stopPropagation(),$cfs.triggerHandler(cf_e(n,conf),o)})},$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},$cfs._cfs_bind_buttons=function(){if($cfs._cfs_unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(e){e.preventDefault();var ev=!1,pC=null;crsl.isPaused?ev="play":opts.auto.pauseOnEvent&&(ev="pause",pC=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),ev&&$cfs.trigger(cf_e(ev,conf),pC)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var pC=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var pC=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if($.fn.mousewheel&&(opts.prev.mousewheel&&(crsl.mousewheelPrev||(crsl.mousewheelPrev=!0,$wrp.mousewheel(function(e,delta){if(delta>0){e.preventDefault();var num=bt_mousesheelNumber(opts.prev.mousewheel);$cfs.trigger(cf_e("prev",conf),num)}}))),opts.next.mousewheel&&(crsl.mousewheelNext||(crsl.mousewheelNext=!0,$wrp.mousewheel(function(e,delta){if(delta<0){e.preventDefault();var num=bt_mousesheelNumber(opts.next.mousewheel);$cfs.trigger(cf_e("next",conf),num)}})))),$.fn.touchwipe){var wP=opts.prev.wipe?function(){$cfs.trigger(cf_e("prev",conf))}:null,wN=opts.next.wipe?function(){$cfs.trigger(cf_e("next",conf))}:null;if((wN||wN)&&!crsl.touchwipe){crsl.touchwipe=!0;var twOps={min_move_x:30,min_move_y:30,preventDefaultEvents:!0};switch(opts.direction){case"up":case"down":twOps.wipeUp=wP,twOps.wipeDown=wN;break;default:twOps.wipeLeft=wN,twOps.wipeRight=wP}$wrp.touchwipe(twOps)}}if(opts.pagination.container&&opts.pagination.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var k=e.keyCode;k==opts.next.key&&(e.preventDefault(),$cfs.trigger(cf_e("next",conf))),k==opts.prev.key&&(e.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var k=e.keyCode;k>=49&&k<58&&(k=(k-49)*opts.items.visible)<=itms.total&&(e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[k,0,!0,opts.pagination]))}),opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var $w=$(window),_windowWidth=$w.width(),_windowHeight=$w.height();$w.bind(cf_e("resize",conf,!1,!0,!0),function(e){if($w.width()!=_windowWidth||$w.height()!=_windowHeight){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs._cfs_init(opts_orig);var siz=sz_setSizes($cfs,opts,!1);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),_windowWidth=$w.width(),_windowHeight=$w.height()}})}},$cfs._cfs_unbind_buttons=function(){var ns2=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(ns2),opts.auto.button&&opts.auto.button.unbind(ns2),opts.prev.button&&opts.prev.button.unbind(ns2),opts.next.button&&opts.next.button.unbind(ns2),opts.pagination.container&&(opts.pagination.container.unbind(ns2),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)};var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheelNext:!1,mousewheelPrev:!1,touchwipe:!1},itms={total:$cfs.children().length,first:0},tmrs={timer:null,auto:null,queue:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=options,$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,$cfs._cfs_init(opts_orig,!0,starting_position),$cfs._cfs_build(),$cfs._cfs_bind_events(),$cfs._cfs_bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(cf_readCookie(opts.cookie)),start_arr.length>0)for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(0!=s){if(!0===s){if(s=window.location.hash,s.length<1)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts,!1),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,itm,siz),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,mousewheel:!1,wipe:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(nr,itm){return'<a href="#"><span>'+nr+"</span></a>"},$.fn.caroufredsel=function(o,c){return this.carouFredSel(o,c)},$.extend($.easing,{quadratic:function(t){var t2=t*t;return t*(-t2*t+4*t2-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var t2=t*t;return t*(33*t2*t2-106*t2*t+126*t2-67*t+15)}}))}(jQuery)}).call(exports,__webpack_require__(4))},75:function(module,exports,__webpack_require__){(function(jQuery){!function($,undefined){"use strict";var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(callback){function doneLoading(){var $proper=$(proper),$broken=$(broken);deferred&&(broken.length?deferred.reject($images,$proper,$broken):deferred.resolve($images)),$.isFunction(callback)&&callback.call($this,$images,$proper,$broken)}function imgLoaded(img,isBroken){img.src!==BLANK&&-1===$.inArray(img,loaded)&&(loaded.push(img),isBroken?broken.push(img):proper.push(img),$.data(img,"imagesLoaded",{isBroken:isBroken,src:img.src}),hasNotify&&deferred.notifyWith($(img),[isBroken,$images,$(proper),$(broken)]),$images.length===loaded.length&&(setTimeout(doneLoading),$images.unbind(".imagesLoaded")))}var $this=this,deferred=$.isFunction($.Deferred)?$.Deferred():0,hasNotify=$.isFunction(deferred.notify),$images=$this.find("img").add($this.filter("img")),loaded=[],proper=[],broken=[];return $.isPlainObject(callback)&&$.each(callback,function(key,value){"callback"===key?callback=value:deferred&&deferred[key](value)}),$images.length?$images.bind("load.imagesLoaded error.imagesLoaded",function(event){imgLoaded(event.target,"error"===event.type)}).each(function(i,el){var src=el.src,cached=$.data(el,"imagesLoaded");return cached&&cached.src===src?void imgLoaded(el,cached.isBroken):el.complete&&el.naturalWidth!==undefined?void imgLoaded(el,0===el.naturalWidth||0===el.naturalHeight):void((el.readyState||el.complete)&&(el.src=BLANK,el.src=src))}):doneLoading(),deferred?deferred.promise($this):$this}}(jQuery)}).call(exports,__webpack_require__(4))},77:function(module,exports,__webpack_require__){(function(jQuery,$){jQuery.fn.gzoom=function(settings){return settings=jQuery.extend({sW:10,sH:10,lW:20,lH:20,iW:20,iH:20,margin:"0px 0px 0px 0px",frameColor:"#cecece",frameWidth:1,movediv:"none",isZoomed:!1},settings),this.each(function(){var verticalMoveAuthorized=!0,horizontalMoveAuthorized=!0,margintop="0px",marginleft="0px",$div=jQuery(this).css({overflow:"hidden"}).addClass("minizoompan"),ig=$div.children().css({position:"relative"});ig.css({width:"auto",height:"auto","max-width":"none","max-height":"none"});var ratioW=ig.width()/settings.sW,ratioH=ig.height()/settings.sH;if(ratioW>ratioH?(settings.iW=settings.sW,settings.iH="auto"):ratioW<ratioH?(settings.iH=settings.sH,settings.iW="auto"):(settings.iW=settings.sW,settings.iH=settings.sH),settings.lW=ig.width(),settings.lH=ig.height(),ig.css({width:settings.iW,height:settings.iH}),$div.height()>ig.height()&&(margintop=($div.height()-ig.height())/2+"px"),$div.width()>ig.width()&&(marginleft=($div.width()-ig.width())/2+"px"),settings.margin=margintop+" 0px 0px "+marginleft,ig.css({margin:settings.margin}),"none"!=settings.movediv){$("#"+settings.movediv).click(function(e){$div.click(e)});var $divtomove=$("#"+settings.movediv)}else var $divtomove=$div;var divWidth=$divtomove.width(),divHeight=$divtomove.height();horizontalMoveAuthorized=!(divWidth>=ig.actual("width")),verticalMoveAuthorized=!(divHeight>=ig.actual("height")),$divtomove.mousemove(function(e){if(1==settings.isZoomed){var divWidth=$divtomove.width(),divHeight=$divtomove.height(),igW=ig.width(),igH=ig.height(),dOs=$divtomove.offset(),leftPan=0;leftPan=1==horizontalMoveAuthorized?(e.pageX-dOs.left)*($div.width()-igW)/(divWidth+2*settings.frameWidth):($div.width()-igW)/2;var topPan=0;return topPan=1==verticalMoveAuthorized?(e.pageY-dOs.top)*($div.height()-igH)/(divHeight+2*settings.frameWidth):($div.height()-igH)/2,ig.css({left:leftPan,top:topPan}),!1}}),$divtomove.click(function(e){if(0==settings.isZoomed){ig.css({width:"auto",height:"auto",margin:"0px 0px 0px 0px"});var divWidth=$div.width(),divHeight=$div.height(),igW=settings.lW,igH=settings.lH,dOs=$div.offset();settings.isZoomed=!0,$div.removeClass("zoom"),$divtomove.removeClass("zoom"),$divtomove.addClass("hand");var leftPan=0;leftPan=1==horizontalMoveAuthorized?(e.pageX-dOs.left)*($div.width()-igW)/(divWidth+2*settings.frameWidth):($div.width()-igW)/2;var topPan=0;topPan=1==verticalMoveAuthorized?(e.pageY-dOs.top)*($div.height()-igH)/(divHeight+2*settings.frameWidth):($div.height()-igH)/2,ig.css({left:leftPan,top:topPan})}else ig.css({width:settings.iW,height:settings.iH,margin:settings.margin,left:0,top:0}),settings.isZoomed=!1,$divtomove.removeClass("hand"),$div.addClass("zoom"),$divtomove.addClass("zoom");return!1}),$div.click(function(e){if(0==settings.isZoomed){ig.css({width:"auto",height:"auto",margin:"0px 0px 0px 0px"});var divWidth=$div.width(),divHeight=$div.height(),igW=settings.lW,igH=settings.lH,dOs=$div.offset();settings.isZoomed=!0,$div.removeClass("zoom"),$divtomove.removeClass("zoom"),$divtomove.addClass("hand");var leftPan=0;leftPan=1==horizontalMoveAuthorized?(e.pageX-dOs.left)*($div.width()-igW)/(divWidth+2*settings.frameWidth):($div.width()-igW)/2;var topPan=0;topPan=1==verticalMoveAuthorized?(e.pageY-dOs.top)*($div.height()-igH)/(divHeight+2*settings.frameWidth):($div.height()-igH)/2,ig.css({left:leftPan,top:topPan})}else ig.css({width:settings.iW,height:settings.iH,margin:settings.margin,left:0,top:0}),ig.attr("style",""),settings.isZoomed=!1,$divtomove.removeClass("hand"),$div.addClass("zoom"),$divtomove.addClass("zoom");return!1})})}}).call(exports,__webpack_require__(4),__webpack_require__(4))},79:function(module,exports,__webpack_require__){(function(jQuery){!function($){$.fn.extend({actual:function(method,options){if(!this[method])throw'$.actual => The jQuery method "'+method+'" you called does not exist';var fix,restore,defaults={absolute:!1,clone:!1,includeMargin:void 0},configs=$.extend(defaults,options),$target=this;if(!0===configs.clone)fix=function(){var css={position:"absolute",top:-1e3};$target=$target.filter(":first").clone().css(css).appendTo("body")},restore=function(){$target.remove()};else{var $hidden,css,tmp=[];fix=function(){$hidden=$target.parents().andSelf().filter(":hidden"),css={visibility:"hidden",display:"block"},!0===configs.absolute&&(css.position="absolute"),$hidden.each(function(){var $this=$(this);tmp.push($this.attr("style")),$this.css(css)})},restore=function(){$hidden.each(function(i){var $this=$(this),_tmp=tmp[i];void 0===_tmp?$this.removeAttr("style"):$this.attr("style",_tmp)})}}fix();var actual=/(outer)/g.test(method)?$target[method](configs.includeMargin):$target[method]();return restore(),actual}})}(jQuery)}).call(exports,__webpack_require__(4))},80:function(module,exports,__webpack_require__){(function(jQuery){!function($){function both(val){return"object"==typeof val?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1},$scrollTo.window=function(scope){return $(window)._scrollable()},$.fn._scrollable=function(){return this.map(function(){var elem=this;if(elem.nodeName&&-1==$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"]))return elem;var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return $.browser.safari||"BackCompat"==doc.compatMode?doc.body:doc.documentElement})},$.fn.scrollTo=function(target,duration,settings){return"object"==typeof duration&&(settings=duration,duration=0),"function"==typeof settings&&(settings={onAfter:settings}),"max"==target&&(target=9e9),settings=$.extend({},$scrollTo.defaults,settings),duration=duration||settings.speed||settings.duration,settings.queue=settings.queue&&settings.axis.length>1,settings.queue&&(duration/=2),settings.offset=both(settings.offset),settings.over=both(settings.over),this._scrollable().each(function(){function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings)})}var toff,elem=this,$elem=$(elem),targ=target,attr={},win=$elem.is("html,body");switch(typeof targ){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);case"object":(targ.is||targ.style)&&(toff=(targ=$(targ)).offset())}$.each(settings.axis.split(""),function(i,axis){var Pos="x"==axis?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff)attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]),settings.margin&&(attr[key]-=parseInt(targ.css("margin"+Pos))||0,attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0),attr[key]+=settings.offset[pos]||0,settings.over[pos]&&(attr[key]+=targ["x"==axis?"width":"height"]()*settings.over[pos]);else{var val=targ[pos];attr[key]=val.slice&&"%"==val.slice(-1)?parseFloat(val)/100*max:val}/^\d+$/.test(attr[key])&&(attr[key]=attr[key]<=0?0:Math.min(attr[key],max)),!i&&settings.queue&&(old!=attr[key]&&animate(settings.onAfterFirst),delete attr[key])}),animate(settings.onAfter)}).end()},$scrollTo.max=function(elem,axis){var Dim="x"==axis?"Width":"Height",scroll="scroll"+Dim;if(!$(elem).is("html,body"))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])}}(jQuery)}).call(exports,__webpack_require__(4))},81:function(module,exports,__webpack_require__){function base64_decode(data){var o1,o2,o3,h1,h2,h3,h4,bits,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,ac=0,dec="",tmp_arr=[];if(!data)return data;data+="";do{h1=b64.indexOf(data.charAt(i++)),h2=b64.indexOf(data.charAt(i++)),h3=b64.indexOf(data.charAt(i++)),h4=b64.indexOf(data.charAt(i++)),bits=h1<<18|h2<<12|h3<<6|h4,o1=bits>>16&255,o2=bits>>8&255,o3=255&bits,tmp_arr[ac++]=64==h3?String.fromCharCode(o1):64==h4?String.fromCharCode(o1,o2):String.fromCharCode(o1,o2,o3)}while(i<data.length);return dec=tmp_arr.join(""),window.ve.utf8_decode(dec)}window.ve.utf8_decode=function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((31&c)<<6|63&c2),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((15&c)<<12|(63&c2)<<6|63&c3),i+=3);return string},module.exports=base64_decode},82:function(module,exports){"undefined"==typeof jwplayer&&(jwplayer=function(d){if(jwplayer.api)return jwplayer.api.selectPlayer(d)},jwplayer.version="6.6.3896",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(d){function a(b){return function(){return c(b)}}function k(b){return function(){b("Error loading file")}}function f(m,a,e,g){return function(){try{var c=m.responseXML;if(c&&c.firstChild)return e(m)}catch(j){}(c=b.parseXML(m.responseText))&&c.firstChild?(m=b.extend({},m,{responseXML:c}),e(m)):g&&g(m.responseText?"Invalid XML":a)}}var h=document,e=window,j=navigator,b=d.utils=function(){};b.exists=function(b){switch(typeof b){case"string":return 0<b.length;case"object":return null!==b;case"undefined":return!1}return!0},b.styleDimension=function(b){return b+(0<b.toString().indexOf("%")?"":"px")},b.getAbsolutePath=function(a,e){if(b.exists(e)||(e=h.location.href),b.exists(a)){var c;if(b.exists(a)){c=a.indexOf("://");var g=a.indexOf("?");c=0<c&&(0>g||g>c)}else c=void 0;if(c)return a;c=e.substring(0,e.indexOf("://")+3);var j,g=e.substring(c.length,e.indexOf("/",c.length+1));0===a.indexOf("/")?j=a.split("/"):(j=e.split("?")[0],j=j.substring(c.length+g.length+1,j.lastIndexOf("/")),j=j.split("/").concat(a.split("/")));for(var f=[],t=0;t<j.length;t++)j[t]&&b.exists(j[t])&&"."!=j[t]&&(".."==j[t]?f.pop():f.push(j[t]));return c+g+"/"+f.join("/")}},b.extend=function(){var a=b.extend.arguments;if(1<a.length){for(var e=1;e<a.length;e++)b.foreach(a[e],function(e,g){try{b.exists(g)&&(a[0][e]=g)}catch(c){}});return a[0]}return null},b.log=function(b,a){"undefined"!=typeof console&&void 0!==console.log&&(a?console.log(b,a):console.log(b))};var c=b.userAgentMatch=function(b){return null!==j.userAgent.toLowerCase().match(b)};b.isIE=a(/msie/i),b.isFF=a(/firefox/i),b.isChrome=a(/chrome/i),b.isIOS=a(/iP(hone|ad|od)/i),b.isIPod=a(/iP(hone|od)/i),b.isIPad=a(/iPad/i),b.isSafari602=a(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),b.isSafari=function(){return c(/safari/i)&&!c(/chrome/i)&&!c(/chromium/i)&&!c(/android/i)},b.isAndroid=function(b){return c(b?RegExp("android.*"+b,"i"):/android/i)},b.isMobile=function(){return b.isIOS()||b.isAndroid()},b.saveCookie=function(b,a){h.cookie="jwplayer."+b+"="+a+"; path=/"},b.getCookies=function(){for(var b={},a=h.cookie.split("; "),e=0;e<a.length;e++){var g=a[e].split("=");0==g[0].indexOf("jwplayer.")&&(b[g[0].substring(9,g[0].length)]=g[1])}return b},b.typeOf=function(b){var a=typeof b;return"object"===a?b?b instanceof Array?"array":a:"null":a},b.translateEventResponse=function(a,e){var c=b.extend({},e);return a!=d.events.JWPLAYER_FULLSCREEN||c.fullscreen?"object"==typeof c.data?(c=b.extend(c,c.data),delete c.data):"object"==typeof c.metadata&&b.deepReplaceKeyName(c.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):(c.fullscreen="true"==c.message,delete c.message),b.foreach(["position","duration","offset"],function(b,a){c[a]&&(c[a]=Math.round(1e3*c[a])/1e3)}),c},b.flashVersion=function(){if(b.isAndroid())return 0;var c,a=j.plugins;try{if("undefined"!==a&&(c=a["Shockwave Flash"]))return parseInt(c.description.replace(/\D+(\d+)\..*/,"$1"))}catch(f){}if(void 0!==e.ActiveXObject)try{if(c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(c.GetVariable("$version").split(" ")[1].split(",")[0])}catch(g){}return 0},b.getScriptPath=function(b){for(var a=h.getElementsByTagName("script"),c=0;c<a.length;c++){var g=a[c].src;if(g&&0<=g.indexOf(b))return g.substr(0,g.indexOf(b))}return""},b.deepReplaceKeyName=function(a,c,e){switch(d.utils.typeOf(a)){case"array":for(var g=0;g<a.length;g++)a[g]=d.utils.deepReplaceKeyName(a[g],c,e);break;case"object":b.foreach(a,function(b,g){var j;if(c instanceof Array&&e instanceof Array){if(c.length!=e.length)return;j=c}else j=[c];for(var f=b,h=0;h<j.length;h++)f=f.replace(RegExp(c[h],"g"),e[h]);a[f]=d.utils.deepReplaceKeyName(g,c,e),b!=f&&delete a[b]})}return a};var n=b.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};b.getPluginPathType=function(a){if("string"==typeof a){a=a.split("?")[0];var c=a.indexOf("://");if(0<c)return n.ABSOLUTE;var e=a.indexOf("/");return a=b.extension(a),!(0>c&&0>e)||a&&isNaN(a)?n.RELATIVE:n.CDN}},b.getPluginName=function(b){return b.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},b.getPluginVersion=function(b){return b.replace(/[^-]*-?([^\.]*).*$/,"$1")},b.isYouTube=function(b){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(b)},b.youTubeID=function(b){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(b).slice(1).join("").replace("?","")}catch(a){return""}},b.isRtmp=function(b,a){return 0==b.indexOf("rtmp")||"rtmp"==a},b.foreach=function(a,c){var e,g;for(e in a)"function"==b.typeOf(a.hasOwnProperty)?a.hasOwnProperty(e)&&(g=a[e],c(e,g)):(g=a[e],c(e,g))},b.isHTTPS=function(){return 0==e.location.href.indexOf("https")},b.repo=function(){var a="http://p.jwpcdn.com/"+d.version.split(/\W/).splice(0,2).join("/")+"/";try{b.isHTTPS()&&(a=a.replace("http://","https://ssl."))}catch(c){}return a},b.ajax=function(a,c,j){var g;0<a.indexOf("#")&&(a=a.replace(/#.*$/,""));var h;if((h=!!((h=a)&&0<=h.indexOf("://")&&h.split("/")[2]!=e.location.href.split("/")[2]))&&b.exists(e.XDomainRequest))g=new XDomainRequest,g.onload=f(g,a,c,j),g.onerror=k(j,a,g);else if(b.exists(e.XMLHttpRequest)){var d=g=new XMLHttpRequest,t=a;g.onreadystatechange=function(){if(4===d.readyState)switch(d.status){case 200:f(d,t,c,j)();break;case 404:j("File not found")}},g.onerror=k(j,a)}else j&&j();try{g.open("GET",a,!0),g.send(null)}catch(n){j&&j(a)}return g},b.parseXML=function(b){try{var a;if(e.DOMParser){a=(new DOMParser).parseFromString(b,"text/xml");try{if("parsererror"==a.childNodes[0].firstChild.nodeName)return}catch(c){}}else a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b);return a}catch(g){}},b.filterPlaylist=function(a,c){for(var e=[],g=0;g<a.length;g++){var j=b.extend({},a[g]);if(j.sources=b.filterSources(j.sources),0<j.sources.length){for(var f=0;f<j.sources.length;f++){var h=j.sources[f];h.label||(h.label=f.toString())}e.push(j)}}if(c&&0==e.length)for(g=0;g<a.length;g++)if(j=b.extend({},a[g]),j.sources=b.filterSources(j.sources,!0),0<j.sources.length){for(f=0;f<j.sources.length;f++)h=j.sources[f],h.label||(h.label=f.toString());e.push(j)}return e},b.filterSources=function(a,c){var e,g,j=b.extensionmap;if(a){g=[];for(var f=0;f<a.length;f++){var h=a[f].type,n=a[f].file;n&&n.trim&&(n=n.trim()),h||(h=j.extType(b.extension(n)),a[f].type=h),c?d.embed.flashCanPlay(n,h)&&(e||(e=h),h==e&&g.push(b.extend({},a[f]))):b.canPlayHTML5(h)&&(e||(e=h),h==e&&g.push(b.extend({},a[f])))}}return g},b.canPlayHTML5=function(a){return(!b.isAndroid()||"hls"!=a&&"m3u"!=a&&"m3u8"!=a)&&(!!(a=b.extensionmap.types[a])&&!!d.vid.canPlayType&&d.vid.canPlayType(a))},b.seconds=function(a){a=a.replace(",",".");var b=a.split(":"),c=0;return"s"==a.substr(-1)?c=Number(a.substr(0,a.length-1)):"m"==a.substr(-1)?c=60*Number(a.substr(0,a.length-1)):"h"==a.substr(-1)?c=3600*Number(a.substr(0,a.length-1)):1<b.length?(c=Number(b[b.length-1]),c+=60*Number(b[b.length-2]),3==b.length&&(c+=3600*Number(b[b.length-3]))):c=Number(a),c},b.serialize=function(a){return null==a?null:"true"==a.toString().toLowerCase()||"false"!=a.toString().toLowerCase()&&(isNaN(Number(a))||5<a.length||0==a.length?a:Number(a))}}(jwplayer),function(d){var a="video/",k=d.foreach,f={mp4:a+"mp4",vorbis:"audio/ogg",ogg:a+"ogg",webm:a+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},h={mp4:f.mp4,f4v:f.mp4,m4v:f.mp4,mov:f.mp4,m4a:f.aac,f4a:f.aac,aac:f.aac,mp3:f.mp3,ogv:f.ogg,ogg:f.vorbis,oga:f.vorbis,webm:f.webm,m3u8:f.hls,hls:f.hls},a="video",a={flv:a,f4v:a,mov:a,m4a:a,m4v:a,mp4:a,aac:a,f4a:a,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},e=d.extensionmap={};k(h,function(a,b){e[a]={html5:b}}),k(a,function(a,b){e[a]||(e[a]={}),e[a].flash=b}),e.types=f,e.mimeType=function(a){var b;return k(f,function(c,e){!b&&e==a&&(b=c)}),b},e.extType=function(a){return e.mimeType(h[a])}}(jwplayer.utils),function(d){var a=d.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},k=document;d.scriptloader=function(f){function h(){j=a.ERROR,c.sendEvent(b.ERROR)}function e(){j=a.COMPLETE,c.sendEvent(b.COMPLETE)}var j=a.NEW,b=jwplayer.events,c=new b.eventdispatcher;d.extend(this,c),this.load=function(){var c=d.scriptloader.loaders[f];if(!c||c.getStatus()!=a.NEW&&c.getStatus()!=a.LOADING){if(d.scriptloader.loaders[f]=this,j==a.NEW){j=a.LOADING;var m=k.createElement("script");m.addEventListener?(m.onload=e,m.onerror=h):m.readyState&&(m.onreadystatechange=function(){("loaded"==m.readyState||"complete"==m.readyState)&&e()}),k.getElementsByTagName("head")[0].appendChild(m),m.src=f}}else c.addEventListener(b.ERROR,h),c.addEventListener(b.COMPLETE,e)},this.getStatus=function(){return j}},d.scriptloader.loaders={}}(jwplayer.utils),function(d){d.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},d.pad=function(a,d,f){for(f||(f="0");a.length<d;)a=f+a;return a},d.xmlAttribute=function(a,d){for(var f=0;f<a.attributes.length;f++)if(a.attributes[f].name&&a.attributes[f].name.toLowerCase()==d.toLowerCase())return a.attributes[f].value.toString();return""},d.extension=function(a){return a&&"rtmp"!=a.substr(0,4)?(a=a.substring(a.lastIndexOf("/")+1,a.length).split("?")[0].split("#")[0],-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0):""},d.stringToColor=function(a){return a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)}}(jwplayer.utils),function(d){var a="touchmove",k="touchstart";d.touch=function(f){function h(b){b.type==k?(c=!0,m=j(l.DRAG_START,b)):b.type==a?c&&(p||(e(l.DRAG_START,b,m),p=!0),e(l.DRAG,b)):(c&&(p?e(l.DRAG_END,b):(b.cancelBubble=!0,e(l.TAP,b))),c=p=!1,m=null)}function e(a,b,c){n[a]&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault(),b=c||j(a,b))&&n[a](b)}function j(a,c){var e=null;if(c.touches&&c.touches.length?e=c.touches[0]:c.changedTouches&&c.changedTouches.length&&(e=c.changedTouches[0]),!e)return null;var j=b.getBoundingClientRect(),e={type:a,target:b,x:e.pageX-window.pageXOffset-j.left,y:e.pageY,deltaX:0,deltaY:0};return a!=l.TAP&&m&&(e.deltaX=e.x-m.x,e.deltaY=e.y-m.y),e}var b=f,c=!1,n={},m=null,p=!1,l=d.touchEvents;return document.addEventListener(a,h),document.addEventListener("touchend",function(a){c&&p&&e(l.DRAG_END,a),c=p=!1,m=null}),document.addEventListener("touchcancel",h),f.addEventListener(k,h),f.addEventListener("touchend",h),this.addEventListener=function(a,b){n[a]=b},this.removeEventListener=function(a){delete n[a]},this}}(jwplayer.utils),function(d){d.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(d){d.key=function(a){var k,f,h;this.edition=function(){return h&&h.getTime()<(new Date).getTime()?"invalid":k},this.token=function(){return f},d.exists(a)||(a="");try{a=d.tea.decrypt(a,"36QXq4W@GSBV^teR");var e=a.split("/");(k=e[0])?/^(free|pro|premium|ads)$/i.test(k)?(f=e[1],e[2]&&0<parseInt(e[2])&&(h=new Date,h.setTime(String(e[2])))):k="invalid":k="free"}catch(j){k="invalid"}}}(jwplayer.utils),function(d){var a=d.tea={};a.encrypt=function(h,e){if(0==h.length)return"";var j=a.strToLongs(f.encode(h));1>=j.length&&(j[1]=0);for(var p,b=a.strToLongs(f.encode(e).slice(0,16)),c=j.length,d=j[c-1],m=j[0],l=Math.floor(6+52/c),g=0;0<l--;){g+=2654435769,p=g>>>2&3;for(var q=0;q<c;q++)m=j[(q+1)%c],d=(d>>>5^m<<2)+(m>>>3^d<<4)^(g^m)+(b[3&q^p]^d),d=j[q]+=d}return j=a.longsToStr(j),k.encode(j)},a.decrypt=function(h,e){if(0==h.length)return"";for(var p,j=a.strToLongs(k.decode(h)),b=a.strToLongs(f.encode(e).slice(0,16)),c=j.length,d=j[c-1],m=j[0],l=2654435769*Math.floor(6+52/c);0!=l;){p=l>>>2&3;for(var g=c-1;0<=g;g--)d=j[0<g?g-1:c-1],d=(d>>>5^m<<2)+(m>>>3^d<<4)^(l^m)+(b[3&g^p]^d),m=j[g]-=d;l-=2654435769}return j=a.longsToStr(j),j=j.replace(/\0+$/,""),f.decode(j)},a.strToLongs=function(a){for(var e=Array(Math.ceil(a.length/4)),j=0;j<e.length;j++)e[j]=a.charCodeAt(4*j)+(a.charCodeAt(4*j+1)<<8)+(a.charCodeAt(4*j+2)<<16)+(a.charCodeAt(4*j+3)<<24);return e},a.longsToStr=function(a){for(var e=Array(a.length),j=0;j<a.length;j++)e[j]=String.fromCharCode(255&a[j],a[j]>>>8&255,a[j]>>>16&255,a[j]>>>24&255);return e.join("")};var k={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,e){var j,b,c,d,l,g,m=[],p="",q=k.code;if(g=(void 0===e?0:e)?f.encode(a):a,0<(l=g.length%3))for(;3>l++;)p+="=",g+="\0";for(l=0;l<g.length;l+=3)j=g.charCodeAt(l),b=g.charCodeAt(l+1),c=g.charCodeAt(l+2),d=j<<16|b<<8|c,j=d>>18&63,b=d>>12&63,c=d>>6&63,d&=63,m[l/3]=q.charAt(j)+q.charAt(b)+q.charAt(c)+q.charAt(d);return m=m.join(""),m=m.slice(0,m.length-p.length)+p},decode:function(a,e){e=void 0!==e&&e;var j,b,c,d,m,l,p=[],g=k.code;l=e?f.decode(a):a;for(var q=0;q<l.length;q+=4)j=g.indexOf(l.charAt(q)),b=g.indexOf(l.charAt(q+1)),d=g.indexOf(l.charAt(q+2)),m=g.indexOf(l.charAt(q+3)),c=j<<18|b<<12|d<<6|m,j=c>>>16&255,b=c>>>8&255,c&=255,p[q/4]=String.fromCharCode(j,b,c),64==m&&(p[q/4]=String.fromCharCode(j,b)),64==d&&(p[q/4]=String.fromCharCode(j));return d=p.join(""),e?f.decode(d):d}},f={encode:function(a){return a=a.replace(/[\u0080-\u07ff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(192|a>>6,128|63&a)}),a=a.replace(/[\u0800-\uffff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)})},decode:function(a){return a=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){
return a=(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2),String.fromCharCode(a)}),a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){return a=(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1),String.fromCharCode(a)})}}}(jwplayer.utils),function(d){d.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions"}}(jwplayer),function(d){var a=jwplayer.utils;d.eventdispatcher=function(d,f){var h,e;this.resetEventListeners=function(){h={},e=[]},this.resetEventListeners(),this.addEventListener=function(e,b,c){try{a.exists(h[e])||(h[e]=[]),"string"==a.typeOf(b)&&(b=new Function("return "+b)()),h[e].push({listener:b,count:c})}catch(f){a.log("error",f)}return!1},this.removeEventListener=function(e,b){if(h[e]){try{for(var c=0;c<h[e].length;c++)if(h[e][c].listener.toString()==b.toString()){h[e].splice(c,1);break}}catch(f){a.log("error",f)}return!1}},this.addGlobalListener=function(f,b){try{"string"==a.typeOf(f)&&(f=new Function("return "+f)()),e.push({listener:f,count:b})}catch(c){a.log("error",c)}return!1},this.removeGlobalListener=function(f){if(f){try{for(var b=0;b<e.length;b++)if(e[b].listener.toString()==f.toString()){e.splice(b,1);break}}catch(c){a.log("error",c)}return!1}},this.sendEvent=function(j,b){if(a.exists(b)||(b={}),a.extend(b,{id:d,version:jwplayer.version,type:j}),f&&a.log(j,b),"undefined"!=a.typeOf(h[j]))for(var c=0;c<h[j].length;c++){try{h[j][c].listener(b)}catch(n){a.log("There was an error while handling a listener: "+n.toString(),h[j][c].listener)}h[j][c]&&(1===h[j][c].count?delete h[j][c]:0<h[j][c].count&&(h[j][c].count-=1))}for(c=0;c<e.length;c++){try{e[c].listener(b)}catch(m){a.log("There was an error while handling a listener: "+m.toString(),e[c].listener)}e[c]&&(1===e[c].count?delete e[c]:0<e[c].count&&(e[c].count-=1))}}}}(jwplayer.events),function(d){var a={},k={};d.plugins=function(){},d.plugins.loadPlugins=function(f,h){return k[f]=new d.plugins.pluginloader(new d.plugins.model(a),h),k[f]},d.plugins.registerPlugin=function(f,h,e,j){var b=d.utils.getPluginName(f);a[b]||(a[b]=new d.plugins.plugin(f)),a[b].registerPlugin(f,h,e,j)}}(jwplayer),function(d){d.plugins.model=function(a){this.addPlugin=function(k){var f=d.utils.getPluginName(k);return a[f]||(a[f]=new d.plugins.plugin(k)),a[f]},this.getPlugins=function(){return a}}}(jwplayer),function(d){var a=jwplayer.utils,k=jwplayer.events;d.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},d.plugin=function(f){function h(){switch(a.getPluginPathType(f)){case a.pluginPathType.ABSOLUTE:return f;case a.pluginPathType.RELATIVE:return a.getAbsolutePath(f,window.location.href)}}function e(){p=setTimeout(function(){b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},1e3)}function j(){b=a.loaderstatus.ERROR,l.sendEvent(k.ERROR)}var c,n,m,p,b=a.loaderstatus.NEW,l=new k.eventdispatcher;a.extend(this,l),this.load=function(){if(b==a.loaderstatus.NEW)if(0<f.lastIndexOf(".swf"))c=f,b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else if(a.getPluginPathType(f)==a.pluginPathType.CDN)b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else{b=a.loaderstatus.LOADING;var g=new a.scriptloader(h());g.addEventListener(k.COMPLETE,e),g.addEventListener(k.ERROR,j),g.load()}},this.registerPlugin=function(e,f,j,d){p&&(clearTimeout(p),p=void 0),m=f,j&&d?(c=d,n=j):"string"==typeof j?c=j:"function"==typeof j?n=j:!j&&!d&&(c=e),b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},this.getStatus=function(){return b},this.getPluginName=function(){return a.getPluginName(f)},this.getFlashPath=function(){if(c)switch(a.getPluginPathType(c)){case a.pluginPathType.ABSOLUTE:return c;case a.pluginPathType.RELATIVE:return 0<f.lastIndexOf(".swf")?a.getAbsolutePath(c,window.location.href):a.getAbsolutePath(c,h())}return null},this.getJS=function(){return n},this.getTarget=function(){return m},this.getPluginmode=function(){return void 0!==c&&void 0!==n?d.pluginmodes.HYBRID:void 0!==c?d.pluginmodes.FLASH:void 0!==n?d.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new n(a,b,c)},this.getURL=function(){return f}}}(jwplayer.plugins),function(d){var a=d.utils,k=d.events,f=a.foreach;d.plugins.pluginloader=function(h,e){function j(){m?g.sendEvent(k.ERROR,{message:p}):n||(n=!0,c=a.loaderstatus.COMPLETE,g.sendEvent(k.COMPLETE))}function b(){if(l||j(),!n&&!m){var b=0,c=h.getPlugins();a.foreach(l,function(e){e=a.getPluginName(e);var f=c[e];e=f.getJS();var g=f.getTarget(),f=f.getStatus();f==a.loaderstatus.LOADING||f==a.loaderstatus.NEW?b++:e&&(!g||parseFloat(g)>parseFloat(d.version))&&(m=!0,p="Incompatible player version",j())}),0==b&&j()}}var p,c=a.loaderstatus.NEW,n=!1,m=!1,l=e,g=new k.eventdispatcher;a.extend(this,g),this.setupPlugins=function(b,c,e){var g={length:0,plugins:{}},j=0,d={},n=h.getPlugins();return f(c.plugins,function(f,h){var k=a.getPluginName(f),l=n[k],m=l.getFlashPath(),q=l.getJS(),p=l.getURL();m&&(g.plugins[m]=a.extend({},h),g.plugins[m].pluginmode=l.getPluginmode(),g.length++);try{if(q&&c.plugins&&c.plugins[p]){var A=document.createElement("div");A.id=b.id+"_"+k,A.style.position="absolute",A.style.top=0,A.style.zIndex=j+10,d[k]=l.getNewInstance(b,a.extend({},c.plugins[p]),A),j++,b.onReady(e(d[k],A,!0)),b.onResize(e(d[k],A))}}catch(D){a.log("ERROR: Failed to load "+k+".")}}),b.plugins=d,g},this.load=function(){if(!a.exists(e)||"object"==a.typeOf(e)){c=a.loaderstatus.LOADING,f(e,function(c){a.exists(c)&&(c=h.addPlugin(c),c.addEventListener(k.COMPLETE,b),c.addEventListener(k.ERROR,q))});var g=h.getPlugins();f(g,function(a,b){b.load()})}b()};var q=this.pluginFailed=function(){m||(m=!0,p="File not found",j())};this.getStatus=function(){return c}}}(jwplayer),function(){jwplayer.parsers={localName:function(d){return d?d.localName?d.localName:d.baseName?d.baseName:"":""},textContent:function(d){return d?d.textContent?d.textContent:d.text?d.text:"":""},getChildNode:function(d,a){return d.childNodes[a]},numChildren:function(d){return d.childNodes?d.childNodes.length:0}}}(jwplayer),function(d){var a=d.parsers;(a.jwparser=function(){}).parseEntry=function(k,f){for(var h=[],e=[],j=d.utils.xmlAttribute,b=0;b<k.childNodes.length;b++){var c=k.childNodes[b];if("jwplayer"==c.prefix){var n=a.localName(c);"source"==n?(delete f.sources,h.push({file:j(c,"file"),default:j(c,"default"),label:j(c,"label"),type:j(c,"type")})):"track"==n?(delete f.tracks,e.push({file:j(c,"file"),default:j(c,"default"),kind:j(c,"kind"),label:j(c,"label")})):(f[n]=d.utils.serialize(a.textContent(c)),"file"==n&&f.sources&&delete f.sources)}f.file||(f.file=f.link)}if(h.length)for(f.sources=[],b=0;b<h.length;b++)0<h[b].file.length&&(h[b].default="true"==h[b].default,h[b].label.length||delete h[b].label,f.sources.push(h[b]));if(e.length)for(f.tracks=[],b=0;b<e.length;b++)0<e[b].file.length&&(e[b].default="true"==e[b].default,e[b].kind=e[b].kind.length?e[b].kind:"captions",e[b].label.length||delete e[b].label,f.tracks.push(e[b]));return f}}(jwplayer),function(d){var a=jwplayer.utils,k=a.xmlAttribute,f=d.localName,h=d.textContent,e=d.numChildren,j=d.mediaparser=function(){};j.parseGroup=function(b,c){var d,m,p=[];for(m=0;m<e(b);m++)if(d=b.childNodes[m],"media"==d.prefix&&f(d))switch(f(d).toLowerCase()){case"content":k(d,"duration")&&(c.duration=a.seconds(k(d,"duration"))),0<e(d)&&(c=j.parseGroup(d,c)),k(d,"url")&&(c.sources||(c.sources=[]),c.sources.push({file:k(d,"url"),type:k(d,"type"),width:k(d,"width"),label:k(d,"label")}));break;case"title":c.title=h(d);break;case"description":c.description=h(d);break;case"guid":c.mediaid=h(d);break;case"thumbnail":c.image||(c.image=k(d,"url"));break;case"group":j.parseGroup(d,c);break;case"subtitle":var l={};if(l.file=k(d,"url"),l.kind="captions",0<k(d,"lang").length){var g=l;d=k(d,"lang");var q={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};d=q[d]?q[d]:d,g.label=d}p.push(l)}for(c.hasOwnProperty("tracks")||(c.tracks=[]),m=0;m<p.length;m++)c.tracks.push(p[m]);return c}}(jwplayer.parsers),function(d){function a(a){for(var c={},e=0;e<a.childNodes.length;e++){var h=a.childNodes[e],p=j(h);if(p)switch(p.toLowerCase()){case"enclosure":c.file=k.xmlAttribute(h,"url");break;case"title":c.title=f(h);break;case"guid":c.mediaid=f(h);break;case"pubdate":c.date=f(h);break;case"description":c.description=f(h);break;case"link":c.link=f(h);break;case"category":c.tags=c.tags?c.tags+f(h):f(h)}}return c=d.mediaparser.parseGroup(a,c),c=d.jwparser.parseEntry(a,c),new jwplayer.playlist.item(c)}var k=jwplayer.utils,f=d.textContent,h=d.getChildNode,e=d.numChildren,j=d.localName;d.rssparser={},d.rssparser.parse=function(b){for(var c=[],f=0;f<e(b);f++){var d=h(b,f);if("channel"==j(d).toLowerCase())for(var k=0;k<e(d);k++){var l=h(d,k);"item"==j(l).toLowerCase()&&c.push(a(l))}}return c}}(jwplayer.parsers),function(d){d.playlist=function(a){var k=[];if("array"==d.utils.typeOf(a))for(var f=0;f<a.length;f++)k.push(new d.playlist.item(a[f]));else k.push(new d.playlist.item(a));return k}}(jwplayer),function(d){var a=d.item=function(k){var f=jwplayer.utils,h=f.extend({},a.defaults,k);h.tracks=k&&f.exists(k.tracks)?k.tracks:[],0==h.sources.length&&(h.sources=[new d.source(h)]);for(var e=0;e<h.sources.length;e++){var j=h.sources[e].default;h.sources[e].default=!!j&&"true"==j.toString(),h.sources[e]=new d.source(h.sources[e])}if(h.captions&&!f.exists(k.tracks)){for(k=0;k<h.captions.length;k++)h.tracks.push(h.captions[k]);delete h.captions}for(e=0;e<h.tracks.length;e++)h.tracks[e]=new d.track(h.tracks[e]);return h};a.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(d){var a=jwplayer,k=a.utils,f=a.events,h=a.parsers;d.loader=function(){function a(e){try{var j=e.responseXML.childNodes;e="";for(var k=0;k<j.length&&(e=j[k],!(8!=e.nodeType));k++);if("xml"==h.localName(e)&&(e=e.nextSibling),"rss"!=h.localName(e))b("Not a valid RSS feed");else{var l=new d(h.rssparser.parse(e));c.sendEvent(f.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(g){b()}}function j(a){b(a.match(/invalid/i)?"Not a valid RSS feed":"")}function b(a){c.sendEvent(f.JWPLAYER_ERROR,{message:a||"Error loading file"})}var c=new f.eventdispatcher;k.extend(this,c),this.load=function(b){k.ajax(b,a,j)}}}(jwplayer.playlist),function(d){var a=jwplayer.utils,k={file:void 0,label:void 0,type:void 0,default:void 0};d.source=function(f){var d=a.extend({},k);return a.foreach(k,function(e){a.exists(f[e])&&(d[e]=f[e],delete f[e])}),d.type&&0<d.type.indexOf("/")&&(d.type=a.extensionmap.mimeType(d.type)),"m3u8"==d.type&&(d.type="hls"),"smil"==d.type&&(d.type="rtmp"),d}}(jwplayer.playlist),function(d){var a=jwplayer.utils,k={file:void 0,label:void 0,kind:"captions",default:!1};d.track=function(d){var h=a.extend({},k);return d||(d={}),a.foreach(k,function(e){a.exists(d[e])&&(h[e]=d[e],delete d[e])}),h}}(jwplayer.playlist),function(d){var a=d.utils,k=d.events,f=!0,h=!1,e=document,j=d.embed=function(b){function c(b,c){a.foreach(c,function(a,c){"function"==typeof b[a]&&b[a].call(b,c)})}function n(){if(r.sitecatalyst)try{null!=s&&s.hasOwnProperty("Media")||l()}catch(e){return void l()}if("array"==a.typeOf(r.playlist)&&2>r.playlist.length&&(0==r.playlist.length||!r.playlist[0].sources||0==r.playlist[0].sources.length))p();else if(!z)if("string"==a.typeOf(r.playlist)){var g=new d.playlist.loader;g.addEventListener(k.JWPLAYER_PLAYLIST_LOADED,function(a){r.playlist=a.playlist,z=h,n()}),g.addEventListener(k.JWPLAYER_ERROR,function(a){z=h,p(a)}),z=f,g.load(r.playlist)}else if(y.getStatus()==a.loaderstatus.COMPLETE){for(g=0;g<r.modes.length;g++)if(r.modes[g].type&&j[r.modes[g].type]){var u=a.extend({},r),w=new j[r.modes[g].type](t,r.modes[g],u,y,b);if(w.supportsConfig())return w.addEventListener(k.ERROR,m),w.embed(),c(b,u.events),b}if(r.fallback){var x="No suitable players found and fallback enabled";C=setTimeout(function(){q(x,f)},10),a.log(x),new j.download(t,r,p)}else x="No suitable players found and fallback disabled",q(x,h),a.log(x),t.parentNode.replaceChild(v,t)}}function m(a){g(t,B+a.message)}function p(a){a&&a.message?g(t,"Error loading playlist: "+a.message):g(t,B+"No playable sources found")}function l(){g(t,"Adobe SiteCatalyst Error: Could not find Media Module")}function g(b,c){if(r.fallback){var e=b.style;e.backgroundColor="#000",e.color="#FFF",e.width=a.styleDimension(r.width),e.height=a.styleDimension(r.height),e.display="table",e.opacity=1;var e=document.createElement("p"),d=e.style;d.verticalAlign="middle",d.textAlign="center",d.display="table-cell",d.font="15px/20px Arial, Helvetica, sans-serif",e.innerHTML=c.replace(":",":<br>"),b.innerHTML="",b.appendChild(e),q(c,f)}else q(c,h)}function q(a,c){C&&(clearTimeout(C),C=null),b.dispatchEvent(k.JWPLAYER_SETUP_ERROR,{message:a,fallback:c})}var t,u,v,r=new j.config(b.config),w=r.width,x=r.height,B="Error loading player: ",y=d.plugins.loadPlugins(b.id,r.plugins),z=h,C=null;return r.fallbackDiv&&(v=r.fallbackDiv,delete r.fallbackDiv),r.id=b.id,u=e.getElementById(b.id),r.aspectratio?b.config.aspectratio=r.aspectratio:delete b.config.aspectratio,t=e.createElement("div"),t.id=u.id,t.style.width=0<w.toString().indexOf("%")?w:w+"px",t.style.height=0<x.toString().indexOf("%")?x:x+"px",u.parentNode.replaceChild(t,u),d.embed.errorScreen=g,y.addEventListener(k.COMPLETE,n),y.addEventListener(k.ERROR,function(a){g(t,"Could not load plugins: "+a.message)}),y.load(),b}}(jwplayer),function(d){function a(a){if(a.playlist)for(var d=0;d<a.playlist.length;d++)a.playlist[d]=new h(a.playlist[d]);else{var b={};f.foreach(h.defaults,function(c){k(a,b,c)}),b.sources||(a.levels?(b.sources=a.levels,delete a.levels):(d={},k(a,d,"file"),k(a,d,"type"),b.sources=d.file?[d]:[])),a.playlist=[new h(b)]}}function k(a,d,b){f.exists(a[b])&&(d[b]=a[b],delete a[b])}var f=d.utils,h=d.playlist.item;(d.embed.config=function(e){var j={fallback:!0,height:270,primary:"html5",width:480,base:e.base?e.base:f.getScriptPath("jwplayer.js"),aspectratio:""};e=f.extend(j,d.defaults,e);var j={type:"html5",src:e.base+"jwplayer.html5.js"},b={type:"flash",src:e.base+"jwplayer.flash.swf"};if(e.modes="flash"==e.primary?[b,j]:[j,b],e.listbar&&(e.playlistsize=e.listbar.size,e.playlistposition=e.listbar.position,e.playlistlayout=e.listbar.layout),e.flashplayer&&(b.src=e.flashplayer),e.html5player&&(j.src=e.html5player),a(e),"string"==typeof(b=e.aspectratio)&&f.exists(b)){var c=b.indexOf(":");-1==c?j=0:(j=parseFloat(b.substr(0,c)),b=parseFloat(b.substr(c+1)),j=0>=j||0>=b?0:b/j*100+"%")}else j=0;return-1==e.width.toString().indexOf("%")?delete e.aspectratio:j?e.aspectratio=j:delete e.aspectratio,e}).addConfig=function(e,d){return a(d),f.extend(e,d)}}(jwplayer),function(d){var a=d.utils,k=document;d.embed.download=function(d,h,e){function j(b,c){for(var e=k.querySelectorAll(b),d=0;d<e.length;d++)a.foreach(c,function(a,b){e[d].style[a]=b})}function b(a,b,c){return a=k.createElement(a),b&&(a.className="jwdownload"+b),c&&c.appendChild(a),a}var p,c=a.extend({},h),n=c.width?c.width:480,m=c.height?c.height:320;h=h.logo?h.logo:{prefix:a.repo(),file:"logo.png",margin:10};var l,g,q,r,c=c.playlist,t=["mp4","aac","mp3"];if(c&&c.length){for(r=c[0],p=r.sources,c=0;c<p.length;c++){var u=p[c],v=u.type?u.type:a.extensionmap.extType(a.extension(u.file));u.file&&a.foreach(t,function(b){v==t[b]?(l=u.file,g=r.image):a.isYouTube(u.file)&&(q=u.file)})}l?(p=l,e=g,d&&(c=b("a","display",d),b("div","icon",c),b("div","logo",c),p&&c.setAttribute("href",a.getAbsolutePath(p))),c="#"+d.id+" .jwdownload",d.style.width="",d.style.height="",j(c+"display",{width:a.styleDimension(Math.max(320,n)),height:a.styleDimension(Math.max(180,m)),background:"black center no-repeat "+(e?"url("+e+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),j(c+"display div",{position:"absolute",width:"100%",height:"100%"}),j(c+"logo",{top:h.margin+"px",right:h.margin+"px",background:"top right no-repeat url("+h.prefix+h.file+")"}),j(c+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):q?(h=q,d=b("embed","",d),d.src="http://www.youtube.com/v/"+a.youTubeID(h),d.type="application/x-shockwave-flash",d.width=n,d.height=m):e()}}}(jwplayer),function(d){var a=d.utils,k=d.events,f={};(d.embed.flash=function(e,j,b,c,n){function m(a,b,c){var e=document.createElement("param");e.setAttribute("name",b),e.setAttribute("value",c),a.appendChild(e)}function p(a,b,c){return function(){try{c&&document.getElementById(n.id+"_wrapper").appendChild(b);var e=document.getElementById(n.id).getPluginConfig("display");"function"==typeof a.resize&&a.resize(e.width,e.height),b.style.left=e.x,b.style.top=e.h}catch(d){}}}function l(b){if(!b)return{};var c={},e=[];return a.foreach(b,function(b,d){var g=a.getPluginName(b);e.push(b),a.foreach(d,function(a,b){c[g+"."+a]=b})}),c.plugins=e.join(","),c}var g=new d.events.eventdispatcher,q=a.flashVersion();a.extend(this,g),this.embed=function(){if(b.id=n.id,10>q)return g.sendEvent(k.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var d,h,u=n.config.listbar,v=a.extend({},b);if(e.id+"_wrapper"==e.parentNode.id)d=document.getElementById(e.id+"_wrapper");else{if(d=document.createElement("div"),h=document.createElement("div"),h.style.display="none",h.id=e.id+"_aspect",d.id=e.id+"_wrapper",d.style.position="relative",d.style.display="block",d.style.width=a.styleDimension(v.width),d.style.height=a.styleDimension(v.height),n.config.aspectratio){var w=parseFloat(n.config.aspectratio);h.style.display="block",h.style.marginTop=n.config.aspectratio,d.style.height="auto",d.style.display="inline-block",u&&("bottom"==u.position?h.style.paddingBottom=u.size+"px":"right"==u.position&&(h.style.marginBottom=-1*u.size*(w/100)+"px"))}e.parentNode.replaceChild(d,e),d.appendChild(e),d.appendChild(h)}for(d=c.setupPlugins(n,v,p),0<d.length?a.extend(v,l(d.plugins)):delete v.plugins,void 0!==v["dock.position"]&&"false"==v["dock.position"].toString().toLowerCase()&&(v.dock=v["dock.position"],delete v["dock.position"]),d=v.wmode?v.wmode:v.height&&40>=v.height?"transparent":"opaque",h="height width modes events primary base fallback volume".split(" "),u=0;u<h.length;u++)delete v[h[u]];h=a.getCookies(),a.foreach(h,function(a,b){void 0===v[a]&&(v[a]=b)}),h=window.location.href.split("/"),h.splice(h.length-1,1),h=h.join("/"),v.base=h+"/",f[e.id]=v,a.isIE()?(h='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+e.id+'" name="'+e.id+'" tabindex=0"">',h+='<param name="movie" value="'+j.src+'">',h+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',h+='<param name="seamlesstabbing" value="true">',h+='<param name="wmode" value="'+d+'">',h+='<param name="bgcolor" value="#000000">',h+="</object>",e.outerHTML=h,d=document.getElementById(e.id)):(h=document.createElement("object"),h.setAttribute("type","application/x-shockwave-flash"),h.setAttribute("data",j.src),h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("bgcolor","#000000"),h.setAttribute("id",e.id),h.setAttribute("name",e.id),h.setAttribute("tabindex",0),m(h,"allowfullscreen","true"),m(h,"allowscriptaccess","always"),m(h,"seamlesstabbing","true"),m(h,"wmode",d),e.parentNode.replaceChild(h,e),d=h),n.config.aspectratio&&(d.style.position="absolute"),n.container=d,n.setPlayer(d,"flash")},this.supportsConfig=function(){if(q){if(!b)return!0;if("string"==a.typeOf(b.playlist))return!0;try{var c=b.playlist[0].sources;if(void 0===c)return!0;for(var d=0;d<c.length;d++)if(c[d].file&&h(c[d].file,c[d].type))return!0}catch(e){}}return!1}}).getVars=function(a){return f[a]};var h=d.embed.flashCanPlay=function(d,f){if(a.isYouTube(d)||a.isRtmp(d,f)||"hls"==f)return!0;var b=a.extensionmap[f||a.extension(d)];return!!b&&!!b.flash}}(jwplayer),function(d){var a=d.utils,k=a.extensionmap,f=d.events;d.embed.html5=function(h,e,j,b,c){function n(a,b,c){return function(){try{var d=document.querySelector("#"+h.id+" .jwmain");c&&d.appendChild(b),"function"==typeof a.resize&&(a.resize(d.clientWidth,d.clientHeight),setTimeout(function(){a.resize(d.clientWidth,d.clientHeight)},400)),b.left=d.style.left,b.top=d.style.top}catch(e){}}}function m(a){p.sendEvent(a.type,{message:"HTML5 player not found"})}var p=this,l=new f.eventdispatcher;a.extend(p,l),p.embed=function(){if(d.html5){b.setupPlugins(c,j,n),h.innerHTML="";var g=d.utils.extend({},j);delete g.volume,g=new d.html5.player(g),c.container=document.getElementById(c.id),c.setPlayer(g,"html5")}else g=new a.scriptloader(e.src),g.addEventListener(f.ERROR,m),g.addEventListener(f.COMPLETE,p.embed),g.load()},p.supportsConfig=function(){if(d.vid.canPlayType)try{if("string"==a.typeOf(j.playlist))return!0;for(var b=j.playlist[0].sources,c=0;c<b.length;c++){var e,f=b[c].file,h=b[c].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||a.isAndroid()&&("m3u"==a.extension(f)||"m3u8"==a.extension(f))||a.isRtmp(f,h))e=!1;else{var m,l=k[h||a.extension(f)];if(!l||l.flash&&!l.html5)m=!1;else{var n=l.html5,p=d.vid;if(n)try{m=!!p.canPlayType(n)}catch(y){m=!1}else m=!0}e=m}if(e)return!0}}catch(z){}return!1}}}(jwplayer),function(d){var a=d.embed,k=d.utils,f=k.extend(function(f){var e=k.repo(),j=k.extend({},d.defaults),b=k.extend({},j,f.config),c=f.config,n=b.plugins,m=b.analytics,p=e+"jwpsrv.js",l=e+"sharing.js",g=e+"related.js",q=e+"gapro.js",j=d.key?d.key:j.key,r=new d.utils.key(j).edition(),n=n||{};switch("ads"==r&&b.advertising&&(b.advertising.client.match(".js$|.swf$")?n[b.advertising.client]=b.advertising:n[e+b.advertising.client+".js"]=b.advertising),delete c.advertising,c.key=j,b.analytics&&b.analytics.client&&b.analytics.client.match(".js$|.swf$")&&(p=b.analytics.client),delete c.analytics,"free"!=r&&m&&!1===m.enabled||(n[p]=m||{}),delete n.sharing,delete n.related,r){case"premium":case"ads":b.related&&(b.related.client&&b.related.client.match(".js$|.swf$")&&(g=b.related.client),n[g]=b.related),b.ga&&(b.ga.client&&b.ga.client.match(".js$|.swf$")&&(q=b.ga.client),n[q]=b.ga),c.sitecatalyst&&new d.embed.sitecatalyst(f);case"pro":b.sharing&&(b.sharing.client&&b.sharing.client.match(".js$|.swf$")&&(l=b.sharing.client),n[l]=b.sharing),b.skin&&(c.skin=b.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,k.repo()+"skins/$1.xml"))}return c.plugins=n,new a(f)},a);d.embed=f}(jwplayer),function(d){var a=jwplayer.utils;d.sitecatalyst=function(d){function f(b){c.debug&&a.log(b)}function h(a){return a=a.split("/"),a=a[a.length-1],a=a.split("?"),a[0]}function e(){if(!g){g=!0;var a=b.getPosition();f("stop: "+m+" : "+a),s.Media.stop(m,a)}}function j(){q||(e(),q=!0,f("close: "+m),s.Media.close(m),r=!0,l=0)}var m,p,l,r,b=d,c=a.extend({},b.config.sitecatalyst),n={onPlay:function(){if(!r){var a=b.getPosition();g=!1,f("play: "+m+" : "+a),s.Media.play(m,a)}},onPause:e,onBuffer:e,onIdle:j,onPlaylistItem:function(d){try{r=!0,j(),l=0;var e;if(c.mediaName)e=c.mediaName;else{var g=b.getPlaylistItem(d.index);e=g.title?g.title:g.file?h(g.file):g.sources&&g.sources.length?h(g.sources[0].file):""}m=e,p=c.playerName?c.playerName:b.id}catch(f){a.log(f)}},onTime:function(){if(r){var a=b.getDuration();if(-1==a)return;q=g=r=!1,f("open: "+m+" : "+a+" : "+p),s.Media.open(m,a,p),f("play: "+m+" : 0"),s.Media.play(m,0)}if(a=b.getPosition(),3<=Math.abs(a-l)){var c=l;f("seek: "+c+" to "+a),f("stop: "+m+" : "+c),s.Media.stop(m,c),f("play: "+m+" : "+a),s.Media.play(m,a)}l=a},onComplete:j},g=!0,q=!0;a.foreach(n,function(a){b[a](n[a])})}}(jwplayer.embed),function(d){var a=[],k=d.utils,f=d.events,h=f.state,e=document,j=d.api=function(a){function c(a,b){return function(c){return b(a,c)}}function n(a,b){return r[a]||(r[a]=[],p(f.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;if(b=b.oldstate,c==a){var d=r[c];if(d)for(var e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,{oldstate:b,newstate:c})}})),r[a].push(b),g}function m(a,b){try{a.jwAddEventListener(b,'function(dat) { jwplayer("'+g.id+'").dispatchEvent("'+b+'", dat); }')}catch(c){k.log("Could not add internal listener")}}function p(a,b){return q[a]||(q[a]=[],t&&u&&m(t,a)),q[a].push(b),g}function l(){if(u){for(var a=arguments[0],b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);if(void 0!==t&&"function"==typeof t[a])switch(b.length){case 4:return t[a](b[0],b[1],b[2],b[3]);case 3:return t[a](b[0],b[1],b[2]);case 2:return t[a](b[0],b[1]);case 1:return t[a](b[0]);default:return t[a]()}return null}v.push(arguments)}var g=this,q={},r={},t=void 0,u=!1,v=[],w=void 0,x={},B={};g.container=a,g.id=a.id,g.getBuffer=function(){return l("jwGetBuffer")},g.getContainer=function(){return g.container},g.addButton=function(a,b,c,d){try{B[d]=c,l("jwDockAddButton",a,b,"jwplayer('"+g.id+"').callback('"+d+"')",d)}catch(e){k.log("Could not add dock button"+e.message)}},g.removeButton=function(a){l("jwDockRemoveButton",a)},g.callback=function(a){B[a]&&B[a]()},g.forceState=function(a){return l("jwForceState",a),g},g.releaseState=function(){return l("jwReleaseState")},g.getDuration=function(){return l("jwGetDuration")},g.getFullscreen=function(){return l("jwGetFullscreen")},g.getHeight=function(){return l("jwGetHeight")},g.getLockState=function(){return l("jwGetLockState")},g.getMeta=function(){return g.getItemMeta()},g.getMute=function(){return l("jwGetMute")},g.getPlaylist=function(){var a=l("jwGetPlaylist");return"flash"==g.renderingMode&&k.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),a},g.getPlaylistItem=function(a){return k.exists(a)||(a=g.getPlaylistIndex()),g.getPlaylist()[a]},g.getPlaylistIndex=function(){return l("jwGetPlaylistIndex")},g.getPosition=function(){return l("jwGetPosition")},g.getRenderingMode=function(){return g.renderingMode},g.getState=function(){return l("jwGetState")},g.getVolume=function(){return l("jwGetVolume")},g.getWidth=function(){return l("jwGetWidth")},g.setFullscreen=function(a){return k.exists(a)?l("jwSetFullscreen",a):l("jwSetFullscreen",!l("jwGetFullscreen")),g},g.setMute=function(a){return k.exists(a)?l("jwSetMute",a):l("jwSetMute",!l("jwGetMute")),g},g.lock=function(){return g},g.unlock=function(){return g},g.load=function(a){return l("jwLoad",a),g},g.playlistItem=function(a){return l("jwPlaylistItem",parseInt(a)),g},g.playlistPrev=function(){return l("jwPlaylistPrev"),g},g.playlistNext=function(){return l("jwPlaylistNext"),g},g.resize=function(a,b){if("flash"!=g.renderingMode){var c=document.getElementById(g.id);c.className=c.className.replace(/\s+aspectMode/,""),c.style.display="block",l("jwResize",a,b)}else{var c=e.getElementById(g.id+"_wrapper"),d=e.getElementById(g.id+"_aspect");d&&(d.style.display="none"),c&&(c.style.display="block",c.style.width=k.styleDimension(a),c.style.height=k.styleDimension(b))}return g},g.play=function(a){return void 0===a?(a=g.getState(),l(a==h.PLAYING||a==h.BUFFERING?"jwPause":"jwPlay")):l("jwPlay",a),g},g.pause=function(a){return void 0===a?(a=g.getState(),l(a==h.PLAYING||a==h.BUFFERING?"jwPause":"jwPlay")):l("jwPause",a),g},g.stop=function(){return l("jwStop"),g},g.seek=function(a){return l("jwSeek",a),g},g.setVolume=function(a){return l("jwSetVolume",a),g},g.loadInstream=function(a,b){return w=new j.instream(this,t,a,b)},g.getQualityLevels=function(){return l("jwGetQualityLevels")},g.getCurrentQuality=function(){return l("jwGetCurrentQuality")},g.setCurrentQuality=function(a){l("jwSetCurrentQuality",a)},g.getCaptionsList=function(){return l("jwGetCaptionsList")},g.getCurrentCaptions=function(){return l("jwGetCurrentCaptions")},g.setCurrentCaptions=function(a){l("jwSetCurrentCaptions",a)},g.getControls=function(){return l("jwGetControls")},g.getSafeRegion=function(){return l("jwGetSafeRegion")},g.setControls=function(a){l("jwSetControls",a)},g.destroyPlayer=function(){l("jwPlayerDestroy")},g.playAd=function(a){l("jwPlayAd",a)};var y={onBufferChange:f.JWPLAYER_MEDIA_BUFFER,onBufferFull:f.JWPLAYER_MEDIA_BUFFER_FULL,onError:f.JWPLAYER_ERROR,onSetupError:f.JWPLAYER_SETUP_ERROR,onFullscreen:f.JWPLAYER_FULLSCREEN,onMeta:f.JWPLAYER_MEDIA_META,onMute:f.JWPLAYER_MEDIA_MUTE,onPlaylist:f.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:f.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:f.JWPLAYER_PLAYLIST_COMPLETE,onReady:f.API_READY,onResize:f.JWPLAYER_RESIZE,onComplete:f.JWPLAYER_MEDIA_COMPLETE,onSeek:f.JWPLAYER_MEDIA_SEEK,onTime:f.JWPLAYER_MEDIA_TIME,onVolume:f.JWPLAYER_MEDIA_VOLUME,onBeforePlay:f.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:f.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:f.JWPLAYER_DISPLAY_CLICK,onControls:f.JWPLAYER_CONTROLS,onQualityLevels:f.JWPLAYER_MEDIA_LEVELS,onQualityChange:f.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:f.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:f.JWPLAYER_CAPTIONS_CHANGED,onAdError:f.JWPLAYER_AD_ERROR,onAdClick:f.JWPLAYER_AD_CLICK,onAdImpression:f.JWPLAYER_AD_IMPRESSION,onAdTime:f.JWPLAYER_AD_TIME,onAdComplete:f.JWPLAYER_AD_COMPLETE,onAdCompanions:f.JWPLAYER_AD_COMPANIONS};k.foreach(y,function(a){g[a]=c(y[a],p)});var z={onBuffer:h.BUFFERING,onPause:h.PAUSED,onPlay:h.PLAYING,onIdle:h.IDLE};return k.foreach(z,function(a){g[a]=c(z[a],n)}),g.remove=function(){if(!u)throw"Cannot call remove() before player is ready";v=[],j.destroyPlayer(this.id)},g.setup=function(a){if(d.embed){var b=e.getElementById(g.id);return b&&(a.fallbackDiv=b),b=g,v=[],j.destroyPlayer(b.id),b=d(g.id),b.config=a,new d.embed(b)}return g},g.registerPlugin=function(a,b,c,e){d.plugins.registerPlugin(a,b,c,e)},g.setPlayer=function(a,b){t=a,g.renderingMode=b},g.detachMedia=function(){
if("html5"==g.renderingMode)return l("jwDetachMedia")},g.attachMedia=function(a){if("html5"==g.renderingMode)return l("jwAttachMedia",a)},g.dispatchEvent=function(a,b){if(q[a])for(var c=k.translateEventResponse(a,b),d=0;d<q[a].length;d++)if("function"==typeof q[a][d])try{a==f.JWPLAYER_PLAYLIST_LOADED&&k.deepReplaceKeyName(c.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),q[a][d].call(this,c)}catch(e){k.log("There was an error calling back an event handler")}},g.dispatchInstreamEvent=function(a){w&&w.dispatchEvent(a,arguments)},g.callInternal=l,g.playerReady=function(a){for(u=!0,t||g.setPlayer(e.getElementById(a.id)),g.container=e.getElementById(g.id),k.foreach(q,function(a){m(t,a)}),p(f.JWPLAYER_PLAYLIST_ITEM,function(){x={}}),p(f.JWPLAYER_MEDIA_META,function(a){k.extend(x,a.metadata)}),g.dispatchEvent(f.API_READY);0<v.length;)l.apply(this,v.shift())},g.getItemMeta=function(){return x},g.isBeforePlay=function(){return t.jwIsBeforePlay()},g.isBeforeComplete=function(){return t.jwIsBeforeComplete()},g};j.selectPlayer=function(b){var c;return k.exists(b)||(b=0),b.nodeType?c=b:"string"==typeof b&&(c=e.getElementById(b)),c?(b=j.playerById(c.id))?b:j.addPlayer(new j(c)):"number"==typeof b?a[b]:null},j.playerById=function(b){for(var c=0;c<a.length;c++)if(a[c].id==b)return a[c];return null},j.addPlayer=function(b){for(var c=0;c<a.length;c++)if(a[c]==b)return b;return a.push(b),b},j.destroyPlayer=function(b){for(var d,c=-1,f=0;f<a.length;f++)a[f].id==b&&(c=f,d=a[f]);return 0<=c&&(b=d.id,f=e.getElementById(b+("flash"==d.renderingMode?"_wrapper":"")),k.clearCss&&k.clearCss("#"+b),f&&("html5"==d.renderingMode&&d.destroyPlayer(),d=e.createElement("div"),d.id=b,f.parentNode.replaceChild(d,f)),a.splice(c,1)),null},d.playerReady=function(a){var c=d.api.playerById(a.id);c?c.playerReady(a):d.api.selectPlayer(a.id).playerReady(a)}}(jwplayer),function(d){var a=d.events,k=d.utils,f=a.state;d.api.instream=function(d,e,j,b){function c(a,b){return l[a]||(l[a]=[],p.jwInstreamAddEventListener(a,'function(dat) { jwplayer("'+m.id+'").dispatchInstreamEvent("'+a+'", dat); }')),l[a].push(b),this}function n(b,d){return g[b]||(g[b]=[],c(a.JWPLAYER_PLAYER_STATE,function(a){var c=a.newstate,d=a.oldstate;if(c==b){var e=g[c];if(e)for(var f=0;f<e.length;f++)"function"==typeof e[f]&&e[f].call(this,{oldstate:d,newstate:c,type:a.type})}})),g[b].push(d),this}var m=d,p=e,l={},g={};this.dispatchEvent=function(a,b){if(l[a])for(var c=k.translateEventResponse(a,b[1]),d=0;d<l[a].length;d++)"function"==typeof l[a][d]&&l[a][d].call(this,c)},this.onError=function(b){return c(a.JWPLAYER_ERROR,b)},this.onFullscreen=function(b){return c(a.JWPLAYER_FULLSCREEN,b)},this.onMeta=function(b){return c(a.JWPLAYER_MEDIA_META,b)},this.onMute=function(b){return c(a.JWPLAYER_MEDIA_MUTE,b)},this.onComplete=function(b){return c(a.JWPLAYER_MEDIA_COMPLETE,b)},this.onTime=function(b){return c(a.JWPLAYER_MEDIA_TIME,b)},this.onBuffer=function(a){return n(f.BUFFERING,a)},this.onPause=function(a){return n(f.PAUSED,a)},this.onPlay=function(a){return n(f.PLAYING,a)},this.onIdle=function(a){return n(f.IDLE,a)},this.onClick=function(b){return c(a.JWPLAYER_INSTREAM_CLICK,b)},this.onInstreamDestroyed=function(b){return c(a.JWPLAYER_INSTREAM_DESTROYED,b)},this.play=function(a){p.jwInstreamPlay(a)},this.pause=function(a){p.jwInstreamPause(a)},this.destroy=function(){p.jwInstreamDestroy()},this.setText=function(a){p.jwInstreamSetText(a||"")},m.callInternal("jwLoadInstream",j,b||{})}}(jwplayer),function(d){var a=d.api,k=a.selectPlayer;a.selectPlayer=function(a){return(a=k(a))?a:{registerPlugin:function(a,e,f){d.plugins.registerPlugin(a,e,f)}}}}(jwplayer))},83:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){jwplayer.key="44sLsgDtmT2y5hgCwa5owlxgJXsLoH96JFOjVIqS0PE="})}).call(exports,__webpack_require__(4))},84:function(module,exports,__webpack_require__){(function($){!0===window.isAndroidMobileApplication()&&(window.open=window.location.replace),$(document).ready(function(){$(document).on("click","a[class*=clickthrough-], img[class*=clickthrough-]",function(e){var currentElement=$(this),clickThroughData=currentElement.data("clickthrough");if(void 0===clickThroughData){var clickThroughClass=currentElement.attr("class"),matchClickThroughType=clickThroughClass.match(/(clickthrough-[A-Za-z0-9]+)/g);if(null==matchClickThroughType)return e.stopImmediatePropagation(),!1;var clickThroughType=matchClickThroughType[0].replace("clickthrough-","");if("undefined"===GlobalJsVar_dataClickThrough[clickThroughType])return!1;clickThroughData=GlobalJsVar_dataClickThrough[clickThroughType],clickThroughData.sourceID=HeadGlobalJsVar_sourceId,clickThroughData.sourceType=HeadGlobalJsVar_sourceType,clickThroughData=window.ve.updateClickthroughObject(clickThroughData,currentElement)}return clickThroughData.link&&void 0!==clickThroughData.link?window.open(clickThroughData.link):window.open(currentElement.attr("href")),window.trackEvent(clickThroughData.origin,clickThroughData.trackEventName,"Go To Exhibitor Area"),window.submitClickThrough(clickThroughData),e.stopImmediatePropagation(),!1})}),window.submitClickThrough=function(clickThroughData){var jsonDataClone=JSON.parse(JSON.stringify(clickThroughData));delete jsonDataClone.link;var localParameter="";"com"===ve.currentTld&&"en"!==ve.language&&(localParameter="/"+ve.language),delete jsonDataClone.link,delete jsonDataClone.trackEventName,delete jsonDataClone.action,delete jsonDataClone.origin,delete jsonDataClone.sourceID,delete jsonDataClone.sourceType,void 0===jsonDataClone.elementTypeId&&void 0!==jsonDataClone.elementType&&(jsonDataClone.elementTypeId=jsonDataClone.elementType,delete jsonDataClone.elementType),$.ajax({url:localParameter+window.ve.clickthroughLink,type:"POST",data:JSON.stringify(jsonDataClone),contentType:"application/json; charset=UTF-8",crossDomain:!1,dataType:"json",async:!0,success:function(data){},error:function(data){}})},window.ve.updateClickthroughObject=function(clickthroughObject,currentElement){var currentElementId=currentElement.attr("id");if(void 0!==currentElementId){var arrIdElement=currentElementId.split("_"),arrClickthroughId=arrIdElement[1].split("-");clickthroughObject.elementId==arrClickthroughId[0]&&clickthroughObject.companyId==arrClickthroughId[1]||(clickthroughObject.elementId=parseInt(arrClickthroughId[0]),clickthroughObject.companyId=parseInt(arrClickthroughId[1]),clickthroughObject.link=currentElement.attr("href"))}return clickthroughObject}}).call(exports,__webpack_require__(4))},85:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){function isGlobalVarsExist(){return"string"==typeof HeadGlobalJsVar_myDomain&&("string"==typeof HeadGlobalJsVar_videoCorporate&&"string"==typeof HeadGlobalJsVar_corporateVideoTrackingTitle)}function replaceVideoCorporateViewer(){$(".viewer-video-corporate-container").css({top:($(window).height()-$(".viewer-video-corporate-container").actual("height"))/2+$(window).scrollTop(),left:($(window).width()-$(".viewer-video-corporate-container").actual("width"))/2+$(window).scrollLeft()}),$(".overlay-video-corporate").css({height:$(document).actual("height"),width:$(document).actual("width")})}function closeVideoCorporateViewer(){$(".viewer-video-corporate-container").hide(),$(".overlay-video-corporate").unbind("click"),$(".viewer-video-corporate-close").unbind("click"),jwplayer("viewer-video-corporate").stop(),$(window).unbind("keydown"),$(window).unbind("resize"),$(window).unbind("scroll",standHeaderScrollHandler),$(".overlay-video-corporate").css("display","none")}var $headerElement=$(".stand-header").first();if(0!==$headerElement.length){if(window.isTablette()||!1===window.isMobileDevice()){(new window.FloatableMenu).render($headerElement,{resizeParent:!1})}!0===isGlobalVarsExist()&&(window.isMobileDevice()?$(".video-corporate").on("click",function(){if($(".viewer-video-corporate-container").length<=0){var video="";if("undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?video=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360):"undefined"!=typeof HeadGlobalJsVar_videoCorporate&&""!==HeadGlobalJsVar_videoCorporate&&(video=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate)),""!==video)if(!0===window.isAndroidMobileApplication()){var pageUrl=window.location.href.replace(window.location.hash,"");window.location.replace(pageUrl+"#"+video)}else window.location.href=video}}):$(".video-corporate").on("click",function(){if($(".viewer-video-corporate-container").length<=0){$("body").append('<div class="viewer-video-corporate-container" style="display:none;">\n\t                                                        <a href="#" class="viewer-video-corporate-close"></a>\n\t                                                        <div id="viewer-video-corporate" class="viewer-video-corporate-content">\n\t                                                            Loading video player ...\n\t                                                        </div>\n\t                                                    </div>\n\t                                                    <div class="overlay-video-corporate" style="display:none;"></div>')}var jwplayerParams={html5player:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.html5.js",flashplayer:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.flash.swf",autostart:!0,ga:{idstring:HeadGlobalJsVar_corporateVideoTrackingTitle}};"undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?(jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),label:"480p"},{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360),label:"360p",default:"true"}]}],jwplayerParams.height=360,jwplayerParams.width=640):"undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?(jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360),label:"360p"},{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),label:"480p",default:"true"}]}],jwplayerParams.height=480,jwplayerParams.width=854):(jwplayerParams.file=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),jwplayerParams.height=480,jwplayerParams.width=854),"true"!=HeadGlobalJsVar_videoCorporateHasRelatedVideo&&1!=HeadGlobalJsVar_videoCorporateHasRelatedVideo||(jwplayerParams.related={file:window.ve.localeUrl+"/ws/related-videos/"+parseInt(HeadGlobalJsVar_videoCorporateId)+".xml"}),jwplayer("viewer-video-corporate").setup(jwplayerParams),$(".overlay-video-corporate").css({display:"block",height:$(document).actual("height"),width:$(document).actual("width")}),$(".viewer-video-corporate-container").show(),replaceVideoCorporateViewer(),$(".overlay-video-corporate").click(function(){return closeVideoCorporateViewer(),!1}),standHeaderScrollHandler=function(){return replaceVideoCorporateViewer(),!1},$(window).bind("scroll",standHeaderScrollHandler),$(window).resize(function(){return replaceVideoCorporateViewer(),!1}),$(".viewer-video-corporate-close").click(function(){return closeVideoCorporateViewer(),!1}),$(window).keydown(function(event){return 27==event.keyCode&&closeVideoCorporateViewer(),!1})})),$(".stand-header-logo").hover(function(){var bottomValue=-$(".stand-title-infos").height()-$(".stand-title-infos").css("padding-top").replace("px","");$(".stand-title-infos").css("bottom",bottomValue),$(".stand-title-infos").show()}),$(".stand-header-logo").bind("mouseleave",function(){$(".stand-title-infos").hide()})}})}).call(exports,__webpack_require__(4))},86:function(module,exports,__webpack_require__){(function($){var base64_decode=__webpack_require__(81),LazyLoading=__webpack_require__(33);window.ve.currentProductTopPosition={},$(document).ready(function(){(new LazyLoading).initialize(),$(document).on("LazyLoadComplete","img.lazyLoaded[data-crop]",function(event){var tmpImage=new Image;tmpImage.src=$(this).attr("src"),$(tmpImage).data("original",this),$(tmpImage).load(function(){var pictureSizeRatio=this.width/this.height,originalImage=$($(this).data("original"));pictureSizeRatio>=.8&&pictureSizeRatio<1?originalImage.addClass("crop-h"):pictureSizeRatio>=1&&pictureSizeRatio<=1.3&&originalImage.addClass("crop-v")})}),window.initializeJsContent=function(productId,descriptionJs){$("#product-description-js_"+productId).html(base64_decode(descriptionJs)),$("#product-description-js_"+productId).show()};var showOriginal=function(e){var $currentElement=$(e.target),productId=$currentElement.attr("id").split("_")[1];$("#original-description_"+productId).show(),$currentElement.hide(),$currentElement.removeClass("btn-see-original"),$(document).off("click","#"+$currentElement.attr("id"),showOriginal)};$(document).on("click",".btn-see-original",showOriginal),$(document).on("click",".group-product-list-item",function(e){window.trackEvent("Produit","ClickOtherProducts","SeeProductDetail");var currentElement=$(this);return window.ve.setDisplayRow(currentElement),window.ve.loadDetailProduct(currentElement),e.stopImmediatePropagation(),!1}),$(document).on("click",".product-detail-content-close",function(){$containerElement=$(this).parent(".product-detail-container"),$containerElement.hide(),ve.hideCurrentArrow($containerElement)}),$(document).on("click",".catalogue",function(){window.trackEvent("Produit","ClickContenu","PlusCatalogue")}),window.MySpace.api.addBookmarkListener();var trackViewProduct=setInterval(function(){var mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),dispatcher=ve.application.dispatcher,trackingEvents=ve.application.injector.getValue("trackingEvents");if(null!==trackingEvents&&void 0!==trackingEvents){clearInterval(trackViewProduct),productList={};var dataTracking=$(".productInfo").attr("data-product");void 0!==dataTracking&&dataTracking.length>0&&(productList=JSON.parse(dataTracking).elementList,dispatcher.dispatch(trackingEvents.TRACK_VIEW_MONGO_DB,{url:mongoTrackingUrl.list,data:dataTracking}))}},500)}),window.ve.loadDetailProduct=function(currentElement){var elementId=currentElement.attr("id").split("_"),containerId=elementId[0],container=$("#"+containerId),productId=elementId[1],companyId=currentElement.attr("data-companyId"),elementType=currentElement.attr("data-elementTypeId"),statscoData=(currentElement.attr("class"),{elementId:productId,companyId:companyId,elementType:elementType});ve.hideCurrentArrow(container),container.data("tileId",currentElement.attr("id"));var postParams={productId:productId},doTrackClick=function(){var dispatcher=ve.application.dispatcher;setTimeout(function(){var trackingEvents=ve.application.injector.getValue("trackingEvents"),mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),placementOtherProduct=$(".other-product").attr("data-placement");dispatcher.dispatch(trackingEvents.TRACK_CLICK_MONGO_DB,{url:mongoTrackingUrl.clickNatural,pageTypeId:window.ve.getPageTypeId(),placementId:placementOtherProduct,displayMode:trackingEvents.DISPLAY_MODE.THUMBNAILS,elementTypeId:trackingEvents.ELEMENT_TYPE.product,elementId:productId,companyId:companyId})},100)},beforeSendCallback=function(){container.append('<div class="overlay"><div class="loader"></div></div>'),doTrackClick()},completeCallback=function(){if(container.children(".overlay").length>0){$(container.children(".overlay")[0]).remove()}HeadGlobalJsVar_sourceId=productId},callback=function(datas){if(datas.length>0){if(container.children(".product-detail-content").length>0){$(container.children(".product-detail-content")[0]).remove()}container.append(datas);var $productRequestButtonsContainer=$(container).find(".product-request-buttons-container"),requestDatas=$productRequestButtonsContainer.data("request");new window.ve.request.application($productRequestButtonsContainer[0],requestDatas),window.ve.trackVisitFromDataElement(statscoData);var dispatcher=ve.application.dispatcher,trackingEvents=ve.application.injector.getValue("trackingEvents"),mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),placementOtherProduct=$(".other-product").attr("data-placement");dispatcher.dispatch(trackingEvents.TRACK_VIEW_MONGO_DB,{url:mongoTrackingUrl.viewNatural,pageTypeId:window.ve.getPageTypeId(),placementId:placementOtherProduct,displayMode:trackingEvents.DISPLAY_MODE.DETAIL,elementTypeId:trackingEvents.ELEMENT_TYPE.product,elementId:productId,companyId:companyId}),location.hash="#product-item_"+productId,window.ve.setDisplayRow(currentElement);var newTopPosition=currentElement.offset().top,animationTime=1e3;window.isMobileDevice()&&!window.isTablette()?(newTopPosition+=currentElement.height(),animationTime=0):(window.isTablette()&&(animationTime=0),newTopPosition=currentElement.offset().top,newTopPosition-=16,newTopPosition-=$(".stand-header").height()),$(window).scrollTo(newTopPosition,1e3,{onAfter:function(){ve.showCurrentArrow(currentElement),container.slideDown(animationTime)}})}},requestOptions={url:HeadGlobalJsVar_ajaxProductDetailUrl,dataType:"html",requestType:"GET",data:postParams,success:callback,beforeSend:beforeSendCallback,complete:completeCallback,error:completeCallback};$.ajax(requestOptions)},window.isContentAnchor=function(){return/product-item_[0-9]/.test(location.hash)},window.loadLastViewedProductDetail=function(){if(window.isContentAnchor()){var productId=location.hash.split("_")[1],lastProductElement=$('a[name="product-item_'+productId+'"]').parent();lastProductElement.length>0&&window.ve.loadDetailProduct(lastProductElement),HeadGlobalJsVar_sourceId=productId}},window.ve.setDisplayRow=function(product_element){var $that=product_element,INITIAL_MAX_COL=6,col=Math.floor($that.parent().outerWidth()/$that.outerWidth(!0)+.1),arr=$that.attr("id").split("_"),rowToDisplayIn=arr[0];arr=arr[0].split("-");var myRow=parseInt(arr[arr.length-1]),myCol=parseInt($that.attr("data-col")),position=(myRow-1)*INITIAL_MAX_COL+myCol,lastElementPosition=position%col==0?position:position+(col-position%col);$that.parent().find(".group-product-list-item").eq(lastElementPosition-1).after($("#"+rowToDisplayIn).css("clear","both"))},window.ve.hideCurrentArrow=function($containerElement){currentTileId=$containerElement.data("tileId"),$("#"+currentTileId).find(".inset").removeClass("arrow")},window.ve.showCurrentArrow=function($currentTile){$currentTile.parent().find(".inset").removeClass("arrow"),$currentTile.find(".inset").addClass("arrow")}}).call(exports,__webpack_require__(4))},87:function(module,exports,__webpack_require__){(function($){!function(){function initPicturesViewer(productDatas,productId,imageNumber){templateSaved=$("#viewer-box").html(),-1===$.inArray(productId,analyticsLastVisioOpenPush)&&(window.trackEvent("Produit","ZoomPhoto","ZoomPhoto"),analyticsLastVisioOpenPush.push(productId));var alternateDescription="",infosDescription="";null!=productDatas.model&&""!=productDatas.model&&(alternateDescription=alternateDescriptionTemplate.replace("{model}",productDatas.model)),infosDescription=infosDescriptionTemplate.replace("{keyword}",productDatas.keyword),infosDescription=infosDescription.replace("{alternateDescription}",alternateDescription),window.isMobileDevice()&&!window.isTablette()||$(".viewer-infos-description").html(infosDescription);var htmlContentForCarrousel='<li class="img-viewer js-li-carousel1"><img class="js-image1" src="'+productDatas.mainPictureUrl.replace("photo-mg","photo-pc")+'"></li>';$("#viewer-carousel").html(htmlContentForCarrousel);var imageCpt=1,imageUrl=null;if(0!==productDatas.thumbsList.length)for(var pictureThumbId in productDatas.thumbsList)imageCpt++,imageUrl=productDatas.thumbsList[pictureThumbId],htmlContentForCarrousel='<li class="img-viewer js-li-carousel'+imageCpt+'"><img class="js-image'+imageCpt+'" src="'+imageUrl+'"></li>',$("#viewer-carousel").append(htmlContentForCarrousel);activeCarousel=imageCpt>1?1:0,$(".viewer-content").html($(".js-image"+imageNumber).parent().html().toString().replace("photo-pc","photo-g")),$("li img.js-image"+imageNumber).addClass("active"),$("#viewer-box").css("display","block"),$("#viewer-content").addClass("zoom"),$("#viewer-content-zoom").addClass("zoom"),$(".overlay").show(),$("#overlay-product-picture").click(function(){return isVideoViewerOpened=!1,closeViewer(),!1}),$(".viewer-content-close").click(function(){return isVideoViewerOpened=!1,closeViewer(),!1}),$(window).keydown(function(event){if(27==event.keyCode)return closeViewer(),event.preventDefault(),!1});var display_timeout=($("#viewer-content").width(),$("#viewer-content").height(),0),inViever=!1;return $("body").mousemove(function(e){if(0==mousePosX&&0==mousePosY)return mousePosX=e.pageX,mousePosY=e.pageY,!1;if(mousePosY==e.pageY&&mousePosX==e.pageX)return!1;mousePosX=0,mousePosY=0,$("body").unbind("mousemove"),$("#viewer").hover(function(){inViever=!0,$(".viewer-header").fadeIn(200),window.isMobileDevice()||$(".viewer-footer").fadeIn(200),1<$("#viewer-carousel > *").length?($(".viewer-content-next").fadeIn(200),$(".viewer-content-prev").fadeIn(200)):($(".viewer-content-next").css("display","none"),$(".viewer-content-prev").css("display","none"))},function(){inViever=!1,0!=display_timeout&&clearTimeout(display_timeout),display_timeout=setTimeout(function(){display_timeout=0,inViever||(window.isMobileDevice()||$(".viewer-header").fadeOut(200),$(".viewer-footer").fadeOut(200),1<$("#viewer-carousel > *").length?($(".viewer-content-next").fadeOut(200),$(".viewer-content-prev").fadeOut(200)):($(".viewer-content-next").css("display","none"),$(".viewer-content-prev").css("display","none")))},500)});var cursorPosX=e.pageX,cursorPosY=e.pageY,viewerPosition=$("#viewer-box").position(),viewerTop=viewerPosition.top,viewerLeft=viewerPosition.left,viewerHeight=$("#viewer-box").actual("height"),viewerWidth=$("#viewer-box").actual("width");cursorPosY>viewerTop&&cursorPosY<viewerTop+viewerHeight&&cursorPosX>viewerLeft&&cursorPosX<viewerLeft+viewerWidth&&$("#viewer").trigger("mouseenter")}),!0===productDatas.hasVideo?($(".viewer-video").html('<img id="viewer-video_'+productDatas.productVideoId+"-"+productDatas.companyId+'" src="https://'+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+'/media/ps/images/common/stand/viewer/player-video.png" />'),$(document).on("click",".viewer-video",function(){window.ve.sendProductVideoTrackEvent(productId,"WatchVideo","WatchVideo"),$("#viewer-box").hide(),$("#overlay-product-picture").hide(),window.ve.initVideoProductViewer(productId,!0)})):$(".viewer-video").html(""),$("#makeRequestButton").click(function(){$(".request-button .quote").length>0&&ve.trigger($(".request-button .quote")[0],"click",$(".request-button .quote").data("request"))}),$("#whereToRequestButton").click(function(){$(".request-button .where_to_buy").length>0&&ve.trigger($(".request-button .where_to_buy")[0],"click",$(".request-button .where_to_buy").data("request"))}),$("#viewer-carousel li").click(function(){var classe=$(this).find("img").attr("class"),currentClass=$("#viewer-content img").attr("class");return classe.toString()!=currentClass.toString()&&($(".viewer-content").css("z-index","-1"),$("li img."+currentClass.toString()).removeClass("active"),$("#viewer-content").html($(this).html().toString().replace("photo-pc","photo-g")),currentClass=$("#viewer-content img").attr("class"),$("li img."+currentClass.toString()).addClass("active"),$("#viewer-content img").imagesLoaded(function($images,$proper,$broken){responsiveViewer(),replaceCarousel(),$(".viewer-content").css("z-index","22")})),preloadImage(),!1}),$(".viewer-content-prev").click(function(){var imgCurrentClass=$("#viewer-content img").attr("class");if(imgCurrentClass=imgCurrentClass.toString(),$("li img."+imgCurrentClass.toString()).removeClass("active"),-1!=imgCurrentClass.indexOf("js-image")){var imgNumber=imgCurrentClass.replace("js-image","");imgNumber=parseInt(imgNumber),imgNumber>1&&imgNumber<=$(".img-viewer").length?($(".viewer-content").css("z-index","-1"),$(".viewer-content").html($(".js-image"+(imgNumber-1)).parent().html().toString().replace("photo-pc","photo-g")),$("li img.js-image"+(imgNumber-1)).addClass("active")):1==imgNumber&&($(".viewer-content").css("z-index","-1"),$(".viewer-content").html($(".js-image"+$(".img-viewer").length).parent().html().toString().replace("photo-pc","photo-g")),$("li img.js-image"+$(".img-viewer").length).addClass("active")),replaceCarousel(),$("#viewer-content img").imagesLoaded(function($images,$proper,$broken){responsiveViewer(),$(".viewer-content").css("z-index","22")})}return preloadImage(),!1}),$(".viewer-content-next").click(function(){var imgCurrentClass=$("#viewer-content img").attr("class");if(imgCurrentClass=imgCurrentClass.toString(),$("li img."+imgCurrentClass.toString()).removeClass("active"),-1!=imgCurrentClass.indexOf("js-image")){var imgNumber=imgCurrentClass.replace("js-image","");imgNumber=parseInt(imgNumber),imgNumber>=1&&imgNumber<$(".img-viewer").length?($(".viewer-content").css("z-index","-1"),$(".viewer-content").html($(".js-image"+(imgNumber+1)).parent().html().toString().replace("photo-pc","photo-g")),$("li img.js-image"+(imgNumber+1)).addClass("active")):imgNumber==$(".img-viewer").length&&($(".viewer-content").css("z-index","-1"),$(".viewer-content").html($(".js-image1").parent().html().toString().replace("photo-pc","photo-g")),$("li img.js-image1").addClass("active")),replaceCarousel(),$("#viewer-content img").imagesLoaded(function($images,$proper,$broken){responsiveViewer(),$(".viewer-content").css("z-index","22")})}return preloadImage(),!1}),pictureViewerScrollHandler=function(){return!1===isVideoViewerOpened&&responsiveViewer(),!1},window.isMobileDevice()||$(window).bind("scroll",pictureViewerScrollHandler),$(window).resize(function(){return!1===isVideoViewerOpened&&responsiveViewer(),!1}),$(".viewer-header").css("z-index","-1"),$(".viewer-footer").css("z-index","-1"),$(".viewer-content-next").css("z-index","-1"),$(".viewer-content-prev").css("z-index","-1"),$(".viewer-header").fadeIn(1),$(".viewer-footer").fadeIn(1),1<$("#viewer-carousel > *").length?($(".viewer-content-next").fadeIn(1),$(".viewer-content-prev").fadeIn(1)):($(".viewer-content-next").css("display","none"),$(".viewer-content-prev").css("display","none")),1==activeCarousel?$("#viewer-carousel").carouFredSel({prev:"#prev",next:"#next",auto:!1,items:itemMaxCarousel,circular:!1,infinite:!1,easing:"easeOutBounce",scroll:{wipe:!0,mousewheel:!0}}):$("#viewer-carousel").css("display","none"),$(".viewer-content img").imagesLoaded(function($images,$proper,$broken){responsiveViewer(),1==activeCarousel&&replaceCarousel(),$(".viewer-header").css("z-index","23"),$(".viewer-footer").css("z-index","22"),$(".viewer-content-next").css("z-index","22"),$(".viewer-content-prev").css("z-index","22")}),window.isMobileDevice()||($(".viewer-header").fadeOut(1),$(".viewer-content-next").fadeOut(1),$(".viewer-content-prev").fadeOut(1)),$(".viewer-footer").fadeOut(1),preloadImage(),!1}function replaceCarousel(){var imgCurrentClass=$("#viewer-content img").attr("class"),imgNumber=imgCurrentClass.toString().replace("js-image",""),totalImageCarousel=$("#viewer-carousel > *").length;imgNumber<=3?imgNumber=1:imgNumber>=totalImageCarousel-2?imgNumber=totalImageCarousel-4:imgNumber-=2,$("#viewer-carousel").trigger("slideTo","#viewer-carousel li.js-li-carousel"+imgNumber)}function closeViewer(){!0===isVideoViewerOpened?($("#viewer-box").show(),$(".viewer-content").show(),window.ve.closeVideoProductViewer(),isVideoViewerOpened=!1):($("#overlay-product-picture").hide(),$("#viewer-box").hide(),$("#viewer-box").html(templateSaved),properClose())}function resizeCarousel(){var totalImageCarousel=$("#viewer-carousel > *").length,newCarouselWidth=0;1==totalImageCarousel?($("div.viewer-carousel").width(0),$("div.viewer-video").css("right",16)):itemMaxCarousel>totalImageCarousel?(newCarouselWidth=totalImageCarousel*itemCarouselWidth+16,$("div.viewer-carousel").width(newCarouselWidth),$("div.viewer-video").css("right",newCarouselWidth+50)):(newCarouselWidth=itemMaxCarousel*itemCarouselWidth+32,$("div.viewer-carousel").width(newCarouselWidth),$("div.viewer-video").css("right",newCarouselWidth+50))}function preloadImage(){var imgCurrentClass=$("#viewer-content img").attr("class");if(imgCurrentClass=imgCurrentClass.toString(),-1!=imgCurrentClass.indexOf("js-image"))for(var i=0;i<2;i++){var imgNumber=imgCurrentClass.replace("js-image","");if((imgNumber=parseInt(imgNumber)+i)>=1&&imgNumber<$(".img-viewer").length){var imgSrc=$(".js-image"+(imgNumber+1)).attr("src").toString();"-1"==imageAlreadyLoad.indexOf(imgSrc)&&(imageAlreadyLoad.push(imgSrc),$("#viewer-content-preload").append('<img src="'+imgSrc.replace("photo-pc","photo-g")+'" />'))}}return!1}function responsiveViewer(){resizeViewer(),$("#viewer-content-zoom").unbind("mousemove"),$("#viewer-content-zoom").unbind("click"),$("#viewer-content").unbind("click");var myImage=$("#viewer-content img")[0],myImageWidth=0,myImageHeight=0;if(void 0===myImage.naturalHeight){var temp_image=new Image;temp_image.src=myImage.src,myImageHeight=temp_image.height}else myImageHeight=myImage.naturalHeight;if(void 0===myImage.naturalWidth){var temp_image=new Image;temp_image.src=myImage.src,myImageWidth=temp_image.width}else myImageWidth=myImage.naturalWidth;$("#viewer-content").actual("width")<myImageWidth||$("#viewer-content").actual("height")<myImageHeight?($("#viewer-content").gzoom({sW:$("#viewer-content").width(),sH:$("#viewer-content").height(),movediv:"viewer-content-zoom"}),$("#viewer-content-zoom").removeClass("hand"),$("#viewer-content").addClass("zoom"),$("#viewer-content-zoom").addClass("zoom")):($("#viewer-content-zoom").removeClass("hand"),$("#viewer-content").removeClass("zoom"),$("#viewer-content-zoom").removeClass("zoom")),resizeCarousel()}function properClose(){$(".viewer-content-next").unbind("click"),$(".viewer-content-prev").unbind("click"),$("#viewer-carousel li").unbind("click"),$("#viewer").unbind("mouseenter mouseleave"),$(".overlay").unbind("click"),$(window).unbind("keydown"),$(window).unbind("resize"),$(window).unbind("scroll",pictureViewerScrollHandler),1==activeCarousel?$("#viewer-carousel").triggerHandler("destroy",!1):$("#viewer-carousel").css("display","block"),$("#viewer-carousel").html(""),$(".viewer-content").html("")}function resizeViewer(){var imageElement=$("#viewer-content img"),containerElement=$("#viewer-content");return imageElement.attr("style",""),containerElement.attr("style",""),!1}
var templateSaved,isVideoViewerOpened=!1,infosDescriptionTemplate="<strong>{keyword}</strong>{alternateDescription}",alternateDescriptionTemplate=" - {model}",contentPictureViewerTemplate='\n\t                                    <div id="viewer-box" style="display:none;" >\n\t                                        <div id="viewer">\n\t                                             <div class="viewer-header">\n\t                                                <span class="viewer-infos-description"></span>\n\t                                                <a href="#" class="viewer-content-close"></a>\n\t                                            </div>\n\t                                            <div id="viewer-content" class="viewer-content"></div>\n\t                                            <div id="viewer-content-preload"></div>\n\t                                            <div id="viewer-content-zoom" class="viewer-content-zoom"></div>\n\t                                            <div class="viewer-content-request-button">\n\t                                                <div id="viewer-content-container" class="button-container">\n\t                                                    <button type="button" id="makeRequestButton"></button>\n\t                                                    <button type="button" id="whereToRequestButton"></button>\n\t                                                </div>\n\t                                            </div>\n\t                                            <div class="viewer-footer">\n\t                                                <div class="viewer-carousel">\n\t                                                    <ul id="viewer-carousel"></ul>\n\t                                                    <a id="prev" class="prev" href="#"></a>\n\t                                                    <a id="next" class="next" href="#"></a>\n\t                                                </div>\n\t                                                <div class="viewer-video"></div>\n\t                                            </div>\n\t                                            <a href="#" class="viewer-content-prev"></a>\n\t                                            <a href="#" class="viewer-content-next"></a>\n\t                                        </div>\n\t                                    </div>\n\t                                    <div id="overlay-product-picture" class="overlay" style="display:none;">',analyticsLastVisioOpenPush=[],itemMaxCarousel=($(window).height(),$(window).width(),5),itemCarouselWidth=62,activeCarousel=0,activeViewer=!0,mousePosX=0,mousePosY=0,imageAlreadyLoad=new Array,pictureViewerScrollHandler=function(){};$(document).ready(function(){0==$("#viewer-box").length&&($("body").append(contentPictureViewerTemplate),$("#viewer-content-zoom").swipe({swipe:function(event,direction,distance,duration,fingerCount){switch(direction){case"left":$(".viewer-content-next").trigger("click");break;case"right":$(".viewer-content-prev").trigger("click")}},threshold:0})),$(document).on("hover",".stand-product-picture",function(e){var currentElement=$(this),currentElementId=currentElement.attr("id").split("_"),productId=parseInt(currentElementId[1]),productDatas=productPictureViewerDatas[productId];activeViewer=productDatas.activateZoom,!1===activeViewer?$("#image-product-link_"+productId).css("cursor","default"):currentElement.addClass("hover")}),$(document).on("mouseleave",".stand-product-picture",function(e){var currentElement=$(this),currentElementId=currentElement.attr("id").split("_"),productId=parseInt(currentElementId[1]),productDatas=productPictureViewerDatas[productId];!0===(activeViewer=productDatas.activateZoom)&&currentElement.removeClass("hover")}),$(document).on("click",".stand-product-picture",function(e){if(e.stopImmediatePropagation(),0==activeViewer)return!1;var currentElement=$(this),currentElementId=currentElement.attr("id").split("_"),productId=parseInt(currentElementId[1]),productDatas=productPictureViewerDatas[productId];return void 0!==productDatas&&(initPicturesViewer(productDatas,productId,1),requestButton()),!1}),$(document).on("click",".picture-thumbnail",function(e){e.stopImmediatePropagation();var currentElement=$(this),currentElementId=currentElement.attr("id").split("_"),imageId=currentElementId[1],parentElement=currentElement.parent(".stand-product-thumbs"),parentId=parentElement.attr("id").split("_"),productId=parseInt(parentId[1]),productDatas=productPictureViewerDatas[productId];if(void 0!==productDatas){var thumbsList=productDatas.thumbsList,imageNumber=2,imageUrl=null;for(var pictureThumbId in thumbsList){if(imageId==pictureThumbId){imageUrl=thumbsList[imageId].replace("photo-pc","photo-g");break}imageNumber++}null!==imageUrl&&initPicturesViewer(productDatas,productId,imageNumber),requestButton()}return!1});var requestButton=function(){if(0!=$(".request-button .quote").length){0!=$(".button-container .request-button .where_to_buy-container").length&&$("viewer-content-container").removeClass("request-button where_to_buy-container"),$("#makeRequestButton").html(window.ve.request.i18n.makeRequestButton.value),$("#makeRequestButton").css("display","block"),$("#whereToRequestButton").css("display","none");var w=Math.round($(document).width()/2)-Math.round($("#makeRequestButton").parent().width()/2);$("#makeRequestButton").parent().css("margin-left",w)}else{$("#viewer-content-container").addClass("request-button"),$("#whereToRequestButton").html(window.ve.request.i18n.whereToRequestButton.value),$("#makeRequestButton").css("display","none"),$("#whereToRequestButton").css("display","block");var w=Math.round($(document).width()/2)-Math.round($("#makeRequestButton").parent().width()/2);$("#makeRequestButton").parent().css("margin-left",w)}}})}()}).call(exports,__webpack_require__(4))},88:function(module,exports,__webpack_require__){(function($){var HashVideo=__webpack_require__(89);window.ve.contentVideoProduct='<div class="viewer-video-product-container" style="display:none;">\n\t                               <a href="#" class="viewer-video-product-close"></a>\n\t                                   <div id="viewer-video-product" class="viewer-video-product-content">\n\t                               </div>\n\t                           </div>\n\t                           <div class="overlay-video-product" style="display:none;"></div>',window.ve.analyticsIdVideoPush=[],window.ve.videoViewerScrollHandler=function(){},window.ve.isOpenedInViewer=!1,window.ve.isPlayerOpened=!1,$(document).ready(function(){var hashVideo=new HashVideo;if("string"==typeof HeadGlobalJsVar_myDomain&&"undefined"!=typeof HeadGlobalJsVar_sourceId){$(document).on("click",".video-thumbnail",function(event,fromNewsletter){var elementId=$(this).attr("id").split("_");if(window.ve.sendProductVideoTrackEvent(elementId[1],"ClickVideo","WatchVideo"),window.isMobileDevice()){var video_url=$('[itemprop="video"]').find('meta[itemprop="contentURL"]').attr("content");void 0!==video_url&&(location.href=video_url)}else window.ve.initVideoProductViewer(elementId[1],void 0,fromNewsletter)});if(hashVideo.hasHashVideo)if(window.isMobileDevice()){var $video=$('[itemprop="video"]'),video_url=$video.find('meta[itemprop="contentURL"]').attr("content");sessionStorage.getItem("pageStand")?sessionStorage.removeItem("pageStand"):(sessionStorage.setItem("pageStand","stand"),history.pushState({redirection:"stand"},document.title,""),location.href=video_url)}else{var fromNewsletter=!1,video_element=$(".video-thumbnail");void 0!==video_element&&video_element.trigger("click",[fromNewsletter])}}}),window.ve.sendProductVideoTrackEvent=function(elementId,action,label){!1===$.inArray(elementId,window.ve.analyticsIdVideoPush)&&(window.trackEvent("Produit",action,label),window.ve.analyticsIdVideoPush.push(elementId[1]))},window.ve.getViewerDisplaySize=function(initialElementHeight,initialElementWidth){var newWidth=initialElementWidth,newHeight=initialElementHeight,ratio=newWidth/newHeight;return $(window).width()<newWidth&&(newWidth=.9*$(window).width(),newHeight=newWidth/ratio,$(window).height()<newHeight&&(newHeight=.9*$(window).height(),newWidth=newHeight*ratio)),{width:newWidth,height:newHeight}},window.ve.initVideoProductViewer=function(productId,fromViewer,fromNewsletter){if($(".viewer-video-product-container").length<=0&&$("body").append(window.ve.contentVideoProduct),"boolean"==typeof fromViewer?(window.ve.isOpenedInViewer=fromViewer,isVideoViewerOpened=fromViewer):(window.ve.isOpenedInViewer=!1,isVideoViewerOpened=!1),fromNewsletter=void 0===fromNewsletter||fromNewsletter,void 0!==productVideoMap[productId]){var productVideoObject=productVideoMap[productId],jwplayerParams={html5player:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.html5.js",flashplayer:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.flash.swf",autostart:fromNewsletter,ga:{idstring:productVideoObject.trakingTitle}};if(void 0!==productVideoObject.vr360Url&&1==window.isMobileDevice()?(jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(productVideoObject.vrUrl),label:"480p"},{file:window.ve.decryptUrl(productVideoObject.vr360Url),label:"360p",default:"true"}]}],jwplayerParams.height=360,jwplayerParams.width=640):(void 0!==productVideoObject.vr360Url?jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(productVideoObject.vr360Url),label:"360p"},{file:window.ve.decryptUrl(productVideoObject.vrUrl),label:"480p",default:"true"}]}]:jwplayerParams.file=window.ve.decryptUrl(productVideoObject.vrUrl),jwplayerParams.height=480,jwplayerParams.width=854),window.isMobileDevice()){var new_dims=window.ve.getViewerDisplaySize(jwplayerParams.height,jwplayerParams.width);jwplayerParams.height=new_dims.height,jwplayerParams.width=new_dims.width}"true"!=productVideoObject.hasRelatedVideo&&1!=productVideoObject.hasRelatedVideo||(jwplayerParams.related={file:window.ve.localeUrl+"/ws/related-videos/"+productVideoObject.videoId+".xml"}),jwplayer("viewer-video-product").setup(jwplayerParams),$(".overlay-video-product").css({display:"block",height:$(document).actual("height"),width:$(document).actual("width")}),$(".viewer-video-product-container").show(),window.ve.replaceVideoProductViewer(),$(".overlay-video-product").click(function(){return window.ve.closeVideoProductViewer(),!1}),window.ve.videoViewerScrollHandler=function(){return window.ve.replaceVideoProductViewer(),!1},window.isMobileDevice()||$(window).bind("scroll",window.ve.videoViewerScrollHandler),$(window).resize(function(){return window.ve.replaceVideoProductViewer(),!1}),$(".viewer-video-product-close").click(function(){return window.ve.closeVideoProductViewer(),!1}),$(window).keydown(function(event){return 27==event.keyCode&&!0===window.ve.isPlayerOpened&&window.ve.closeVideoProductViewer(),event.preventDefault(),!1}),window.ve.isPlayerOpened=!0}else window.ve.isOpenedInViewer=!1,isVideoViewerOpened=!1},window.ve.replaceVideoProductViewer=function(){$(".viewer-video-product-container").css({top:($(window).height()-$(".viewer-video-product-container").actual("height"))/2+$(window).scrollTop(),left:($(window).width()-$(".viewer-video-product-container").actual("width"))/2+$(window).scrollLeft()}),$(".overlay-video-product").css({height:$(document).actual("height"),width:$(document).actual("width")})},window.ve.closeVideoProductViewer=function(){$(".viewer-video-product-container").hide(),$(".overlay-video-product").unbind("click"),$(".viewer-video-product-close").unbind("click"),$(".overlay-video-product").css("display","none"),$("#viewer-video-product").html(""),jwplayer("viewer-video-product").stop(),!0===window.ve.isOpenedInViewer?(window.ve.isOpenedInViewer=!1,$("#viewer-box").show(),$("#overlay-product-picture").show(),$(".viewer-content").show()):($(window).unbind("resize"),$(window).unbind("keydown"),$(window).unbind("scroll",window.ve.videoViewerScrollHandler)),window.ve.isPlayerOpened=!1}}).call(exports,__webpack_require__(4))},89:function(module,exports){function HashVideo(hash){return void 0!==hash&&0!==hash.length||(this.hash=defaultHash),this.check()}var defaultHash="#video";HashVideo.prototype.check=function(){if(-1!==window.location.hash.indexOf(this.hash)){var splitHash=window.location.hash.split("="),sourceId=void 0;return splitHash.length>1?sourceId=splitHash[1]:"undefined"!=typeof HeadGlobalJsVar_sourceId&&(sourceId=HeadGlobalJsVar_sourceId),{hasHashVideo:!0,videoId:sourceId}}return{hasHashVideo:!1,videoId:void 0}},module.exports=HashVideo},90:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){$(".related-links-additionals").click(function(e){var target=e.currentTarget||e.srcElement;$(target).hide(),$("#related-links-additionals").show()})})}).call(exports,__webpack_require__(4))},91:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.helper=window.ve.request.helper||{};var mapHelper=function(dispatcher,googleMapsManager,googleGeocoderManager,requestConfig){this.dispatcher=dispatcher,this.googleMapsManager=googleMapsManager,this.googleGeocoderManager=googleGeocoderManager,this.requestConfig=requestConfig};mapHelper.prototype.addContactsMapMarker=function(mapId,dataMap,dataMarker){var icon=window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/common/request-form/",dsClientId="";void 0===dataMarker.dsClientId?icon+="marker-retailer.png":(dsClientId=dataMarker.dsClientId,icon+="marker-virtualstore.png");var markerOptions={icon:icon,html:'<div class="purchase-tooltip more-dealer-tooltip headquarter" style="display: block;">\n '+this._getOutZoneMessage(dataMarker,"out-zone out-zone-contact",window.ve.request.i18n.dealerFormOutOfDistributorAreaWarning.value)+'<div class="contact">\n\t                                    <p class="contact-name">'+dataMarker.title+"</p>\n\t                                    <p>"+dataMarker.address+'</p>\n\t                                    <div class="infos"></div>\n\t                                </div>\n\t                                <input id="dealer-button-'+dataMarker.id+'" class="type-submit btn-mcl dealer-button" type="submit" value="'+window.ve.request.i18n.dealerFormSendButton.value+"\" onclick=\"document.getElementById('contactId').value = '"+dataMarker.id+"'; document.getElementById('clientId').value = '"+dsClientId+'\';"/>\n\t                                <div class="purchase-tooltip-footer"></div>\n\t                                <div class="arrow"></div>\n\t                            </div>'};this.googleMapsManager.addMarkerToMap(mapId,$.extend(dataMarker,markerOptions))},mapHelper.prototype._getOutZoneMessage=function(dataMarker,style,message){return!0===dataMarker.outArea?'<p class="'+style+'"><i class="fa fa-exclamation-circle"></i>'+message+"</p>":""},mapHelper.prototype.addWhereToBuyMapDealerMarker=function(mapId,dataMap,dataMarker){var markerOptions={icon:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/common/request-form/marker-retailer.png",zIndex:18,callback:new ve.objects.callback(this,this._clickWhereToBuyMapMarker),html:'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                    <div class="contact-info">\n '+this._getOutZoneMessage(dataMarker,"out-zone",window.ve.request.i18n.whereToByOutOfDistributorAreaWarning.value)+"<p>"+window.ve.request.i18n.dealerType.value+'</p>\n\t                            <p class="contact-name">'+dataMarker.title+"</p>\n\t                            <p>"+dataMarker.address+"</p>\n\t                        </div>\n "+this._getWhereToBuyMapContactActions(dataMarker)+'<div class="purchase-tooltip-footer"></div>\n\t                        <div class="arrow"></div>\n\t                    </div>'};this.googleMapsManager.addMarkerToMap(mapId,$.extend(dataMarker,markerOptions))},mapHelper.prototype.addWhereToBuyMapAreaManagerMarker=function(mapId,dataMap,dataMarker){var markerOptions={icon:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/common/request-form/marker-areamanager.png",zIndex:19,callback:new ve.objects.callback(this,this._clickWhereToBuyMapMarker),html:'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                        <div class="contact-info">\n\t                            <p>Area Sales Manager - '+dataMarker.countryName+"</p>\n\t                        </div>\n "+this._getWhereToBuyMapContactActions(dataMarker)+'<div class="purchase-tooltip-footer"></div>\n\t                        <div class="arrow"></div>\n\t                    </div>'};this.googleMapsManager.addMarkerToMap(mapId,$.extend(dataMarker,markerOptions))},mapHelper.prototype.addWhereToBuyMapMainContactMarker=function(mapId,dataMap,dataMarker,dataClickThrough){var addressToGeocode;addressToGeocode=void 0===dataMarker.city?dataMarker.countryName:void 0===dataMarker.countryName?dataMarker.city:dataMarker.city+", "+dataMarker.countryName;var callback=new ve.objects.callback(this,this._addWhereToBuyMapMainContactMarker,[mapId,dataMap,dataMarker,dataClickThrough,addressToGeocode]);this.googleGeocoderManager.geocodeAddress(addressToGeocode,callback)},mapHelper.prototype._addWhereToBuyMapMainContactMarker=function(mapId,dataMap,dataMarker,dataClickThrough,addressToGeocode,geocodingResults,geocodingStatus){if(geocodingStatus===window.google.maps.GeocoderStatus.OK&&geocodingResults.length>0){var address;address=void 0===dataMarker.address?geocodingResults[0].formatted_address:void 0===dataMarker.zipCode?dataMarker.address.trim()+", "+addressToGeocode:dataMarker.address.trim()+", "+dataMarker.zipCode+" "+addressToGeocode;var markerOptions={icon:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/common/request-form/marker-headquarter.png",zIndex:20,longitude:geocodingResults[0].geometry.location.lng(),latitude:geocodingResults[0].geometry.location.lat(),callback:new ve.objects.callback(this,this._clickWhereToBuyMapMarker),html:'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                            <div class="contact-info">\n\t                                 <p>'+window.ve.request.i18n.mainContactType.value+'</p>\n\t                                 <p class="contact-name">'+dataMarker.title+"</p>\n\t                                 <p>"+address+"</p>\n\t                             </div>\n "+this._getWhereToBuyMapContactActions(dataMarker,dataClickThrough)+'<div class="purchase-tooltip-footer"></div>\n\t                             <div class="arrow"></div>\n\t                         </div>'};this.googleMapsManager.addMarkerToMap(mapId,$.extend(dataMarker,markerOptions))}},mapHelper.prototype._getWhereToBuyMapContactActions=function(dataMarker,dataClickThrough){var actions="";if(dataMarker.showPhoneButton&&(actions+=this._getWhereToBuyMapContactAction(dataMarker,this.requestConfig.urlWhereToBuyContactDetails,window.ve.request.i18n.tooltipPhone.value,"phone")),dataMarker.showRequestButton&&(dataMarker.enableRequestForm?actions+=this._getWhereToBuyMapContactAction(dataMarker,this.requestConfig.urlWhereToBuyRequestForm,window.ve.request.i18n.tooltipRequest.value,"mail"):actions+=this._getWhereToBuyMapContactAction(dataMarker,this.requestConfig.urlWhereToBuyContactDetails,window.ve.request.i18n.tooltipRequest.value,"mail")),void 0!==dataMarker.webSite){var webSite;webSite=["http","https"].some(function(v){return dataMarker.webSite.indexOf(v)>=0})?dataMarker.webSite:"http://"+dataMarker.webSite,actions+=this._getWhereToBuyMapContactAction(dataMarker,webSite,window.ve.request.i18n.tooltipSite.value,"expand",dataClickThrough)}return""===actions?actions:'<ul class="contact-actions" id="actions_'+dataMarker.type+"_"+dataMarker.id+'">\n'+actions+'</ul><span class="contact-detail"></span>\n'},mapHelper.prototype._getWhereToBuyMapContactAction=function(dataMarker,action,title,actionType,dataClickThrough){var additionalAttributes="";"expand"===actionType&&(additionalAttributes+='data-contact-website="'+action+'"',action="");var onclick="document.getElementById('contactId').value = '"+dataMarker.id+"';document.getElementById('contactType').value = '"+dataMarker.type+"';document.getElementById('baseRequestForm').action = '"+action+"';document.getElementById('baseRequestForm').actionType = '"+actionType+"';";if(void 0!==dataClickThrough&&null!==dataClickThrough){var jsonDataClickThrough=JSON.stringify(dataClickThrough).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");onclick+="submitClickThrough($(this).data('clickthrough'));",additionalAttributes+='data-clickthrough="'+jsonDataClickThrough+'"'}return'<li><input title="'+title+'" value="" class="'+actionType+'" type="submit" onclick="'+onclick+'" '+additionalAttributes+"/></li>\n"},mapHelper.prototype._clickWhereToBuyMapMarker=function(marker,event){marker.fullMap.infoBox.pixelOffset_.height=14,marker.fullMap.infoBox.pixelOffset_.width=-185,marker.fullMap.infoBox.setContent(marker.html),marker.fullMap.infoBox.open(marker.map,marker)},mapHelper.prototype.addWhereToBuyChinese=function(dataMarker){return'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                    <div class="contact-info">\n\t                        <p>'+window.ve.request.i18n.dealerType.value+'</p>\n\t                        <p class="contact-name">'+dataMarker.title+"</p>\n\t                        <p>"+dataMarker.address+"</p>\n\t                    </div>\n "+this._getWhereToBuyMapContactActions(dataMarker)+'<div class="purchase-tooltip-footer"></div>\n\t                </div>'},mapHelper.prototype.addWhereToBuyChineseAreaManager=function(dataMarker){return'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                    <div class="contact-info">\n\t                        <p>Area Sales Manager - '+dataMarker.countryName+"</p>\n\t                    </div>\n "+this._getWhereToBuyMapContactActions(dataMarker)+'<div class="purchase-tooltip-footer"></div>\n\t                </div>'},mapHelper.prototype.addContactsChinese=function(dataMarker){return'<div class="purchase-tooltip more-dealer-chinese headquarter" style="display: block;">\n\t                                <div class="contact">\n\t                                    <p class="contact-name">'+dataMarker.title+"</p>\n\t                                    <p>"+dataMarker.address+'</p>\n\t                                    <div class="infos"></div>\n\t                                </div>\n\t                                <input id="dealer-button-'+dataMarker.id+'" class="type-submit btn-mcl dealer-button" type="submit" value="'+window.ve.request.i18n.dealerFormSendButton.value+"\" onclick=\"document.getElementById('contactId').value = '"+dataMarker.id+'\';"/>\n\t                                <div class="purchase-tooltip-footer"></div>\n\t                            </div>'},mapHelper.prototype.addWhereToBuyMapVirtualStoreMarker=function(mapId,dataMap,dataMarker,dataClickThrough){var addressToGeocode=dataMarker.address;void 0!==dataMarker.zipCode&&(addressToGeocode=addressToGeocode+","+dataMarker.zipCode),void 0!==dataMarker.city&&(addressToGeocode=addressToGeocode+","+dataMarker.city);var callback=new ve.objects.callback(this,this._addWhereToBuyMapVirtualStoreMarker,[mapId,dataMap,dataMarker,dataClickThrough,addressToGeocode,0]);this.googleGeocoderManager.geocodeAddress(addressToGeocode,callback)},mapHelper.prototype._addWhereToBuyMapVirtualStoreMarker=function(mapId,dataMap,dataMarker,dataClickThrough,addressToGeocode,shotNb,geocodingResults,geocodingStatus){if(geocodingStatus===window.google.maps.GeocoderStatus.OK&&geocodingResults.length>0){var address=geocodingResults[0].formatted_address,markerOptions={icon:window.ve.urlProtocol+window.ve.imageSubDomain+"."+window.ve.veDomainNameAndTld+"/media/ps/images/common/request-form/marker-virtualstore.png",zIndex:20,longitude:geocodingResults[0].geometry.location.lng(),latitude:geocodingResults[0].geometry.location.lat(),callback:new ve.objects.callback(this,this._clickWhereToBuyMapMarker),html:'<div class="purchase-tooltip headquarter" style="display: block;">\n\t                            <div class="contact-info"\n '+this._getOutZoneMessage(dataMarker,"out-zone",window.ve.request.i18n.whereToByOutOfDistributorAreaWarning.value)+"<p>"+window.ve.request.i18n.virtualStoreType.value+'</p>\n\t                                 <p class="contact-name">'+dataMarker.title+"</p>\n\t                                 <p>"+address+"</p>\n\t                             </div>\n "+this._getWhereToBuyMapContactActions(dataMarker,dataClickThrough)+'<div class="purchase-tooltip-footer"></div>\n\t                             <div class="arrow"></div>\n\t                         </div>'};this.googleMapsManager.addMarkerToMap(mapId,$.extend(dataMarker,markerOptions))}else geocodingStatus===window.google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&shotNb<3&&setTimeout(function(){var callback=new ve.objects.callback(this,this._addWhereToBuyMapVirtualStoreMarker,[mapId,dataMap,dataMarker,dataClickThrough,addressToGeocode,shotNb+1]);this.googleGeocoderManager.geocodeAddress(addressToGeocode,callback)}.bind(this),1e3)},window.ve.request.helper.map=mapHelper}(window)}).call(exports,__webpack_require__(4))},92:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.helper=window.ve.request.helper||{};var trackingHelper=function(){};trackingHelper.prototype.getRequestTypeFromRequest=function(requestType,requestButtonLayout){var requestTypeValue=null;switch(requestType){case"DOC":requestTypeValue="Doc";break;case"QUESTION":requestTypeValue="Question";break;case"QUOTE":requestTypeValue="Devis";break;case"WHERE_TO_BUY":requestTypeValue="Ou";break;case"WHERE_TO_BUY_CONTACT_DEALER":requestTypeValue="Tel";break;default:requestTypeValue="Contact"}return"SMALL"===requestButtonLayout&&(requestTypeValue+="Small"),"Request"+requestTypeValue},trackingHelper.prototype.getSourceTypeFromRequest=function(requestSourceType,requestButtonLayout){var sourceTypeValue=null;if("SMALL"===requestButtonLayout&&"PRODUCT"===requestSourceType)sourceTypeValue="TR Produits";else switch(requestSourceType){case"PRODUCT":sourceTypeValue="Produit";break;case"NEWS":sourceTypeValue="Press";break;case"CATALOG":sourceTypeValue="PDF";break;case"EXHIBITION":sourceTypeValue="Exhibition";break;case"PROJECT":sourceTypeValue="Project";break;case"TREND":sourceTypeValue="Trend"}return sourceTypeValue},window.ve.request.helper.tracking=trackingHelper}(window)},93:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var formService=function(dispatcher,ajaxRequest){this.dispatcher=dispatcher,this.ajaxRequest=ajaxRequest};formService.prototype.getForm=function(dataRequest,dataUrl){this._getForm(dataRequest,dataUrl,window.ve.request.events.form.RENDER_FORM)},formService.prototype.getFormWhereToBuyRequest=function(dataRequest,dataUrl){this._getForm(dataRequest,dataUrl,window.ve.request.events.form.RENDER_WHERE_TO_BUY_REQUEST_FORM)},formService.prototype.getFormRelatedProduct=function(dataRequest,dataUrl){this._getForm(dataRequest,dataUrl,window.ve.request.events.form.RENDER_FORM_RELATED_PRODUCT)},formService.prototype._getForm=function(dataRequest,dataUrl,requestEvent){var self=this;this.ajaxRequest.get({data:dataRequest,url:dataUrl,dataType:"html",contentType:"application/x-www-form-urlencoded",success:function(viewHtml){self.dispatcher.dispatch(requestEvent,{response:viewHtml,dataRequest:dataRequest})},error:function(){self.dispatcher.dispatch(window.ve.request.events.form.TECHNICAL_ERROR,{dataRequest:dataRequest})}})},formService.prototype.postForm=function(dataRequest,dataUrl){var self=this;self.ajaxRequest.post({data:dataRequest,url:dataUrl,dataType:"html",contentType:"application/x-www-form-urlencoded",success:function(viewHtml){self.dispatcher.dispatch(window.ve.request.events.form.UPDATE_FORM,{response:viewHtml})},error:function(){$("#requestFormButton, #registerVisitorFormButton").removeAttr("disabled"),self.dispatcher.dispatch(window.ve.request.events.form.TECHNICAL_ERROR,{dataRequest:dataRequest})}})},formService.prototype.postFormWhereToBuyContactDetails=function(dataRequest,dataUrl,actionType){var self=this;self.ajaxRequest.post({data:dataRequest,url:dataUrl,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(data){self.dispatcher.dispatch(window.ve.request.events.form.UPDATE_FORM_WHERE_TO_BUY_CONTACT_DETAILS,{contactDetails:data.content,actionType:actionType})},error:function(){self.dispatcher.dispatch(window.ve.request.events.form.TECHNICAL_ERROR,{dataRequest:dataRequest})}})},formService.prototype.postFormWhereToBuyDealer=function(dataRequest,dataUrl){var self=this;self.ajaxRequest.post({data:dataRequest,url:dataUrl,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(data){},error:function(){self.dispatcher.dispatch(window.ve.request.events.form.TECHNICAL_ERROR,{dataRequest:dataRequest})}})},window.ve.request.service.form=formService}(window)}).call(exports,__webpack_require__(4))},94:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var buttonsService=function(dispatcher,requestConfig,ajaxRequest){this.dispatcher=dispatcher,this.requestConfig=requestConfig,this.ajaxRequest=ajaxRequest};buttonsService.prototype.getButtons=function(dataRequest){if(void 0===dataRequest||null===dataRequest||!1===dataRequest||0===dataRequest.length)throw new TypeError("Erreur buttons request : params are mandatory");var self=this;this.ajaxRequest.get({data:dataRequest,url:this.requestConfig.urlRequestButtons,dataType:"html",contentType:"application/x-www-form-urlencoded",success:function(viewHtml){self.dispatcher.dispatch(window.ve.request.events.buttons.RENDER_BUTTONS,{response:viewHtml,dataRequest:dataRequest})},error:function(jqXhr){self.dispatcher.dispatch(window.ve.request.events.buttons.TECHNICAL_ERROR,{errorDataRequest:dataRequest,statusError:jqXhr.status})}})},window.ve.request.service.buttons=buttonsService}(window)},95:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var trackingService=function(trackingHelper){this.trackingHelper=trackingHelper};trackingService.prototype.trackEvent=function(dataRequestSourceType,dataRequestType,dataRequestButtonLayout,trackEventAction,trackEventValue){var sourceType=this.trackingHelper.getSourceTypeFromRequest(dataRequestSourceType,dataRequestButtonLayout),requestType=this.trackingHelper.getRequestTypeFromRequest(dataRequestType,dataRequestButtonLayout);void 0!==trackEventValue?window.trackEvent(sourceType,requestType,trackEventAction,trackEventValue):window.trackEvent(sourceType,requestType,trackEventAction)},trackingService.prototype.trackEventEcommerce=function(dataRequestSourceType,dataRequestSourceId,dataRequestType,dataRequestCompanyId,dataRequestCompanyCommercialStatus,dataRequestButtonLayout){if("undefined"!=typeof ga){var sourceType=this.trackingHelper.getSourceTypeFromRequest(dataRequestSourceType,dataRequestButtonLayout),requestType=this.trackingHelper.getRequestTypeFromRequest(dataRequestType,dataRequestButtonLayout);ga("require","ecommerce"),ga("ecommerce:addItem",{id:dataRequestCompanyId,name:dataRequestCompanyCommercialStatus,sku:requestType,category:sourceType+" - "+dataRequestSourceId}),ga("ecommerce:send")}},
window.ve.request.service.tracking=trackingService}(window)},96:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var i18nServiceSettings={localStorageLang:window.ve.language||"fr",localStoragePrefix:"velng_",localStorageExpiration:864e5,contentType:"",url:""},i18nLocalStorage={load:function(){var name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang,store=JSON.parse(localStorage.getItem(name));return store?(new Date).getTime()<store.timestamp&&store.catalog?store.catalog:(localStorage.removeItem(name),{}):{}},store:function(catalog){var store=this.load(),name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang;$.extend(!0,store,catalog);var entry={catalog:store,timestamp:(new Date).getTime()+i18nServiceSettings.localStorageExpiration};return localStorage.setItem(name,JSON.stringify(entry)),store},dispose:function(){var name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang;localStorage.removeItem(name)}},i18nService=function(ajaxRequest){this.ajaxRequest=ajaxRequest};i18nService.prototype.init=function(settings){$.extend(!0,i18nServiceSettings,settings),this.url=i18nServiceSettings.url,this.contentType=i18nServiceSettings.contentType},i18nService.prototype.dispose=function(){window.localStorage&&i18nLocalStorage.dispose()},i18nService.prototype.translate=function(keys,success){if(window.localStorage){var store=i18nLocalStorage.load(),missings={},oKeys=JSON.parse(keys.i18n);for(var i in oKeys)store[i]&&""!==store[i].value||(missings[i]=oKeys[i]);var len=0;for(var o in missings)len++;len>0?this.ajaxRequest.post({url:this.url,contentType:this.contentType,data:{i18n:JSON.stringify(missings)},success:function(data){200===data.responseStatus&&(i18nLocalStorage.store(data.content),success(i18nLocalStorage.store()))}}):success(store)}else this.ajaxRequest.post({url:this.url,contentType:this.contentType,data:keys,success:function(data){200===data.responseStatus&&success(data.content)}})},window.ve.request.service.i18n=i18nService}(window)}).call(exports,__webpack_require__(4))},97:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.form={GET_FORM:"get_form",POST_FORM:"post_form",RENDER_FORM:"render_form",UPDATE_FORM:"update_form",POST_FORM_WHERE_TO_BUY_CONTACT_DETAILS:"post_form_where_to_buy_contact_details",UPDATE_FORM_WHERE_TO_BUY_CONTACT_DETAILS:"update_form_where_to_buy_contact_details",GET_FORM_WHERE_TO_BUY_REQUEST:"get_form_where_to_buy_request",RENDER_WHERE_TO_BUY_REQUEST_FORM:"render_where_to_buy_request_form",POST_FORM_WHERE_TO_BUY_DEALER:"post_form_where_to_buy_dealer",GET_FORM_RELATED_PRODUCT:"get_form_related_product",RENDER_FORM_RELATED_PRODUCT:"render_form_related_product",TECHNICAL_ERROR:"technical_error_form"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.form=function(formService){this.execute=function(event){switch(event.type){case window.ve.request.events.form.GET_FORM:formService.getForm(event.params.dataRequest,event.params.dataUrl);break;case window.ve.request.events.form.RENDER_FORM:$(window).trigger("render_form_abtests",[event]);break;case window.ve.request.events.form.POST_FORM:formService.postForm(event.params.dataRequest,event.params.dataUrl);break;case window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_CONTACT_DETAILS:formService.postFormWhereToBuyContactDetails(event.params.dataRequest,event.params.dataUrl,event.params.actionType);break;case window.ve.request.events.form.GET_FORM_WHERE_TO_BUY_REQUEST:formService.getFormWhereToBuyRequest(event.params.dataRequest,event.params.dataUrl);break;case window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_DEALER:formService.postFormWhereToBuyDealer(event.params.dataRequest,event.params.dataUrl);break;case window.ve.request.events.form.GET_FORM_RELATED_PRODUCT:formService.getFormRelatedProduct(event.params.dataRequest,event.params.dataUrl)}}}}(window)}).call(exports,__webpack_require__(4))},98:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.buttons={GET_BUTTONS:"get_buttons",RENDER_BUTTONS:"render_buttons",TECHNICAL_ERROR:"technical_error_buttons"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.buttons=function(buttonsService){this.execute=function(event){switch(event.type){case window.ve.request.events.buttons.GET_BUTTONS:buttonsService.getButtons(event.params.dataRequest);break;case window.ve.request.events.buttons.RENDER_BUTTONS:$(window).trigger("render_buttons_abtests",[event])}}}}(window)}).call(exports,__webpack_require__(4))},99:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.tracking={TRACK_EVENT:"track_event",TRACK_EVENT_ECOMMERCE:"track_event_ecommerce"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.tracking=function(trackingService){this.execute=function(event){switch(event.type){case window.ve.request.events.tracking.TRACK_EVENT:trackingService.trackEvent(event.params.sourceType,event.params.requestType,event.params.buttonLayout,event.params.trackEventAction,event.params.trackEventValue);break;case window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE:trackingService.trackEventEcommerce(event.params.sourceType,event.params.sourceId,event.params.requestType,event.params.companyId,event.params.companyCommercialStatus,event.params.buttonLayout)}}}}(window)},100:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.template=window.ve.request.template||{};var showWarningAddressMail=function(message){var $p=$("#email\\.warnings");null===message?$p.remove():0===$p.size()?$("#email").after($('<p id="email.warnings" class="requestWarnings">'+message+"</p>")):$p.text(message)};window.onScriptLoad=function(){var htmlEl=document.querySelector(".g-recaptcha");if(htmlEl){var captchaOptions={sitekey:window.ve.request.config.captchaSitekey,size:"invisible",callback:window.ve.request.template.form.captchaCallback};window.ve.request.recaptchaId=window.grecaptcha.render(htmlEl,captchaOptions,!0)}},window.ve.request.template.form=function(scope,dispatcher,popin,googlePlaceAutoCompleteManager,googleMapsManager,requestConfig,mapHelper,warningInputAddressMail){window.ve.request.template.form.captchaCallback=function(){$("#requestFormButton, #registerVisitorFormButton").attr("disabled","disabled"),dispatcher.dispatch(window.ve.request.events.form.POST_FORM,{dataRequest:$("#registerVisitorForm").serializeArray(),dataUrl:$("#registerVisitorForm").attr("action")})},window.ve.request.template.form.error='\n\t                                            <div id="request">\n\t                                                <div class="requestErrors">\n\t                                                    <h2>{{translation.technicalErrorMessage.value}}</h2>\n\t                                                </div>\n\t                                                <div id="request-footer"></div>\n\t                                            </div>',dispatcher.addEventListener(window.ve.request.events.form.RENDER_FORM,function(event){if(window.ve.request.template.sema=!1,void 0===event.params.dataRequest)throw TypeError("Le parametre dataRequest est manquant");if("WHERE_TO_BUY"===event.params.dataRequest.requestType&&"47"!==window.getCookie("c")&&window.ve.request.template.form.popinsShareBinding.loadRecaptchaScript(),$("#map-layer").hide(),popin.create({popinId:"requestFormPopin",text:event.params.response,css:"popin tooltipRequestForm request-no-background",title:"",binding:window.ve.request.template.form.popinsShareBinding,requestCloseInfos:null}),$("html").css("overflow","hidden"),$("#email").length&&warningInputAddressMail($("#email")[0],showWarningAddressMail),!0===window.isMobileDevice()&&""!==window.getResponsiveBreakpoint()&&parseInt(window.getResponsiveBreakpoint())<=480&&!0===requestConfig.dealersSite){var requestForm=$("#requestFormPopin");void 0!==requestForm&&$.scrollTo(requestForm,800)}}),dispatcher.addEventListener(window.ve.request.events.form.UPDATE_FORM,function(event){if($("#map-layer").hide(),"47"!==window.getCookie("c")&&window.ve.request.template.form.popinsShareBinding.loadRecaptchaScript(),popin.update({text:event.params.response,requestCloseInfos:null}),$("#email").length&&warningInputAddressMail($("#email")[0],showWarningAddressMail),!0===window.isMobileDevice()&&""!==window.getResponsiveBreakpoint()&&parseInt(window.getResponsiveBreakpoint())<=480&&!0===requestConfig.dealersSite){var firstInputError=$("p.requestErrors").prev()[0];if(void 0!==firstInputError)$.scrollTo(firstInputError,800);else{var tooltipRequestForm=$(".tooltipRequestForm");void 0!==tooltipRequestForm&&$.scrollTo(tooltipRequestForm,800)}}}),dispatcher.addEventListener(window.ve.request.events.form.RENDER_WHERE_TO_BUY_REQUEST_FORM,function(event){popin.create({popinId:"requestFormWhereToBuyPopin",text:event.params.response,css:"popin tooltipRequestForm request-no-background",title:"",binding:window.ve.request.template.form.popinsShareBinding,recording:{active:!0},requestCloseInfos:null})}),dispatcher.addEventListener(window.ve.request.events.form.UPDATE_FORM_WHERE_TO_BUY_CONTACT_DETAILS,function(event){var detail,hrefPrefix;"phone"===event.params.actionType?(detail=event.params.contactDetails.phone,1,hrefPrefix="tel"):"mail"===event.params.actionType&&(detail=event.params.contactDetails.mail,2,hrefPrefix="mailto");var id="actions_"+$("#contactType").val()+"_"+$("#contactId").val(),ahref=$("<a/>");ahref.attr("href",hrefPrefix+":"+detail),ahref.text(detail);var details=$("#"+id).next(".contact-detail");details.attr("data-type",event.params.actionType),details.attr("data-contact",JSON.stringify(event.params.contactDetails)),details.append(ahref),ahref.toggle(350)}),dispatcher.addEventListener(window.ve.request.events.form.RENDER_FORM_RELATED_PRODUCT,function(event){popin.update({text:event.params.response,requestCloseInfos:null}),popin.reposition()}),dispatcher.addEventListener(window.ve.request.events.form.TECHNICAL_ERROR,function(event){window.ve.request.template.sema=!1;var tooltip=$(".qtip");if($("#where-to-buy-map").length>0?popin.create({popinId:"requestFormPopin",text:window.ve.request.template.form.error,translation:window.ve.request.i18n,css:"popin tooltipRequestForm request-no-background",title:"",recording:{active:!0},requestCloseInfos:null}):tooltip.length>0?popin.update({text:window.ve.request.template.form.error,translation:window.ve.request.i18n,requestCloseInfos:null}):popin.create({popinId:"requestFormPopin",text:window.ve.request.template.form.error,translation:window.ve.request.i18n,css:"popin tooltipRequestForm request-no-background",title:"",requestCloseInfos:null}),void 0===event.params.dataRequest)throw TypeError("Le parametre dataRequest est manquant");var dataRequest=event.params.dataRequest;dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequest.sourceType,requestType:dataRequest.requestType,trackEventAction:"DisplayErrorForm",buttonLayout:dataRequest.layout})}),window.ve.request.template.form.popinsShareBinding={loadRecaptchaScript:function(event){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.defer=!0,po.src=window.ve.request.config.linkRecaptchaLib+window.ve.language;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)},submitRequestForm:function(event){event.preventDefault(),window.ve.request.template.form.popinsShareBinding.submitRequestFormTracking();var target=event.currentTarget||event.srcElement,requestForm=$(target);return $("#requestFormButton, #registerVisitorFormButton").attr("disabled","disabled"),dispatcher.dispatch(window.ve.request.events.form.POST_FORM,{dataRequest:requestForm.serializeArray(),dataUrl:requestForm.attr("action")}),!1},submitRequestFormControl:function(event){event.preventDefault(),window.grecaptcha.execute(window.ve.request.recaptchaId)},submitRequestFormTracking:function(){var trackSubmitForm=!1,$form=null,trackEventAction=null;if(0!==$("form#requestForm").length?(trackSubmitForm=!0,$form=$("form#requestForm"),trackEventAction="Send Request Form"):0!==$("form#registerVisitorForm").length&&(trackSubmitForm=!0,$form=$("form#registerVisitorForm"),trackEventAction="Send Identification Form"),!0===trackSubmitForm){var displayCounterValue=parseInt($form.find("input#displayCounter").val()),sourceType=$form.find("input#sourceType").val(),requestType=$form.find("input#requestType").val(),buttonLayout=$form.find("input#layout").val();0===displayCounterValue?dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:trackEventAction,buttonLayout:buttonLayout}):dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:trackEventAction,trackEventValue:displayCounterValue,buttonLayout:buttonLayout})}},initPlaceHolder:function(){$("#requestForm, #registerVisitorForm").find(":input:not(:radio)").placeholder()},initRequestFormTracking:function(event){var displayCounterValue=parseInt($("#requestForm input#displayCounter").val()),sourceType=$("#requestForm input#sourceType").val(),requestType=$("#requestForm input#requestType").val(),buttonLayout=$("#requestForm input#layout").val();0===displayCounterValue?dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Display Request Form",buttonLayout:buttonLayout}):dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Redisplay Request Form",trackEventValue:displayCounterValue,buttonLayout:buttonLayout}),popin._options.requestCloseInfos={sourceType:sourceType,requestType:requestType,trackEventAction:"Close Request Form",trackEventValue:displayCounterValue,buttonLayout:buttonLayout}},initRequestForm:function(event){window.ve.request.template.form.popinsShareBinding.initPlaceHolder(),window.ve.request.template.form.popinsShareBinding.initRequestFormTracking()},initAutoCompleteCity:function(isPhonePrefixRequired){var googlePlaceAutoCompleteManagersFieldsMapping={form:"registerVisitorForm",searchTextField:"searchCity",city:"city",country:"country",administrativeArea:"administrativeArea",lat:"latitude",lon:"longitude",errorCity:"city\\.errors"};void 0!==googlePlaceAutoCompleteManager&&(googlePlaceAutoCompleteManager.setIsPrefixRequired(isPhonePrefixRequired),isPhonePrefixRequired&&(googlePlaceAutoCompleteManagersFieldsMapping.prefix="phonePrefix"),googlePlaceAutoCompleteManager.initFields(googlePlaceAutoCompleteManagersFieldsMapping))},initVisitorFormTracking:function(event){var displayVisitorCounterValue=parseInt($("#registerVisitorForm input#displayVisitorCounter").val()),sourceType=$("#registerVisitorForm input#sourceType").val(),requestType=$("#registerVisitorForm input#requestType").val(),buttonLayout=$("#registerVisitorForm input#layout").val();0===displayVisitorCounterValue?dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Display Identification Form",buttonLayout:buttonLayout}):dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Redisplay Identification Form",trackEventValue:displayVisitorCounterValue,buttonLayout:buttonLayout}),popin._options.requestCloseInfos={sourceType:sourceType,requestType:requestType,trackEventAction:"Close Identification Form",trackEventValue:displayVisitorCounterValue,buttonLayout:buttonLayout}},initVisitorForm:function(event){window.ve.request.template.form.popinsShareBinding.initAutoCompleteCity(!0),window.ve.request.template.form.popinsShareBinding.initPlaceHolder(),window.ve.request.template.form.popinsShareBinding.initVisitorFormTracking()},initVisitorForChinaForm:function(event){window.ve.request.template.form.popinsShareBinding.initPlaceHolder(),window.ve.request.template.form.popinsShareBinding.initVisitorFormTracking()},updatePhonePrefix:function(event){var element=event.target||event.srcElement,tab=JSON.parse($(element).data("countrylist").replace(/&quot;/g,'"'));$.each(tab.countries,function(key,value){if(value.id===parseInt(element.value))return void $("#phonePrefix").val("+"+value.indicatifTel)})},initWhereToBuyVisitorForm:function(event){$("#qtip-overlay").children().first().html('<div id="map-layer"></div>'),window.ve.request.template.form.popinsShareBinding.initVisitorForm(event)},initWhereToBuyVisitorForChinaForm:function(event){$("#qtip-overlay").children().first().html('<div id="map-layer"></div>'),window.ve.request.template.form.popinsShareBinding.initVisitorForChinaForm(event)},initVisitorPartialFormTracking:function(event){if(0===parseInt($("#registerVisitorForm input#displayVisitorCounter").val())){var sourceType=$("#registerVisitorForm input#sourceType").val(),requestType=$("#registerVisitorForm input#requestType").val(),buttonLayout=$("#registerVisitorForm input#layout").val();0!==$("#registerVisitorForm input#phoneNumber").length&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Display MAJ Tel",buttonLayout:buttonLayout}),0!==$("#registerVisitorForm input#city").length&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Display MAJ VerifCity",buttonLayout:buttonLayout}),0===$("#registerVisitorForm input#businessSectorId").length&&0===$("#registerVisitorForm input#businessCompanyTypeId").length&&0===$("#registerVisitorForm input#employeePositionId").length||dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:"Display MAJ Other",buttonLayout:buttonLayout}),popin._options.requestCloseInfos={sourceType:sourceType,requestType:requestType,trackEventAction:"Close Partial Identification Form",buttonLayout:buttonLayout}}},initVisitorPartialForm:function(event,isPhonePrefixRequired,isFromChina){void 0!==isFromChina&&isFromChina||window.ve.request.template.form.popinsShareBinding.initAutoCompleteCity(isPhonePrefixRequired),window.ve.request.template.form.popinsShareBinding.initPlaceHolder(),window.ve.request.template.form.popinsShareBinding.initVisitorPartialFormTracking(event)},initSimpleVisitorPartialForm:function(event){window.ve.request.template.form.popinsShareBinding.initPlaceHolder(),window.ve.request.template.form.popinsShareBinding.initVisitorPartialFormTracking(event)},changeVisitorType:function(event){var target=event.currentTarget||event.srcElement,visitorType=$(target),visitorTypeValue=visitorType.val(),$companyElement=$("#company"),companyPlaceholder=$companyElement.attr("placeholder");"PROFESSIONAL"===visitorTypeValue?($(".professional-field").removeClass("transparent-pro-fields"),$(".professional-field").find("input,select").removeAttr("disabled")):($(".professional-field").addClass("transparent-pro-fields"),$(".professional-field").find("input,select").attr("disabled","disabled"));var cleanLabel=window.ve.request.template.form.popinsShareBinding.cleanProfessionalLabel(visitorTypeValue,companyPlaceholder);$companyElement.attr("placeholder",cleanLabel),$(".professional-field label").each(function(){cleanLabel=window.ve.request.template.form.popinsShareBinding.cleanProfessionalLabel(visitorTypeValue,$(this).html()),$(this).html(cleanLabel)})},cleanProfessionalLabel:function(visitorType,professionalLabel){if(void 0!==professionalLabel){var asterixPos=professionalLabel.indexOf("*");"PROFESSIONAL"===visitorType?-1===asterixPos&&(professionalLabel+=" *"):-1!==asterixPos&&(professionalLabel=professionalLabel.replace(/\*$/g,""),professionalLabel=professionalLabel.replace(/^\s+/g,"").replace(/\s+$/g,""))}return professionalLabel},socialMediaLogin:function(event,trackEventAction){var sourceType=$("#registerVisitorForm input#sourceType").val(),requestType=$("#registerVisitorForm input#requestType").val();dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:sourceType,requestType:requestType,trackEventAction:trackEventAction})},initContactsMap:function(event,trackEcommerce){var dataRequestContactChoice=$("div#request").data("request-contact-choice");popin.timer({active:!0,delay:requestConfig.contactsMapCloseDelay}),trackEcommerce&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE,{sourceType:dataRequestContactChoice.sourceType,sourceId:dataRequestContactChoice.sourceId,requestType:dataRequestContactChoice.requestType,companyId:dataRequestContactChoice.companyId,companyCommercialStatus:dataRequestContactChoice.companyCommercialStatus,buttonLayout:dataRequestContactChoice.layout});var mapId="contact-choice-map",mapDiv=$("#"+mapId),dataMap=mapDiv.data("map");if(void 0!==googleMapsManager){googleMapsManager.createMap($.extend(dataMap,{id:mapId,div:mapDiv[0]})),$("div[data-marker-contact]").each(function(){var dataMarker=$(this).data("marker-contact");mapHelper.addContactsMapMarker(mapId,dataMap,dataMarker)}),googleMapsManager.fitToMarkers(mapId);var firstMarkerId=$("div[data-marker-contact]").first().data("marker-contact").id;googleMapsManager.clickOnMarker(mapId,firstMarkerId),dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:$("#contactRequestForm input#sourceType").val(),requestType:$("#contactRequestForm input#requestType").val(),trackEventAction:"Dealer Select",buttonLayout:$("#contactRequestForm input#layout").val()})}else{$("div[data-marker-contact]").each(function(){var dataMarker=$(this).data("marker-contact");mapDiv.append(mapHelper.addContactsChinese(dataMarker))});var setChineseSize=function(){mapDiv.css("max-height",.89*$(window).height()),mapDiv.css("overflow-y","scroll"),mapDiv.css("min-width",320),mapDiv.parents(".ui-tooltip-content").width(mapDiv.width())};window.onresize=function(event){setChineseSize()},setChineseSize()}},initWhereToBuyMap:function(event){var mapId="where-to-buy-map",mapDiv=$("#"+mapId),setSize=function(){mapDiv.css("width",.95*$(window).width()),mapDiv.css("height",.89*$(window).height()),mapDiv.css("overflow","hidden"),mapDiv.parents(".ui-tooltip-content").width(mapDiv.width())};if(void 0!==googleMapsManager)window.onresize=function(event){setSize(),window.google.maps.event.trigger(googleMapsManager.getMap(mapId),"resize")},setSize();else{$("div[data-marker-contact]").each(function(){var dataMarker=$(this).data("marker-contact");"DEALER"===dataMarker.type?mapDiv.append(mapHelper.addWhereToBuyChinese(dataMarker)):"AREA_MANAGER"===dataMarker.type?mapDiv.append(mapHelper.addWhereToBuyChineseAreaManager(dataMarker)):"MAIN_CONTACT"!==dataMarker.type||void 0===dataMarker.city&&void 0===dataMarker.countryName||mapDiv.append(mapHelper.addWhereToBuyChinese(dataMarker))});var setChineseSize=function(){mapDiv.css("max-height",.89*$(window).height()),mapDiv.css("overflow-y","scroll"),mapDiv.css("min-width",320),mapDiv.parents(".ui-tooltip-content").width(mapDiv.width())};window.onresize=function(event){setChineseSize()},setChineseSize()}$("#requestFormPopin").parents(".popin").addClass("popin-no-background"),$("#closeMe").attr("class","purchase-closer"),popin.reposition(),void 0!==googleMapsManager&&setTimeout(function(){window.ve.request.template.form.popinsShareBinding.showWhereToBuyMap(mapDiv)},10),dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:$("#baseRequestForm input#sourceType").val(),requestType:$("#baseRequestForm input#requestType").val(),trackEventAction:"Show Map",buttonLayout:$("#baseRequestForm input#layout").val()})},showWhereToBuyMap:function(mapDiv){var mapId="where-to-buy-map",dataMap=mapDiv.data("map"),infoBoxOptions={boxStyle:{opacity:1,width:"370px"}},zoomToCountry=!1;googleMapsManager.createMap($.extend(dataMap,{id:mapId,div:mapDiv[0],zoom:2}),infoBoxOptions),$("div[data-marker-contact]").each(function(){var dataMarker=$(this).data("marker-contact"),dataClickThrough=$(this).data("clickthrough");"DEALER"===dataMarker.type?(dataMarker.countryId===dataMap.countryId&&(zoomToCountry=!0),mapHelper.addWhereToBuyMapDealerMarker(mapId,dataMap,dataMarker)):"AREA_MANAGER"===dataMarker.type?mapHelper.addWhereToBuyMapAreaManagerMarker(mapId,dataMap,dataMarker):"MAIN_CONTACT"!==dataMarker.type||void 0===dataMarker.city&&void 0===dataMarker.countryName?"VIRTUAL_STORE"===dataMarker.type&&mapHelper.addWhereToBuyMapVirtualStoreMarker(mapId,dataMap,dataMarker,dataClickThrough):mapHelper.addWhereToBuyMapMainContactMarker(mapId,dataMap,dataMarker,dataClickThrough)}),zoomToCountry&&googleMapsManager.zoom(mapId,5)},submitWhereToBuyForm:function(event){event.preventDefault();var target=event.currentTarget||event.srcElement,requestForm=$(target),dispatchEvent=null,trackedEvent=null,action=requestForm.attr("action"),actionType=requestForm.prop("actionType"),contactType=$("#contactType").val(),contactId=$("#contactId").val();if(action===requestConfig.urlWhereToBuyContactDetails){var id="actions_"+contactType+"_"+contactId,details=$("#"+id).next(".contact-detail"),ahref=details.find("a");if(null!==ahref&&ahref.length>0&&ahref.toggle(350,function(){ahref.remove()}),details.attr("data-type")===actionType)return details.attr("data-type",""),!1;void 0!==details.attr("data-contact")?dispatcher.dispatch(window.ve.request.events.form.UPDATE_FORM_WHERE_TO_BUY_CONTACT_DETAILS,{contactDetails:JSON.parse(details.attr("data-contact")),actionType:actionType}):dispatchEvent=window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_CONTACT_DETAILS,"phone"===actionType?trackedEvent="Show Dealer Tel":"mail"===actionType&&(trackedEvent="Show Dealer Mail")}else action===requestConfig.urlWhereToBuyRequestForm?(dispatchEvent=window.ve.request.events.form.GET_FORM_WHERE_TO_BUY_REQUEST,trackedEvent="Show Dealer Form"):(window.open(requestForm.find("input[data-contact-website]").data("contact-website")),trackedEvent="Go to Dealer Website","DEALER"===contactType&&(dispatchEvent=window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_DEALER,action=requestConfig.urlWhereToBuyDealer));return null!==dispatchEvent&&dispatcher.dispatch(dispatchEvent,{dataRequest:requestForm.serializeArray(),dataUrl:action,actionType:actionType}),null!==trackedEvent&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:$("#baseRequestForm input#sourceType").val(),requestType:$("#baseRequestForm input#requestType").val(),trackEventAction:trackedEvent,buttonLayout:$("#baseRequestForm input#layout").val()}),!1},initRequestConfirmation:function(event,trackEcommerce){var dataRequestConfirmation=$("div#request").data("request-confirmation"),trackedEvent=null;trackedEvent=dataRequestConfirmation.requestContactAuto?"Direct Submit":"2Steps Submit",dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequestConfirmation.sourceType,requestType:dataRequestConfirmation.requestType,trackEventAction:trackedEvent,buttonLayout:dataRequestConfirmation.layout}),trackEcommerce&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE,{sourceType:dataRequestConfirmation.sourceType,sourceId:dataRequestConfirmation.sourceId,requestType:dataRequestConfirmation.requestType,companyId:dataRequestConfirmation.companyId,companyCommercialStatus:dataRequestConfirmation.companyCommercialStatus,buttonLayout:dataRequestConfirmation.layout});var $mySpaceForm=$("#request-content-myspace-form");$mySpaceForm.length>0&&window.MySpace.api.bindRequestSigninFormEvents($mySpaceForm);var $mySpaceRequestButton=$(".myspace-request");$mySpaceRequestButton.length>0&&window.MySpace.api.bindRequestButtonEvents($mySpaceRequestButton);var _crop=function($images){$images.length&&$images.each(function(){var tmpImage=new Image;tmpImage.src=$(this).attr("src"),$(tmpImage).data("original",this),$(tmpImage).load(function(){var imageWidth=this.width,imageHeight=this.height,originalImage=$($(this).data("original"));imageWidth>imageHeight?originalImage.addClass("crop-width"):originalImage.addClass("crop-height")})})},_renderRelatedProducts=function(){var $relatedProducts=$("#request-related-products"),$insetImg=$relatedProducts.find(".inset-img"),$img=$insetImg.find("img");_crop($img),$insetImg.height(Math.min($insetImg.first().width(),document.documentElement.clientHeight/3));var $firstCell=$relatedProducts.find(".request-product-cell:first");$firstCell.height(),parseInt($firstCell.css("margin-bottom"));popin.reposition()};setTimeout(function(){_renderRelatedProducts()},10),$(window).resize(function(){_renderRelatedProducts()})},getRelatedProductRequestForm:function(event){event.preventDefault();var target=event.currentTarget||event.srcElement,requestButton=$(target),dataRequest=requestButton.data("request");return $("#request-related-products .request-button").attr("disabled","disabled"),dispatcher.dispatch(window.ve.request.events.form.GET_FORM_RELATED_PRODUCT,{dataRequest:dataRequest,dataUrl:requestButton.data("url")}),dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequest.sourceType,requestType:dataRequest.requestType,trackEventAction:"ClickBoutonRequest",buttonLayout:dataRequest.layout}),!1},closeMe:function(event){event.preventDefault(),null!==popin._options.requestCloseInfos&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,popin._options.requestCloseInfos),$("html").css("overflow","auto")}}}}(window)}).call(exports,__webpack_require__(4))},101:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.template=window.ve.request.template||{},window.ve.request.template.buttons=function(scope,template,tpl,dispatcher){window.ve.request.template.sema=!1;var templateElement=template.element;dispatcher.addEventListener(window.ve.request.events.buttons.RENDER_BUTTONS,function(event){template.scope.requestButtons=event.params.response,template.render();var $buttonsScope=tpl(templateElement);$.extend($buttonsScope.scope,template.scope),$buttonsScope.render()}),dispatcher.addEventListener(window.ve.request.events.buttons.TECHNICAL_ERROR,function(event){throw template.scope.requestButtons="",template.render(),new Error("Erreur buttons request["+event.params.statusError+"]: "+JSON.stringify(event.params.errorDataRequest))}),scope.getRequestForm=function(event){if(event.preventDefault(),window.ve.request.template.sema)return!1;window.ve.request.template.sema=!0;var target=event.currentTarget||event.srcElement,requestButton=$(target),dataRequest=requestButton.data("request");dispatcher.dispatch(window.ve.request.events.form.GET_FORM,{dataRequest:dataRequest,dataUrl:requestButton.data("url")}),dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequest.sourceType,requestType:dataRequest.requestType,trackEventAction:"ClickBouton",buttonLayout:dataRequest.layout})}}}(window)}).call(exports,__webpack_require__(4))},102:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.config={dealersSite:!1,contactsMapCloseDelay:6e5,engineTemplateHtml:"soma.template.create",urlTranslation:"/ajax/i18n/translate.json",urlRequestButtons:"/ajax/request/buttons.html",
urlCountryPhonePrefix:"/ajax/country/phone-prefix.json",urlWhereToBuyContactDetails:"/ajax/request/where-to-buy/contact-details.json",urlWhereToBuyDealer:"/ajax/request/where-to-buy/dealer.json",urlWhereToBuyRequestForm:"/ajax/request/form.html",i18n:{technicalErrorMessage:{key:"global_error_technical",value:""},dealerFormSendButton:{key:"Fo_Request_DealerForm_Send",value:""},dealerFormOutOfDistributorAreaWarning:{key:"Fo_Request_DealerForm_outOfArea",value:""},dealerType:{key:"Fo_Request_WhereToBuy_Dealer",value:""},areaManagerType:{key:"Fo_Request_WhereToBuy_AreaManager",value:""},mainContactType:{key:"Fo_Request_WhereToBuy_MainContact",value:""},virtualStoreType:{key:"Fo_Request_WhereToBuy_VirtualStore",value:""},tooltipPhone:{key:"foj_request_button_where_to_buy_tooltip_phone",value:""},tooltipRequest:{key:"foj_request_button_where_to_buy_tooltip_request",value:""},tooltipSite:{key:"foj_request_button_where_to_buy_tooltip_site",value:""},makeRequestButton:{key:"Fo_Request_MakeRequestButton",value:""},whereToRequestButton:{key:"foj_request_button_where_to_buy",value:""},whereToByOutOfDistributorAreaWarning:{key:"foj_request_where_to_buy_map_outOfArea",value:""},warningCharactersEmail:{key:"fo_global_warning_characters_email",value:""}},captchaSitekey:"6LcD3psUAAAAAK-dDS-a5ildpi1NR4c-l93Nlm9m",linkRecaptchaLib:"https://www.google.com/recaptcha/api.js?onload=onScriptLoad&render=explicit&hl="}}(window)},103:function(module,exports,__webpack_require__){(function(soma,$){var AjaxRequest=__webpack_require__(7),PopinQtip=__webpack_require__(14),EmailValidator=__webpack_require__(104),GoogleMapsApiLoader=__webpack_require__(70),GooglePlaceAutoCompleteManager=__webpack_require__(72),GoogleMapsManager=__webpack_require__(71),GoogleGeocoderManager=__webpack_require__(73);window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.i18n=window.ve.request.config.i18n;var RequestApplication=soma.Application.extend({constructor:function(element,dataParams,dataUrl){if(this.element=element,this.params=dataParams,this.url=dataUrl,void 0===this.params||null===this.params||!1===this.params)throw new Error("Params are mandatory");soma.Application.call(this)},init:function(){this.injector.mapValue("requestConfig",window.ve.request.config),this.injector.mapValue("tpl",soma.template.create);var ajaxRequest=this.createPlugin(AjaxRequest),popin=this.createPlugin(PopinQtip,window.ve.request.config.engineTemplateHtml),currentLang=ve.utils.getGoogleLangCode();if("47"!==window.getCookie("c")){var googleMapsApiLoader=this.createPlugin(GoogleMapsApiLoader,currentLang),googlePlaceAutoCompleteManager=this.createPlugin(GooglePlaceAutoCompleteManager,currentLang,!1,window.ve.request.config.urlCountryPhonePrefix,googleMapsApiLoader),googleMapsManager=this.createPlugin(GoogleMapsManager,googleMapsApiLoader),googleGeocoderManager=this.createPlugin(GoogleGeocoderManager,googleMapsApiLoader);this.injector.mapValue("googleMapsApiLoader",googleMapsApiLoader),this.injector.mapValue("googlePlaceAutoCompleteManager",googlePlaceAutoCompleteManager),this.injector.mapValue("googleMapsManager",googleMapsManager),this.injector.mapValue("googleGeocoderManager",googleGeocoderManager)}this.injector.mapValue("ajaxRequest",ajaxRequest),this.injector.mapValue("popin",popin),this.injector.mapValue("warningInputAddressMail",EmailValidator.warningInputAddressMail),this.injector.mapClass("buttonsService",window.ve.request.service.buttons,!0),this.injector.mapClass("formService",window.ve.request.service.form,!0),this.injector.mapClass("trackingService",window.ve.request.service.tracking,!0),this.injector.mapClass("i18nService",window.ve.request.service.i18n,!0),this.injector.mapClass("mapHelper",window.ve.request.helper.map,!0),this.injector.mapClass("trackingHelper",window.ve.request.helper.tracking,!0);var translationDatas,translationContentType,translationUrl;if(!1===window.ve.request.config.dealersSite){translationDatas={i18n:JSON.stringify(window.ve.request.i18n)},translationContentType="application/x-www-form-urlencoded",translationUrl=window.ve.request.config.urlTranslation;var i18nService=this.injector.getValue("i18nService");i18nService.init({url:translationUrl,contentType:translationContentType}),i18nService.translate(translationDatas,function(data){window.ve.request.i18n=data})}else{translationUrl=$("#init").attr("data-url"),translationDatas=JSON.stringify(window.ve.request.i18n),translationContentType="application/json",ajaxRequest.post({url:translationUrl,contentType:translationContentType,data:translationDatas,success:function(datas){!1===window.ve.request.config.dealersSite?200===datas.responseStatus&&(window.ve.request.i18n=datas.content):(window.ve.request.i18n={},$.each(datas,function(index){window.ve.request.i18n[datas[index].jsKey]=datas[index].i18n||""}))}})}this.commands.add(window.ve.request.events.buttons.GET_BUTTONS,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.buttons.RENDER_BUTTONS,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.buttons.TECHNICAL_ERROR,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.form.GET_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.POST_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.RENDER_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.UPDATE_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_CONTACT_DETAILS,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.UPDATE_FORM_WHERE_TO_BUY_CONTACT_DETAILS,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.GET_FORM_WHERE_TO_BUY_REQUEST,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.RENDER_WHERE_TO_BUY_REQUEST_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.POST_FORM_WHERE_TO_BUY_DEALER,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.GET_FORM_RELATED_PRODUCT,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.RENDER_FORM_RELATED_PRODUCT,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.TECHNICAL_ERROR,window.ve.request.controller.form),this.commands.add(window.ve.request.events.tracking.TRACK_EVENT,window.ve.request.controller.tracking),this.commands.add(window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE,window.ve.request.controller.tracking),this.createTemplate(window.ve.request.template.form,this.element.parentNode),void 0===this.url&&this.createTemplate(window.ve.request.template.buttons,this.element)},start:function(){void 0===this.url?this.dispatcher.dispatch(window.ve.request.events.buttons.GET_BUTTONS,{dataRequest:this.params}):(this.dispatcher.dispatch(window.ve.request.events.form.GET_FORM,{dataRequest:this.params,dataUrl:this.url}),this.dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:this.params.sourceType,requestType:this.params.requestType,trackEventAction:"ClickBouton",buttonLayout:this.params.layout}))}});window.ve.request.application=RequestApplication}(window)}).call(exports,__webpack_require__(1),__webpack_require__(4))},104:function(module,exports,__webpack_require__){(function(jQuery){"use strict";var URL_AJAX=ve.utils.localize()+"/ajax/",I18N={};jQuery.ajax({url:URL_AJAX+"i18n/translate.json",success:function(datas){if(200===datas.responseStatus)for(var key in datas.content)if(datas.content.hasOwnProperty(key)){var i18nLabel=datas.content[key];I18N[i18nLabel.key]=i18nLabel.value}},data:{i18n:JSON.stringify({1:{key:"global_warning_list_characters",value:""},2:{key:"fo_global_warning_characters_email",value:""},3:{key:"fo_global_warning_dns_mx_email",value:""},4:{key:"fo_global_warning_already_email",value:""}})},type:"post"});var debounce=function(func,wait){var timeout;return function(){clearTimeout(timeout),timeout=setTimeout(func,wait)}},warningInputAddressMail=function(input,callback){input.addEventListener("input",debounce(function(){warningAddressMail(input.value,callback)},500))},warningAddressMail=function(value,callback){jQuery.get(URL_AJAX+"validator/address/?value="+encodeURIComponent(value),function(notice){if("DNS_MX"===notice)return void callback(I18N.fo_global_warning_dns_mx_email.replace("{0}",value.substring(value.indexOf("@")+1)));if("ALREADY"===notice)return void callback(I18N.fo_global_warning_already_email);for(var i=0;i<value.length;++i)if(-1!==I18N.global_warning_list_characters.indexOf(value[i]))return void callback(I18N.fo_global_warning_characters_email.replace("{0}",value[i]));callback(null)})};module.exports={warningInputAddressMail:warningInputAddressMail,warningAddressMail:warningAddressMail}}).call(exports,__webpack_require__(4))},105:function(module,exports,__webpack_require__){(function(jQuery){!function(d){function t(y){return!y||void 0!==y.allowPageScroll||void 0===y.swipe&&void 0===y.swipeStatus||(y.allowPageScroll=k),y||(y={}),y=d.extend({},d.fn.swipe.defaults,y),this.each(function(){var A=d(this),z=A.data(w);z||(z=new p(this,y),A.data(w,z))})}function p(S,af){function ar(aM){if(!(X()||d(aM.target).closest(af.excludedElements,H).length>0)){var aL,aN=aM.originalEvent,aK=a?aN.touches[0]:aN;if(O=f,a?aE=aN.touches.length:aM.preventDefault(),ac=0,N=null,aH=null,ag=0,aB=0,A=0,ai=1,pinchDistance=0,ah=T(),z(),!a||aE===af.fingers||af.fingers===h||ao()?(aI(0,aK),I=B(),2==aE&&(aI(1,aN.touches[1]),aB=A=Z(ah[0].start,ah[1].start)),(af.swipeStatus||af.pinchStatus)&&(aL=aD(aN,O))):aL=!1,!1===aL)return O=o,aD(aN,O),aL;aj(!0)}}function P(aN){var aQ=aN.originalEvent;if(O!==g&&O!==o&&!ae()){var aM,aL=a?aQ.touches[0]:aQ,aO=V(aL);if(Y=B(),a&&(aE=aQ.touches.length),O=i,2==aE&&(0==aB?(aI(1,aQ.touches[1]),aB=A=Z(ah[0].start,ah[1].start)):(V(aQ.touches[1]),A=Z(ah[0].end,ah[1].end),aH=an(ah[0].end,ah[1].end)),ai=y(aB,A),pinchDistance=Math.abs(aB-A)),aE===af.fingers||af.fingers===h||!a||ao()){if(N=aq(aO.start,aO.end),C(aN,N),ac=G(aO.start,aO.end),ag=L(),(af.swipeStatus||af.pinchStatus)&&(aM=aD(aQ,O)),!af.triggerOnTouchEnd||af.triggerOnTouchLeave){var aK=!0;if(af.triggerOnTouchLeave){var aP=at(this);aK=az(aO.end,aP)}!af.triggerOnTouchEnd&&aK?O=aG(i):af.triggerOnTouchLeave&&!aK&&(O=aG(g)),O!=o&&O!=g||aD(aQ,O)}}else O=o,aD(aQ,O);!1===aM&&(O=o,aD(aQ,O))}}function aa(aM){var aO=aM.originalEvent;if(a&&aO.touches.length>0)return av(),!0;if(ae()&&(aE=aJ),aM.preventDefault(),Y=B(),af.triggerOnTouchEnd||0==af.triggerOnTouchEnd&&O===i){O=g;var aL=aE===af.fingers||af.fingers===h||!a,aK=0!==ah[0].end.x;aL&&aK&&(am()||ay())?aD(aO,O):(O=o,aD(aO,O))}else O===i&&(O=o,aD(aO,O));aj(!1)}function M(){aE=0,Y=0,I=0,aB=0,A=0,ai=1,z(),aj(!1)}function W(aK){var aL=aK.originalEvent;af.triggerOnTouchLeave&&(O=aG(g),aD(aL,O))}function Q(){H.unbind(ax,ar),H.unbind(R,M),H.unbind(U,P),H.unbind(au,aa),D&&H.unbind(D,W),aj(!1)}function aG(aN){var aM=aN,aL=ap(),aK=ad();return aL?!aK||aN!=i||af.triggerOnTouchEnd&&!af.triggerOnTouchLeave?!aK&&aN==g&&af.triggerOnTouchLeave&&(aM=o):aM=g:aM=o,aM}function aD(aM,aK){var aL=void 0;return ab()&&(aL=al(aM,aK,j)),ao()&&!1!==aL&&(aL=al(aM,aK,r)),K()&&!1!==aL&&(aL=al(aM,aK,e)),aK===o&&M(aM),aK===g&&(a?0==aM.touches.length&&M(aM):M(aM)),aL}function al(aN,aK,aM){var aL=void 0;if(aM==j){if(af.swipeStatus&&!1===(aL=af.swipeStatus.call(H,aN,aK,N||null,ac||0,ag||0,aE)))return!1;if(aK==g&&ay()){if(af.swipe&&!1===(aL=af.swipe.call(H,aN,N,ac,ag,aE)))return!1;switch(N){case n:af.swipeLeft&&(aL=af.swipeLeft.call(H,aN,N,ac,ag,aE));break;case m:af.swipeRight&&(aL=af.swipeRight.call(H,aN,N,ac,ag,aE));break;case c:af.swipeUp&&(aL=af.swipeUp.call(H,aN,N,ac,ag,aE));break;case u:af.swipeDown&&(aL=af.swipeDown.call(H,aN,N,ac,ag,aE))}}}if(aM==r){if(af.pinchStatus&&!1===(aL=af.pinchStatus.call(H,aN,aK,aH||null,pinchDistance||0,ag||0,aE,ai)))return!1;if(aK==g&&am())switch(aH){case b:af.pinchIn&&(aL=af.pinchIn.call(H,aN,aH||null,pinchDistance||0,ag||0,aE,ai));break;case v:af.pinchOut&&(aL=af.pinchOut.call(H,aN,aH||null,pinchDistance||0,ag||0,aE,ai))}}return aM==e&&aK===o&&(!af.click||1!==aE&&a||!isNaN(ac)&&0!==ac||(aL=af.click.call(H,aN,aN.target))),aL}function ad(){return null===af.threshold||ac>=af.threshold}function ak(){return null===af.pinchThreshold||pinchDistance>=af.pinchThreshold}function ap(){return!af.maxTimeThreshold||!(ag>=af.maxTimeThreshold)}function C(aK,aL){if(af.allowPageScroll===k||ao())aK.preventDefault();else{var aM=af.allowPageScroll===q;switch(aL){case n:(af.swipeLeft&&aM||!aM&&af.allowPageScroll!=x)&&aK.preventDefault();break;case m:(af.swipeRight&&aM||!aM&&af.allowPageScroll!=x)&&aK.preventDefault();break;case c:(af.swipeUp&&aM||!aM&&af.allowPageScroll!=s)&&aK.preventDefault();break;case u:(af.swipeDown&&aM||!aM&&af.allowPageScroll!=s)&&aK.preventDefault()}}}function am(){return ak()}function ao(){return!!(af.pinchStatus||af.pinchIn||af.pinchOut)}function ay(){var aK=ap();return ad()&&aK}function ab(){return!!(af.swipe||af.swipeStatus||af.swipeLeft||af.swipeRight||af.swipeUp||af.swipeDown)}function K(){return!!af.click}function av(){aA=B(),aJ=event.touches.length+1}function z(){aA=0,aJ=0}function ae(){var aK=!1;if(aA){B()-aA<=af.fingerReleaseThreshold&&(aK=!0)}return aK}function X(){return!(!0!==H.data(w+"_intouch"))}function aj(aK){!0===aK?(H.bind(U,P),H.bind(au,aa),D&&H.bind(D,W)):(H.unbind(U,P,!1),H.unbind(au,aa,!1),D&&H.unbind(D,W,!1)),H.data(w+"_intouch",!0===aK)}function aI(aL,aK){var aM=void 0!==aK.identifier?aK.identifier:0;return ah[aL].identifier=aM,ah[aL].start.x=ah[aL].end.x=aK.pageX,ah[aL].start.y=ah[aL].end.y=aK.pageY,ah[aL]}function V(aK){var aM=void 0!==aK.identifier?aK.identifier:0,aL=J(aM);return aL.end.x=aK.pageX,aL.end.y=aK.pageY,aL}function J(aL){for(var aK=0;aK<ah.length;aK++)if(ah[aK].identifier==aL)return ah[aK]}function T(){for(var aK=[],aL=0;aL<=5;aL++)aK.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return aK}function L(){return Y-I}function Z(aN,aM){var aL=Math.abs(aN.x-aM.x),aK=Math.abs(aN.y-aM.y);return Math.round(Math.sqrt(aL*aL+aK*aK))}function y(aK,aL){return(aL/aK*1).toFixed(2)}function an(){return ai<1?v:b}function G(aL,aK){return Math.round(Math.sqrt(Math.pow(aK.x-aL.x,2)+Math.pow(aK.y-aL.y,2)))}function F(aN,aL){var aK=aN.x-aL.x,aP=aL.y-aN.y,aM=Math.atan2(aP,aK),aO=Math.round(180*aM/Math.PI);return aO<0&&(aO=360-Math.abs(aO)),aO}function aq(aL,aK){var aM=F(aL,aK);return aM<=45&&aM>=0?n:aM<=360&&aM>=315?n:aM>=135&&aM<=225?m:aM>45&&aM<135?u:c}function B(){return(new Date).getTime()}function at(aK){aK=d(aK);var aM=aK.offset();return{left:aM.left,right:aM.left+aK.outerWidth(),top:aM.top,bottom:aM.top+aK.outerHeight()}}function az(aK,aL){return aK.x>aL.left&&aK.x<aL.right&&aK.y>aL.top&&aK.y<aL.bottom}var aF=a||!af.fallbackToMouseEvents,ax=aF?"touchstart":"mousedown",U=aF?"touchmove":"mousemove",au=aF?"touchend":"mouseup",D=aF?null:"mouseleave",R="touchcancel",ac=0,N=null,ag=0,aB=0,A=0,ai=1,aH=0,H=d(S),O="start",aE=0,ah=null,I=0,Y=0,aA=0,aJ=0;try{H.bind(ax,ar),H.bind(R,M)}catch(aC){d.error("events not supported "+ax+","+R+" on jQuery.swipe")}this.enable=function(){return H.bind(ax,ar),H.bind(R,M),H},this.disable=function(){return Q(),H},this.destroy=function(){return Q(),H.data(w,null),H}}var n="left",m="right",c="up",u="down",b="in",v="out",k="none",q="auto",j="swipe",r="pinch",e="click",x="horizontal",s="vertical",h="all",f="start",i="move",g="end",o="cancel",a="ontouchstart"in window,w="TouchSwipe",l={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};d.fn.swipe=function(A){var z=d(this),y=z.data(w);if(y&&"string"==typeof A){if(y[A])return y[A].apply(this,Array.prototype.slice.call(arguments,1));d.error("Method "+A+" does not exist on jQuery.swipe")}else if(!(y||"object"!=typeof A&&A))return t.apply(this,arguments);return z},d.fn.swipe.defaults=l,d.fn.swipe.phases={PHASE_START:f,PHASE_MOVE:i,PHASE_END:g,PHASE_CANCEL:o},d.fn.swipe.directions={LEFT:n,RIGHT:m,UP:c,DOWN:u,IN:b,OUT:v},d.fn.swipe.pageScroll={NONE:k,HORIZONTAL:x,VERTICAL:s,AUTO:q},d.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:h}}(jQuery)}).call(exports,__webpack_require__(4))},106:function(module,exports,__webpack_require__){!function(product,ve){"use strict";ve.application.module("productModule",[],ve.TEMPLATE.TEMPLATE_RACTIVEJS,{},{i18n:!0})}(window.product=window.product||{},ve),__webpack_require__(107),__webpack_require__(108),__webpack_require__(109),__webpack_require__(110),__webpack_require__(111)},107:function(module,exports,__webpack_require__){var LazyLoading=__webpack_require__(33);ve.application.productModule.bootstrap("productModuleBootstrap",[],function(){this.catalog={relatedProductsTitle:"foj_productpage_related_products_title",moreRelatedProductsLinkTitle:"foj_request_related_products_link"},this.lazyLoading=new LazyLoading,ve.application.injector.setValue("lazyLoading",this.lazyLoading),ve.application.injector.setValue("relatedProductsUrl","/ajax/kwrefsearch/product/{kwrefId}/{companyId}/stand.json")})},108:function(module,exports){ve.application.productModule.model("productModuleModel",[],function(){this.relatedProducts={}})},109:function(module,exports,__webpack_require__){(function($){ve.application.productModule.service("productModuleService",["dispatcher","productModuleModel","relatedProductsUrl"],function(dispatcher,productModuleModel,relatedProductsUrl){this.getRelatedProducts=function(kwrefId,companyId,productLimit){if(0!==$("#related-products:visible").length){var url=relatedProductsUrl.replace("{kwrefId}",kwrefId).replace("{companyId}",companyId);this.adaptor.ajax({type:"GET",url:url}).then(function(data){productModuleModel.relatedProducts=data.content,dispatcher.dispatch("RENDER_RELATED_PRODUCTS_SUCCESS")},function(errorObject){dispatcher.dispatch("RENDER_RELATED_PRODUCTS_ERROR",{name:errorObject.name,jqXHR:errorObject.jqXHR,textStatus:errorObject.textStatus,errorThrown:errorObject.errorThrown})})}},this.trackRelatedProducts=function(){var trackingEvents=ve.application.injector.getValue("trackingEvents"),mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),placementId=$("#related-products").attr("data-placement"),trackingData={pageTypeId:window.ve.getPageTypeId(),elementList:[]};$.each(productModuleModel.relatedProducts.products,function(index,relatedProduct){trackingData.elementList.push({elementTypeId:trackingEvents.ELEMENT_TYPE.product,elementId:relatedProduct.id,companyId:relatedProduct.company.id,displayMode:trackingEvents.DISPLAY_MODE.THUMBNAILS,placementId:placementId})}),dispatcher.dispatch(trackingEvents.TRACK_VIEW_MONGO_DB,{url:mongoTrackingUrl.list,data:JSON.stringify(trackingData)})}},ve.ADAPTOR.REST)}).call(exports,__webpack_require__(4))},110:function(module,exports){ve.application.productModule.controller("productModuleController",["productModuleService"],function(productModuleService){this.commands={RENDER_RELATED_PRODUCTS:function(event){productModuleService.getRelatedProducts(event.params.kwrefId,event.params.companyId,event.params.productLimit)},TRACK_RELATED_PRODUCTS:function(){productModuleService.trackRelatedProducts()}}})},111:function(module,exports,__webpack_require__){(function($){ve.application.productModule.template("productModuleTemplate",["dispatcher","productModuleModel","trackingEvents","lazyLoading"],function(dispatcher,productModuleModel,trackingEvents,lazyLoading){function _renderRelatedProducts(){var $relatedProducts=$("#related-products"),$insetImg=$relatedProducts.find(".inset-img");$insetImg.each(function(){$(this).css("height",$(this).css("width"))}),_crop($insetImg.find("img")),$relatedProducts.css("height","auto")}function _crop($images){$images.length&&$images.each(function(){var tmpImage=new Image;tmpImage.src=$(this).attr("src"),$(tmpImage).data("original",this),$(tmpImage).load(function(){var imageWidth=this.width,imageHeight=this.height,originalImage=$($(this).data("original"));imageWidth>imageHeight?originalImage.addClass("crop-width"):originalImage.addClass("crop-height")})})}var relatedProducts=productModuleModel.relatedProducts,self=this;this.node="#related-products",this.companyId=$(this.node).data("companyid"),this.kwRefId=$(this.node).data("kwrefid"),this.linesCount=$(this.node).data("linescount"),this.scope={relatedProducts:relatedProducts||"",utmTrackingParameters:"utm_source=ProductDetail&utm_medium=Web&utm_content=SimilarProduct&utm_campaign=CA"},this.events={slide:function(targetSelector){return self.engine.plugins.slide.slideToggle(this.event.node,targetSelector),!1}},this.when({name:"oncomplete",callback:function(){this.i18n.promise.then(function(){self.engine.set("relatedProductsTitle",self.i18n.__("relatedProductsTitle")),self.engine.set("moreRelatedProductsLinkTitle",self.i18n.__("moreRelatedProductsLinkTitle"))}),lazyLoading.initialize()}.bind(this)}),this.trackRelatedProducts=function(){dispatcher.dispatch("TRACK_RELATED_PRODUCTS")},dispatcher.dispatch("RENDER_RELATED_PRODUCTS",{kwrefId:self.kwRefId,companyId:self.companyId,productLimit:5*self.linesCount}),dispatcher.addEventListener("RENDER_RELATED_PRODUCTS_SUCCESS",function(event){if(self.engine.set("relatedProducts",productModuleModel.relatedProducts),0===productModuleModel.relatedProducts.products.length)return void $("#related-products").hide();_renderRelatedProducts(),$(window).resize(function(){_renderRelatedProducts()}),!0===HeadGlobalJsVar_statcoReady?self.trackRelatedProducts():$("#eventStatco").bind(HeadGlobalJsVar_statcoReadyEvent,self.trackRelatedProducts)})})}).call(exports,__webpack_require__(4))},112:function(module,exports,__webpack_require__){(function($){var ProductPriceManager=function(companyId,countryId){this.companyId=companyId,this.countryId=countryId,this.availableForGeoloc=!1;var AjaxRequest=__webpack_require__(7);this.ajaxRequest=new AjaxRequest};ProductPriceManager.prototype.init=function(){var self=this;if(null===self.companyId||null===self.countryId)throw new Error("Les paramtres [companyId] et [countryId] sont obligatoires.");self.ajaxRequest.get({url:"/ajax/company/geoloc/available/"+self.companyId+"/"+self.countryId+".json",success:function(datas){200===datas.responseStatus&&(self.isAvailableForGeoloc=datas.content,self.render())}})},ProductPriceManager.prototype.render=function(){var self=this;$(".price").each(function(){!0===self.isAvailableForGeoloc?$(this).show():$(this).hide()})},$(document).ready(function(){var companyId="undefined"==typeof HeadGlobalJsVar_currentCompanyId?null:HeadGlobalJsVar_currentCompanyId,countryId=getCookie("c")||null;null!==countryId&&null!==companyId&&(window.ve.productPriceManager=new ProductPriceManager(companyId,countryId),window.ve.productPriceManager.init())})}).call(exports,__webpack_require__(4))},462:function(module,exports,__webpack_require__){(function($){var LazyLoading=__webpack_require__(33);$(document).ready(function(){if("undefined"!=typeof HeadGlobalJsVar_sourceId){if("#zoom"===window.location.hash){$("#product-picture_"+HeadGlobalJsVar_sourceId+" .icon-zoom-stand").length>0&&$("#product-picture_"+HeadGlobalJsVar_sourceId).click()}var $standRequestButton=$("#stand-request_"+HeadGlobalJsVar_sourceId),$productRequestButtonsContainer=$standRequestButton.find(".product-request-buttons-container"),requestDatas=$productRequestButtonsContainer.data("request"),lazyLoading=new LazyLoading,loadedProduct="loaded-product";new window.ve.request.application($productRequestButtonsContainer[0],requestDatas);var checkgroupProductListCollectionLoad=function(){var groupProductListCollection=$(".group-product-list-detail").not("."+loadedProduct),counter=0;groupProductListCollection.each(function(){if(lazyLoading.isElementInViewPort($(this))||window.isContentAnchor()){var strElementId=$(this).attr("id"),arrElementId=strElementId.split("_"),groupId=arrElementId[1];$("#group-product-list_"+groupId).addClass(loadedProduct);var postParams={groupId:groupId,companyId:HeadGlobalJsVar_currentCompanyId,productId:HeadGlobalJsVar_sourceId},callback=function(datas){counter++,datas.length>0?($("#group-product-list_"+groupId).html(datas),$("#group_"+groupId).show(),$("#group-product-list_"+groupId).show(),setDisplayLogic($("#group-product-list_"+groupId))):($("#group_"+groupId).hide(),$("#group-product-list_"+groupId).hide()),counter>groupProductListCollection.length-1&&(window.loadLastViewedProductDetail(),void 0!==ve.productPriceManager&&(ve.productPriceManager.render(),!0===ve.productPriceManager.isAvailableForGeoloc&&$(".price").length>0&&ve.application.currencyModule.currencyModuleService.initCurrencyRates()))},setDisplayLogic=function(group_list_element){group_list_element.find(".group-product-list-item").on("click",function(){window.ve.setDisplayRow($(this))})},doLoadAjaxProductListUrl=function(){$.ajax({url:HeadGlobalJsVar_ajaxProductListUrl,type:"GET",data:postParams,dataType:"html",success:callback})};$standRequestButton.length>0&&0===$standRequestButton.find(".button-container").length?$standRequestButton.bind("DOMSubtreeModified",function(e){e.target.innerHTML.length>0&&(doLoadAjaxProductListUrl(),$standRequestButton.unbind("DOMSubtreeModified"))}):doLoadAjaxProductListUrl()}})};if(window.isMobileDevice()&&window.matchMedia){window.matchMedia("(orientation: portrait)").addListener(function(m){return $(".product-detail-content-close").trigger("click"),!1})}else $(window).resize(function(){return $(".product-detail-content-close").trigger("click"),!1});$(window).on("scroll resize",function(){checkgroupProductListCollectionLoad()}),checkgroupProductListCollectionLoad()}})}).call(exports,__webpack_require__(4))}});